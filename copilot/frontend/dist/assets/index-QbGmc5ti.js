(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var XX={exports:{}},kA={},ZX={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1=Symbol.for("react.element"),Spe=Symbol.for("react.portal"),Ape=Symbol.for("react.fragment"),Epe=Symbol.for("react.strict_mode"),kpe=Symbol.for("react.profiler"),Cpe=Symbol.for("react.provider"),Ope=Symbol.for("react.context"),Ppe=Symbol.for("react.forward_ref"),$pe=Symbol.for("react.suspense"),Tpe=Symbol.for("react.memo"),Npe=Symbol.for("react.lazy"),L6=Symbol.iterator;function Mpe(e){return e===null||typeof e!="object"?null:(e=L6&&e[L6]||e["@@iterator"],typeof e=="function"?e:null)}var YX={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KX=Object.assign,QX={};function fg(e,t,n){this.props=e,this.context=t,this.refs=QX,this.updater=n||YX}fg.prototype.isReactComponent={};fg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function JX(){}JX.prototype=fg.prototype;function uD(e,t,n){this.props=e,this.context=t,this.refs=QX,this.updater=n||YX}var cD=uD.prototype=new JX;cD.constructor=uD;KX(cD,fg.prototype);cD.isPureReactComponent=!0;var I6=Array.isArray,eZ=Object.prototype.hasOwnProperty,fD={current:null},tZ={key:!0,ref:!0,__self:!0,__source:!0};function nZ(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)eZ.call(t,r)&&!tZ.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:W1,type:e,key:a,ref:o,props:i,_owner:fD.current}}function jpe(e,t){return{$$typeof:W1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dD(e){return typeof e=="object"&&e!==null&&e.$$typeof===W1}function Dpe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var R6=/\/+/g;function xO(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dpe(""+e.key):t.toString(36)}function j_(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case W1:case Spe:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+xO(o,0):r,I6(i)?(n="",e!=null&&(n=e.replace(R6,"$&/")+"/"),j_(i,t,n,"",function(u){return u})):i!=null&&(dD(i)&&(i=jpe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(R6,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",I6(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+xO(a,s);o+=j_(a,t,n,l,i)}else if(l=Mpe(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+xO(a,s++),o+=j_(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gb(e,t,n){if(e==null)return e;var r=[],i=0;return j_(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Fpe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ei={current:null},D_={transition:null},Lpe={ReactCurrentDispatcher:Ei,ReactCurrentBatchConfig:D_,ReactCurrentOwner:fD};function rZ(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:gb,forEach:function(e,t,n){gb(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gb(e,function(){t++}),t},toArray:function(e){return gb(e,function(t){return t})||[]},only:function(e){if(!dD(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=fg;ft.Fragment=Ape;ft.Profiler=kpe;ft.PureComponent=uD;ft.StrictMode=Epe;ft.Suspense=$pe;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lpe;ft.act=rZ;ft.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=KX({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=fD.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)eZ.call(t,l)&&!tZ.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:W1,type:e.type,key:i,ref:a,props:r,_owner:o}};ft.createContext=function(e){return e={$$typeof:Ope,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cpe,_context:e},e.Consumer=e};ft.createElement=nZ;ft.createFactory=function(e){var t=nZ.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:Ppe,render:e}};ft.isValidElement=dD;ft.lazy=function(e){return{$$typeof:Npe,_payload:{_status:-1,_result:e},_init:Fpe}};ft.memo=function(e,t){return{$$typeof:Tpe,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=D_.transition;D_.transition={};try{e()}finally{D_.transition=t}};ft.unstable_act=rZ;ft.useCallback=function(e,t){return Ei.current.useCallback(e,t)};ft.useContext=function(e){return Ei.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return Ei.current.useDeferredValue(e)};ft.useEffect=function(e,t){return Ei.current.useEffect(e,t)};ft.useId=function(){return Ei.current.useId()};ft.useImperativeHandle=function(e,t,n){return Ei.current.useImperativeHandle(e,t,n)};ft.useInsertionEffect=function(e,t){return Ei.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return Ei.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return Ei.current.useMemo(e,t)};ft.useReducer=function(e,t,n){return Ei.current.useReducer(e,t,n)};ft.useRef=function(e){return Ei.current.useRef(e)};ft.useState=function(e){return Ei.current.useState(e)};ft.useSyncExternalStore=function(e,t,n){return Ei.current.useSyncExternalStore(e,t,n)};ft.useTransition=function(){return Ei.current.useTransition()};ft.version="18.3.1";ZX.exports=ft;var X=ZX.exports;const H=kt(X);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ipe=X,Rpe=Symbol.for("react.element"),zpe=Symbol.for("react.fragment"),Bpe=Object.prototype.hasOwnProperty,Upe=Ipe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wpe={key:!0,ref:!0,__self:!0,__source:!0};function iZ(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Bpe.call(t,r)&&!Wpe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Rpe,type:e,key:a,ref:o,props:i,_owner:Upe.current}}kA.Fragment=zpe;kA.jsx=iZ;kA.jsxs=iZ;XX.exports=kA;var _=XX.exports,xT={},aZ={exports:{}},Ta={},oZ={exports:{}},sZ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,G){var M=B.length;B.push(G);e:for(;0<M;){var K=M-1>>>1,Z=B[K];if(0<i(Z,G))B[K]=G,B[M]=Z,M=K;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],M=B.pop();if(M!==G){B[0]=M;e:for(var K=0,Z=B.length,U=Z>>>1;K<U;){var me=2*(K+1)-1,le=B[me],ve=me+1,mt=B[ve];if(0>i(le,M))ve<Z&&0>i(mt,le)?(B[K]=mt,B[ve]=M,K=ve):(B[K]=le,B[me]=M,K=me);else if(ve<Z&&0>i(mt,M))B[K]=mt,B[ve]=M,K=ve;else break e}}return G}function i(B,G){var M=B.sortIndex-G.sortIndex;return M!==0?M:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=B)r(u),G.sortIndex=G.expirationTime,t(l,G);else break;G=n(u)}}function k(B){if(g=!1,S(B),!m)if(n(l)!==null)m=!0,z(A);else{var G=n(u);G!==null&&q(k,G.startTime-B)}}function A(B,G){m=!1,g&&(g=!1,x(P),P=-1),p=!0;var M=d;try{for(S(G),f=n(l);f!==null&&(!(f.expirationTime>G)||B&&!D());){var K=f.callback;if(typeof K=="function"){f.callback=null,d=f.priorityLevel;var Z=K(f.expirationTime<=G);G=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),S(G)}else r(l);f=n(l)}if(f!==null)var U=!0;else{var me=n(u);me!==null&&q(k,me.startTime-G),U=!1}return U}finally{f=null,d=M,p=!1}}var E=!1,C=null,P=-1,T=5,j=-1;function D(){return!(e.unstable_now()-j<T)}function F(){if(C!==null){var B=e.unstable_now();j=B;var G=!0;try{G=C(!0,B)}finally{G?W():(E=!1,C=null)}}else E=!1}var W;if(typeof b=="function")W=function(){b(F)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,N=R.port2;R.port1.onmessage=F,W=function(){N.postMessage(null)}}else W=function(){v(F,0)};function z(B){C=B,E||(E=!0,W())}function q(B,G){P=v(function(){B(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,z(A))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var M=d;d=G;try{return B()}finally{d=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var M=d;d=B;try{return G()}finally{d=M}},e.unstable_scheduleCallback=function(B,G,M){var K=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?K+M:K):M=K,B){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=M+Z,B={id:c++,callback:G,priorityLevel:B,startTime:M,expirationTime:Z,sortIndex:-1},M>K?(B.sortIndex=M,t(u,B),n(l)===null&&B===n(u)&&(g?(x(P),P=-1):g=!0,q(k,M-K))):(B.sortIndex=Z,t(l,B),m||p||(m=!0,z(A))),B},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(B){var G=d;return function(){var M=d;d=G;try{return B.apply(this,arguments)}finally{d=M}}}})(sZ);oZ.exports=sZ;var qpe=oZ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hpe=X,ka=qpe;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lZ=new Set,hv={};function ah(e,t){tm(e,t),tm(e+"Capture",t)}function tm(e,t){for(hv[e]=t,e=0;e<t.length;e++)lZ.add(t[e])}var uu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bT=Object.prototype.hasOwnProperty,Gpe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z6={},B6={};function Vpe(e){return bT.call(B6,e)?!0:bT.call(z6,e)?!1:Gpe.test(e)?B6[e]=!0:(z6[e]=!0,!1)}function Xpe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zpe(e,t,n,r){if(t===null||typeof t>"u"||Xpe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ki(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tr[e]=new ki(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tr[t]=new ki(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tr[e]=new ki(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tr[e]=new ki(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tr[e]=new ki(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tr[e]=new ki(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tr[e]=new ki(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tr[e]=new ki(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tr[e]=new ki(e,5,!1,e.toLowerCase(),null,!1,!1)});var hD=/[\-:]([a-z])/g;function pD(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hD,pD);Tr[t]=new ki(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hD,pD);Tr[t]=new ki(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hD,pD);Tr[t]=new ki(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tr[e]=new ki(e,1,!1,e.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tr[e]=new ki(e,1,!1,e.toLowerCase(),null,!0,!0)});function mD(e,t,n,r){var i=Tr.hasOwnProperty(t)?Tr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zpe(t,n,i,r)&&(n=null),r||i===null?Vpe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _u=Hpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yb=Symbol.for("react.element"),sp=Symbol.for("react.portal"),lp=Symbol.for("react.fragment"),gD=Symbol.for("react.strict_mode"),_T=Symbol.for("react.profiler"),uZ=Symbol.for("react.provider"),cZ=Symbol.for("react.context"),yD=Symbol.for("react.forward_ref"),wT=Symbol.for("react.suspense"),ST=Symbol.for("react.suspense_list"),vD=Symbol.for("react.memo"),Gu=Symbol.for("react.lazy"),fZ=Symbol.for("react.offscreen"),U6=Symbol.iterator;function p0(e){return e===null||typeof e!="object"?null:(e=U6&&e[U6]||e["@@iterator"],typeof e=="function"?e:null)}var bn=Object.assign,bO;function ty(e){if(bO===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bO=t&&t[1]||""}return`
`+bO+e}var _O=!1;function wO(e,t){if(!e||_O)return"";_O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{_O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ty(e):""}function Ype(e){switch(e.tag){case 5:return ty(e.type);case 16:return ty("Lazy");case 13:return ty("Suspense");case 19:return ty("SuspenseList");case 0:case 2:case 15:return e=wO(e.type,!1),e;case 11:return e=wO(e.type.render,!1),e;case 1:return e=wO(e.type,!0),e;default:return""}}function AT(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lp:return"Fragment";case sp:return"Portal";case _T:return"Profiler";case gD:return"StrictMode";case wT:return"Suspense";case ST:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cZ:return(e.displayName||"Context")+".Consumer";case uZ:return(e._context.displayName||"Context")+".Provider";case yD:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vD:return t=e.displayName||null,t!==null?t:AT(e.type)||"Memo";case Gu:t=e._payload,e=e._init;try{return AT(e(t))}catch{}}return null}function Kpe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AT(t);case 8:return t===gD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dZ(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qpe(e){var t=dZ(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vb(e){e._valueTracker||(e._valueTracker=Qpe(e))}function hZ(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dZ(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ww(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ET(e,t){var n=t.checked;return bn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function W6(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pZ(e,t){t=t.checked,t!=null&&mD(e,"checked",t,!1)}function kT(e,t){pZ(e,t);var n=Tc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?CT(e,t.type,n):t.hasOwnProperty("defaultValue")&&CT(e,t.type,Tc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function q6(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function CT(e,t,n){(t!=="number"||ww(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ny=Array.isArray;function Mp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function OT(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return bn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function H6(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(pe(92));if(ny(n)){if(1<n.length)throw Error(pe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tc(n)}}function mZ(e,t){var n=Tc(t.value),r=Tc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function G6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gZ(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function PT(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gZ(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xb,yZ=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xb=xb||document.createElement("div"),xb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ty={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jpe=["Webkit","ms","Moz","O"];Object.keys(Ty).forEach(function(e){Jpe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ty[t]=Ty[e]})});function vZ(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ty.hasOwnProperty(e)&&Ty[e]?(""+t).trim():t+"px"}function xZ(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vZ(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var eme=bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $T(e,t){if(t){if(eme[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function TT(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NT=null;function xD(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var MT=null,jp=null,Dp=null;function V6(e){if(e=G1(e)){if(typeof MT!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=TA(t),MT(e.stateNode,e.type,t))}}function bZ(e){jp?Dp?Dp.push(e):Dp=[e]:jp=e}function _Z(){if(jp){var e=jp,t=Dp;if(Dp=jp=null,V6(e),t)for(e=0;e<t.length;e++)V6(t[e])}}function wZ(e,t){return e(t)}function SZ(){}var SO=!1;function AZ(e,t,n){if(SO)return e(t,n);SO=!0;try{return wZ(e,t,n)}finally{SO=!1,(jp!==null||Dp!==null)&&(SZ(),_Z())}}function mv(e,t){var n=e.stateNode;if(n===null)return null;var r=TA(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(pe(231,t,typeof n));return n}var jT=!1;if(uu)try{var m0={};Object.defineProperty(m0,"passive",{get:function(){jT=!0}}),window.addEventListener("test",m0,m0),window.removeEventListener("test",m0,m0)}catch{jT=!1}function tme(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ny=!1,Sw=null,Aw=!1,DT=null,nme={onError:function(e){Ny=!0,Sw=e}};function rme(e,t,n,r,i,a,o,s,l){Ny=!1,Sw=null,tme.apply(nme,arguments)}function ime(e,t,n,r,i,a,o,s,l){if(rme.apply(this,arguments),Ny){if(Ny){var u=Sw;Ny=!1,Sw=null}else throw Error(pe(198));Aw||(Aw=!0,DT=u)}}function oh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function EZ(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function X6(e){if(oh(e)!==e)throw Error(pe(188))}function ame(e){var t=e.alternate;if(!t){if(t=oh(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return X6(i),e;if(a===r)return X6(i),t;a=a.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?e:t}function kZ(e){return e=ame(e),e!==null?CZ(e):null}function CZ(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=CZ(e);if(t!==null)return t;e=e.sibling}return null}var OZ=ka.unstable_scheduleCallback,Z6=ka.unstable_cancelCallback,ome=ka.unstable_shouldYield,sme=ka.unstable_requestPaint,Pn=ka.unstable_now,lme=ka.unstable_getCurrentPriorityLevel,bD=ka.unstable_ImmediatePriority,PZ=ka.unstable_UserBlockingPriority,Ew=ka.unstable_NormalPriority,ume=ka.unstable_LowPriority,$Z=ka.unstable_IdlePriority,CA=null,Ls=null;function cme(e){if(Ls&&typeof Ls.onCommitFiberRoot=="function")try{Ls.onCommitFiberRoot(CA,e,void 0,(e.current.flags&128)===128)}catch{}}var Ho=Math.clz32?Math.clz32:hme,fme=Math.log,dme=Math.LN2;function hme(e){return e>>>=0,e===0?32:31-(fme(e)/dme|0)|0}var bb=64,_b=4194304;function ry(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=ry(s):(a&=o,a!==0&&(r=ry(a)))}else o=n&~i,o!==0?r=ry(o):a!==0&&(r=ry(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ho(t),i=1<<n,r|=e[n],t&=~i;return r}function pme(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mme(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ho(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=pme(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function FT(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function TZ(){var e=bb;return bb<<=1,!(bb&4194240)&&(bb=64),e}function AO(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function q1(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ho(t),e[t]=n}function gme(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ho(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function _D(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ho(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ft=0;function NZ(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var MZ,wD,jZ,DZ,FZ,LT=!1,wb=[],yc=null,vc=null,xc=null,gv=new Map,yv=new Map,ec=[],yme="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y6(e,t){switch(e){case"focusin":case"focusout":yc=null;break;case"dragenter":case"dragleave":vc=null;break;case"mouseover":case"mouseout":xc=null;break;case"pointerover":case"pointerout":gv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yv.delete(t.pointerId)}}function g0(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=G1(t),t!==null&&wD(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vme(e,t,n,r,i){switch(t){case"focusin":return yc=g0(yc,e,t,n,r,i),!0;case"dragenter":return vc=g0(vc,e,t,n,r,i),!0;case"mouseover":return xc=g0(xc,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return gv.set(a,g0(gv.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,yv.set(a,g0(yv.get(a)||null,e,t,n,r,i)),!0}return!1}function LZ(e){var t=Yf(e.target);if(t!==null){var n=oh(t);if(n!==null){if(t=n.tag,t===13){if(t=EZ(n),t!==null){e.blockedOn=t,FZ(e.priority,function(){jZ(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function F_(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=IT(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);NT=r,n.target.dispatchEvent(r),NT=null}else return t=G1(n),t!==null&&wD(t),e.blockedOn=n,!1;t.shift()}return!0}function K6(e,t,n){F_(e)&&n.delete(t)}function xme(){LT=!1,yc!==null&&F_(yc)&&(yc=null),vc!==null&&F_(vc)&&(vc=null),xc!==null&&F_(xc)&&(xc=null),gv.forEach(K6),yv.forEach(K6)}function y0(e,t){e.blockedOn===t&&(e.blockedOn=null,LT||(LT=!0,ka.unstable_scheduleCallback(ka.unstable_NormalPriority,xme)))}function vv(e){function t(i){return y0(i,e)}if(0<wb.length){y0(wb[0],e);for(var n=1;n<wb.length;n++){var r=wb[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yc!==null&&y0(yc,e),vc!==null&&y0(vc,e),xc!==null&&y0(xc,e),gv.forEach(t),yv.forEach(t),n=0;n<ec.length;n++)r=ec[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ec.length&&(n=ec[0],n.blockedOn===null);)LZ(n),n.blockedOn===null&&ec.shift()}var Fp=_u.ReactCurrentBatchConfig,Cw=!0;function bme(e,t,n,r){var i=Ft,a=Fp.transition;Fp.transition=null;try{Ft=1,SD(e,t,n,r)}finally{Ft=i,Fp.transition=a}}function _me(e,t,n,r){var i=Ft,a=Fp.transition;Fp.transition=null;try{Ft=4,SD(e,t,n,r)}finally{Ft=i,Fp.transition=a}}function SD(e,t,n,r){if(Cw){var i=IT(e,t,n,r);if(i===null)jO(e,t,r,Ow,n),Y6(e,r);else if(vme(i,e,t,n,r))r.stopPropagation();else if(Y6(e,r),t&4&&-1<yme.indexOf(e)){for(;i!==null;){var a=G1(i);if(a!==null&&MZ(a),a=IT(e,t,n,r),a===null&&jO(e,t,r,Ow,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else jO(e,t,r,null,n)}}var Ow=null;function IT(e,t,n,r){if(Ow=null,e=xD(r),e=Yf(e),e!==null)if(t=oh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=EZ(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ow=e,null}function IZ(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lme()){case bD:return 1;case PZ:return 4;case Ew:case ume:return 16;case $Z:return 536870912;default:return 16}default:return 16}}var ic=null,AD=null,L_=null;function RZ(){if(L_)return L_;var e,t=AD,n=t.length,r,i="value"in ic?ic.value:ic.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return L_=i.slice(e,1<r?1-r:void 0)}function I_(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sb(){return!0}function Q6(){return!1}function Na(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sb:Q6,this.isPropagationStopped=Q6,this}return bn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sb)},persist:function(){},isPersistent:Sb}),t}var dg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ED=Na(dg),H1=bn({},dg,{view:0,detail:0}),wme=Na(H1),EO,kO,v0,OA=bn({},H1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kD,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==v0&&(v0&&e.type==="mousemove"?(EO=e.screenX-v0.screenX,kO=e.screenY-v0.screenY):kO=EO=0,v0=e),EO)},movementY:function(e){return"movementY"in e?e.movementY:kO}}),J6=Na(OA),Sme=bn({},OA,{dataTransfer:0}),Ame=Na(Sme),Eme=bn({},H1,{relatedTarget:0}),CO=Na(Eme),kme=bn({},dg,{animationName:0,elapsedTime:0,pseudoElement:0}),Cme=Na(kme),Ome=bn({},dg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pme=Na(Ome),$me=bn({},dg,{data:0}),eB=Na($me),Tme={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nme={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mme={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jme(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mme[e])?!!t[e]:!1}function kD(){return jme}var Dme=bn({},H1,{key:function(e){if(e.key){var t=Tme[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=I_(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nme[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kD,charCode:function(e){return e.type==="keypress"?I_(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?I_(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fme=Na(Dme),Lme=bn({},OA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tB=Na(Lme),Ime=bn({},H1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kD}),Rme=Na(Ime),zme=bn({},dg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bme=Na(zme),Ume=bn({},OA,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wme=Na(Ume),qme=[9,13,27,32],CD=uu&&"CompositionEvent"in window,My=null;uu&&"documentMode"in document&&(My=document.documentMode);var Hme=uu&&"TextEvent"in window&&!My,zZ=uu&&(!CD||My&&8<My&&11>=My),nB=" ",rB=!1;function BZ(e,t){switch(e){case"keyup":return qme.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UZ(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var up=!1;function Gme(e,t){switch(e){case"compositionend":return UZ(t);case"keypress":return t.which!==32?null:(rB=!0,nB);case"textInput":return e=t.data,e===nB&&rB?null:e;default:return null}}function Vme(e,t){if(up)return e==="compositionend"||!CD&&BZ(e,t)?(e=RZ(),L_=AD=ic=null,up=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zZ&&t.locale!=="ko"?null:t.data;default:return null}}var Xme={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xme[e.type]:t==="textarea"}function WZ(e,t,n,r){bZ(r),t=Pw(t,"onChange"),0<t.length&&(n=new ED("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jy=null,xv=null;function Zme(e){eY(e,0)}function PA(e){var t=dp(e);if(hZ(t))return e}function Yme(e,t){if(e==="change")return t}var qZ=!1;if(uu){var OO;if(uu){var PO="oninput"in document;if(!PO){var aB=document.createElement("div");aB.setAttribute("oninput","return;"),PO=typeof aB.oninput=="function"}OO=PO}else OO=!1;qZ=OO&&(!document.documentMode||9<document.documentMode)}function oB(){jy&&(jy.detachEvent("onpropertychange",HZ),xv=jy=null)}function HZ(e){if(e.propertyName==="value"&&PA(xv)){var t=[];WZ(t,xv,e,xD(e)),AZ(Zme,t)}}function Kme(e,t,n){e==="focusin"?(oB(),jy=t,xv=n,jy.attachEvent("onpropertychange",HZ)):e==="focusout"&&oB()}function Qme(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return PA(xv)}function Jme(e,t){if(e==="click")return PA(t)}function ege(e,t){if(e==="input"||e==="change")return PA(t)}function tge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yo=typeof Object.is=="function"?Object.is:tge;function bv(e,t){if(Yo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bT.call(t,i)||!Yo(e[i],t[i]))return!1}return!0}function sB(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lB(e,t){var n=sB(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sB(n)}}function GZ(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?GZ(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function VZ(){for(var e=window,t=ww();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ww(e.document)}return t}function OD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nge(e){var t=VZ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&GZ(n.ownerDocument.documentElement,n)){if(r!==null&&OD(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lB(n,a);var o=lB(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rge=uu&&"documentMode"in document&&11>=document.documentMode,cp=null,RT=null,Dy=null,zT=!1;function uB(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zT||cp==null||cp!==ww(r)||(r=cp,"selectionStart"in r&&OD(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dy&&bv(Dy,r)||(Dy=r,r=Pw(RT,"onSelect"),0<r.length&&(t=new ED("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cp)))}function Ab(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fp={animationend:Ab("Animation","AnimationEnd"),animationiteration:Ab("Animation","AnimationIteration"),animationstart:Ab("Animation","AnimationStart"),transitionend:Ab("Transition","TransitionEnd")},$O={},XZ={};uu&&(XZ=document.createElement("div").style,"AnimationEvent"in window||(delete fp.animationend.animation,delete fp.animationiteration.animation,delete fp.animationstart.animation),"TransitionEvent"in window||delete fp.transitionend.transition);function $A(e){if($O[e])return $O[e];if(!fp[e])return e;var t=fp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in XZ)return $O[e]=t[n];return e}var ZZ=$A("animationend"),YZ=$A("animationiteration"),KZ=$A("animationstart"),QZ=$A("transitionend"),JZ=new Map,cB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xc(e,t){JZ.set(e,t),ah(t,[e])}for(var TO=0;TO<cB.length;TO++){var NO=cB[TO],ige=NO.toLowerCase(),age=NO[0].toUpperCase()+NO.slice(1);Xc(ige,"on"+age)}Xc(ZZ,"onAnimationEnd");Xc(YZ,"onAnimationIteration");Xc(KZ,"onAnimationStart");Xc("dblclick","onDoubleClick");Xc("focusin","onFocus");Xc("focusout","onBlur");Xc(QZ,"onTransitionEnd");tm("onMouseEnter",["mouseout","mouseover"]);tm("onMouseLeave",["mouseout","mouseover"]);tm("onPointerEnter",["pointerout","pointerover"]);tm("onPointerLeave",["pointerout","pointerover"]);ah("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ah("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ah("onBeforeInput",["compositionend","keypress","textInput","paste"]);ah("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ah("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ah("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oge=new Set("cancel close invalid load scroll toggle".split(" ").concat(iy));function fB(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ime(r,t,void 0,e),e.currentTarget=null}function eY(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;fB(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;fB(i,s,u),a=l}}}if(Aw)throw e=DT,Aw=!1,DT=null,e}function en(e,t){var n=t[HT];n===void 0&&(n=t[HT]=new Set);var r=e+"__bubble";n.has(r)||(tY(t,e,2,!1),n.add(r))}function MO(e,t,n){var r=0;t&&(r|=4),tY(n,e,r,t)}var Eb="_reactListening"+Math.random().toString(36).slice(2);function _v(e){if(!e[Eb]){e[Eb]=!0,lZ.forEach(function(n){n!=="selectionchange"&&(oge.has(n)||MO(n,!1,e),MO(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eb]||(t[Eb]=!0,MO("selectionchange",!1,t))}}function tY(e,t,n,r){switch(IZ(t)){case 1:var i=bme;break;case 4:i=_me;break;default:i=SD}n=i.bind(null,t,n,e),i=void 0,!jT||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jO(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Yf(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}AZ(function(){var u=a,c=xD(n),f=[];e:{var d=JZ.get(e);if(d!==void 0){var p=ED,m=e;switch(e){case"keypress":if(I_(n)===0)break e;case"keydown":case"keyup":p=Fme;break;case"focusin":m="focus",p=CO;break;case"focusout":m="blur",p=CO;break;case"beforeblur":case"afterblur":p=CO;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=J6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ame;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Rme;break;case ZZ:case YZ:case KZ:p=Cme;break;case QZ:p=Bme;break;case"scroll":p=wme;break;case"wheel":p=Wme;break;case"copy":case"cut":case"paste":p=Pme;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tB}var g=(t&4)!==0,v=!g&&e==="scroll",x=g?d!==null?d+"Capture":null:d;g=[];for(var b=u,S;b!==null;){S=b;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,x!==null&&(k=mv(b,x),k!=null&&g.push(wv(b,k,S)))),v)break;b=b.return}0<g.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==NT&&(m=n.relatedTarget||n.fromElement)&&(Yf(m)||m[cu]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Yf(m):null,m!==null&&(v=oh(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=J6,k="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=tB,k="onPointerLeave",x="onPointerEnter",b="pointer"),v=p==null?d:dp(p),S=m==null?d:dp(m),d=new g(k,b+"leave",p,n,c),d.target=v,d.relatedTarget=S,k=null,Yf(c)===u&&(g=new g(x,b+"enter",m,n,c),g.target=S,g.relatedTarget=v,k=g),v=k,p&&m)t:{for(g=p,x=m,b=0,S=g;S;S=Bh(S))b++;for(S=0,k=x;k;k=Bh(k))S++;for(;0<b-S;)g=Bh(g),b--;for(;0<S-b;)x=Bh(x),S--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=Bh(g),x=Bh(x)}g=null}else g=null;p!==null&&dB(f,d,p,g,!1),m!==null&&v!==null&&dB(f,v,m,g,!0)}}e:{if(d=u?dp(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var A=Yme;else if(iB(d))if(qZ)A=ege;else{A=Qme;var E=Kme}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(A=Jme);if(A&&(A=A(e,u))){WZ(f,A,n,c);break e}E&&E(e,d,u),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&CT(d,"number",d.value)}switch(E=u?dp(u):window,e){case"focusin":(iB(E)||E.contentEditable==="true")&&(cp=E,RT=u,Dy=null);break;case"focusout":Dy=RT=cp=null;break;case"mousedown":zT=!0;break;case"contextmenu":case"mouseup":case"dragend":zT=!1,uB(f,n,c);break;case"selectionchange":if(rge)break;case"keydown":case"keyup":uB(f,n,c)}var C;if(CD)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else up?BZ(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(zZ&&n.locale!=="ko"&&(up||P!=="onCompositionStart"?P==="onCompositionEnd"&&up&&(C=RZ()):(ic=c,AD="value"in ic?ic.value:ic.textContent,up=!0)),E=Pw(u,P),0<E.length&&(P=new eB(P,e,null,n,c),f.push({event:P,listeners:E}),C?P.data=C:(C=UZ(n),C!==null&&(P.data=C)))),(C=Hme?Gme(e,n):Vme(e,n))&&(u=Pw(u,"onBeforeInput"),0<u.length&&(c=new eB("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=C))}eY(f,t)})}function wv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pw(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=mv(e,n),a!=null&&r.unshift(wv(e,a,i)),a=mv(e,t),a!=null&&r.push(wv(e,a,i))),e=e.return}return r}function Bh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dB(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=mv(n,a),l!=null&&o.unshift(wv(n,l,s))):i||(l=mv(n,a),l!=null&&o.push(wv(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var sge=/\r\n?/g,lge=/\u0000|\uFFFD/g;function hB(e){return(typeof e=="string"?e:""+e).replace(sge,`
`).replace(lge,"")}function kb(e,t,n){if(t=hB(t),hB(e)!==t&&n)throw Error(pe(425))}function $w(){}var BT=null,UT=null;function WT(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qT=typeof setTimeout=="function"?setTimeout:void 0,uge=typeof clearTimeout=="function"?clearTimeout:void 0,pB=typeof Promise=="function"?Promise:void 0,cge=typeof queueMicrotask=="function"?queueMicrotask:typeof pB<"u"?function(e){return pB.resolve(null).then(e).catch(fge)}:qT;function fge(e){setTimeout(function(){throw e})}function DO(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vv(t)}function bc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mB(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hg=Math.random().toString(36).slice(2),Os="__reactFiber$"+hg,Sv="__reactProps$"+hg,cu="__reactContainer$"+hg,HT="__reactEvents$"+hg,dge="__reactListeners$"+hg,hge="__reactHandles$"+hg;function Yf(e){var t=e[Os];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cu]||n[Os]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mB(e);e!==null;){if(n=e[Os])return n;e=mB(e)}return t}e=n,n=e.parentNode}return null}function G1(e){return e=e[Os]||e[cu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function TA(e){return e[Sv]||null}var GT=[],hp=-1;function Zc(e){return{current:e}}function sn(e){0>hp||(e.current=GT[hp],GT[hp]=null,hp--)}function Yt(e,t){hp++,GT[hp]=e.current,e.current=t}var Nc={},Jr=Zc(Nc),Ui=Zc(!1),xd=Nc;function nm(e,t){var n=e.type.contextTypes;if(!n)return Nc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wi(e){return e=e.childContextTypes,e!=null}function Tw(){sn(Ui),sn(Jr)}function gB(e,t,n){if(Jr.current!==Nc)throw Error(pe(168));Yt(Jr,t),Yt(Ui,n)}function nY(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(pe(108,Kpe(e)||"Unknown",i));return bn({},n,r)}function Nw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nc,xd=Jr.current,Yt(Jr,e),Yt(Ui,Ui.current),!0}function yB(e,t,n){var r=e.stateNode;if(!r)throw Error(pe(169));n?(e=nY(e,t,xd),r.__reactInternalMemoizedMergedChildContext=e,sn(Ui),sn(Jr),Yt(Jr,e)):sn(Ui),Yt(Ui,n)}var Ll=null,NA=!1,FO=!1;function rY(e){Ll===null?Ll=[e]:Ll.push(e)}function pge(e){NA=!0,rY(e)}function Yc(){if(!FO&&Ll!==null){FO=!0;var e=0,t=Ft;try{var n=Ll;for(Ft=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ll=null,NA=!1}catch(i){throw Ll!==null&&(Ll=Ll.slice(e+1)),OZ(bD,Yc),i}finally{Ft=t,FO=!1}}return null}var pp=[],mp=0,Mw=null,jw=0,Ha=[],Ga=0,bd=null,ql=1,Hl="";function Ff(e,t){pp[mp++]=jw,pp[mp++]=Mw,Mw=e,jw=t}function iY(e,t,n){Ha[Ga++]=ql,Ha[Ga++]=Hl,Ha[Ga++]=bd,bd=e;var r=ql;e=Hl;var i=32-Ho(r)-1;r&=~(1<<i),n+=1;var a=32-Ho(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ql=1<<32-Ho(t)+i|n<<i|r,Hl=a+e}else ql=1<<a|n<<i|r,Hl=e}function PD(e){e.return!==null&&(Ff(e,1),iY(e,1,0))}function $D(e){for(;e===Mw;)Mw=pp[--mp],pp[mp]=null,jw=pp[--mp],pp[mp]=null;for(;e===bd;)bd=Ha[--Ga],Ha[Ga]=null,Hl=Ha[--Ga],Ha[Ga]=null,ql=Ha[--Ga],Ha[Ga]=null}var ba=null,ga=null,cn=!1,Fo=null;function aY(e,t){var n=Ka(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vB(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ba=e,ga=bc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ba=e,ga=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bd!==null?{id:ql,overflow:Hl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ka(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ba=e,ga=null,!0):!1;default:return!1}}function VT(e){return(e.mode&1)!==0&&(e.flags&128)===0}function XT(e){if(cn){var t=ga;if(t){var n=t;if(!vB(e,t)){if(VT(e))throw Error(pe(418));t=bc(n.nextSibling);var r=ba;t&&vB(e,t)?aY(r,n):(e.flags=e.flags&-4097|2,cn=!1,ba=e)}}else{if(VT(e))throw Error(pe(418));e.flags=e.flags&-4097|2,cn=!1,ba=e}}}function xB(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ba=e}function Cb(e){if(e!==ba)return!1;if(!cn)return xB(e),cn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!WT(e.type,e.memoizedProps)),t&&(t=ga)){if(VT(e))throw oY(),Error(pe(418));for(;t;)aY(e,t),t=bc(t.nextSibling)}if(xB(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ga=bc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ga=null}}else ga=ba?bc(e.stateNode.nextSibling):null;return!0}function oY(){for(var e=ga;e;)e=bc(e.nextSibling)}function rm(){ga=ba=null,cn=!1}function TD(e){Fo===null?Fo=[e]:Fo.push(e)}var mge=_u.ReactCurrentBatchConfig;function x0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,e))}return e}function Ob(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bB(e){var t=e._init;return t(e._payload)}function sY(e){function t(x,b){if(e){var S=x.deletions;S===null?(x.deletions=[b],x.flags|=16):S.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Ac(x,b),x.index=0,x.sibling=null,x}function a(x,b,S){return x.index=S,e?(S=x.alternate,S!==null?(S=S.index,S<b?(x.flags|=2,b):S):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,b,S,k){return b===null||b.tag!==6?(b=WO(S,x.mode,k),b.return=x,b):(b=i(b,S),b.return=x,b)}function l(x,b,S,k){var A=S.type;return A===lp?c(x,b,S.props.children,k,S.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Gu&&bB(A)===b.type)?(k=i(b,S.props),k.ref=x0(x,b,S),k.return=x,k):(k=H_(S.type,S.key,S.props,null,x.mode,k),k.ref=x0(x,b,S),k.return=x,k)}function u(x,b,S,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=qO(S,x.mode,k),b.return=x,b):(b=i(b,S.children||[]),b.return=x,b)}function c(x,b,S,k,A){return b===null||b.tag!==7?(b=od(S,x.mode,k,A),b.return=x,b):(b=i(b,S),b.return=x,b)}function f(x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=WO(""+b,x.mode,S),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yb:return S=H_(b.type,b.key,b.props,null,x.mode,S),S.ref=x0(x,null,b),S.return=x,S;case sp:return b=qO(b,x.mode,S),b.return=x,b;case Gu:var k=b._init;return f(x,k(b._payload),S)}if(ny(b)||p0(b))return b=od(b,x.mode,S,null),b.return=x,b;Ob(x,b)}return null}function d(x,b,S,k){var A=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:s(x,b,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yb:return S.key===A?l(x,b,S,k):null;case sp:return S.key===A?u(x,b,S,k):null;case Gu:return A=S._init,d(x,b,A(S._payload),k)}if(ny(S)||p0(S))return A!==null?null:c(x,b,S,k,null);Ob(x,S)}return null}function p(x,b,S,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(S)||null,s(b,x,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case yb:return x=x.get(k.key===null?S:k.key)||null,l(b,x,k,A);case sp:return x=x.get(k.key===null?S:k.key)||null,u(b,x,k,A);case Gu:var E=k._init;return p(x,b,S,E(k._payload),A)}if(ny(k)||p0(k))return x=x.get(S)||null,c(b,x,k,A,null);Ob(b,k)}return null}function m(x,b,S,k){for(var A=null,E=null,C=b,P=b=0,T=null;C!==null&&P<S.length;P++){C.index>P?(T=C,C=null):T=C.sibling;var j=d(x,C,S[P],k);if(j===null){C===null&&(C=T);break}e&&C&&j.alternate===null&&t(x,C),b=a(j,b,P),E===null?A=j:E.sibling=j,E=j,C=T}if(P===S.length)return n(x,C),cn&&Ff(x,P),A;if(C===null){for(;P<S.length;P++)C=f(x,S[P],k),C!==null&&(b=a(C,b,P),E===null?A=C:E.sibling=C,E=C);return cn&&Ff(x,P),A}for(C=r(x,C);P<S.length;P++)T=p(C,x,P,S[P],k),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?P:T.key),b=a(T,b,P),E===null?A=T:E.sibling=T,E=T);return e&&C.forEach(function(D){return t(x,D)}),cn&&Ff(x,P),A}function g(x,b,S,k){var A=p0(S);if(typeof A!="function")throw Error(pe(150));if(S=A.call(S),S==null)throw Error(pe(151));for(var E=A=null,C=b,P=b=0,T=null,j=S.next();C!==null&&!j.done;P++,j=S.next()){C.index>P?(T=C,C=null):T=C.sibling;var D=d(x,C,j.value,k);if(D===null){C===null&&(C=T);break}e&&C&&D.alternate===null&&t(x,C),b=a(D,b,P),E===null?A=D:E.sibling=D,E=D,C=T}if(j.done)return n(x,C),cn&&Ff(x,P),A;if(C===null){for(;!j.done;P++,j=S.next())j=f(x,j.value,k),j!==null&&(b=a(j,b,P),E===null?A=j:E.sibling=j,E=j);return cn&&Ff(x,P),A}for(C=r(x,C);!j.done;P++,j=S.next())j=p(C,x,P,j.value,k),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?P:j.key),b=a(j,b,P),E===null?A=j:E.sibling=j,E=j);return e&&C.forEach(function(F){return t(x,F)}),cn&&Ff(x,P),A}function v(x,b,S,k){if(typeof S=="object"&&S!==null&&S.type===lp&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case yb:e:{for(var A=S.key,E=b;E!==null;){if(E.key===A){if(A=S.type,A===lp){if(E.tag===7){n(x,E.sibling),b=i(E,S.props.children),b.return=x,x=b;break e}}else if(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Gu&&bB(A)===E.type){n(x,E.sibling),b=i(E,S.props),b.ref=x0(x,E,S),b.return=x,x=b;break e}n(x,E);break}else t(x,E);E=E.sibling}S.type===lp?(b=od(S.props.children,x.mode,k,S.key),b.return=x,x=b):(k=H_(S.type,S.key,S.props,null,x.mode,k),k.ref=x0(x,b,S),k.return=x,x=k)}return o(x);case sp:e:{for(E=S.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(x,b.sibling),b=i(b,S.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=qO(S,x.mode,k),b.return=x,x=b}return o(x);case Gu:return E=S._init,v(x,b,E(S._payload),k)}if(ny(S))return m(x,b,S,k);if(p0(S))return g(x,b,S,k);Ob(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,S),b.return=x,x=b):(n(x,b),b=WO(S,x.mode,k),b.return=x,x=b),o(x)):n(x,b)}return v}var im=sY(!0),lY=sY(!1),Dw=Zc(null),Fw=null,gp=null,ND=null;function MD(){ND=gp=Fw=null}function jD(e){var t=Dw.current;sn(Dw),e._currentValue=t}function ZT(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lp(e,t){Fw=e,ND=gp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zi=!0),e.firstContext=null)}function ao(e){var t=e._currentValue;if(ND!==e)if(e={context:e,memoizedValue:t,next:null},gp===null){if(Fw===null)throw Error(pe(308));gp=e,Fw.dependencies={lanes:0,firstContext:e}}else gp=gp.next=e;return t}var Kf=null;function DD(e){Kf===null?Kf=[e]:Kf.push(e)}function uY(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,DD(t)):(n.next=i.next,i.next=n),t.interleaved=n,fu(e,r)}function fu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vu=!1;function FD(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cY(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _c(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,fu(e,n)}return i=r.interleaved,i===null?(t.next=t,DD(r)):(t.next=i.next,i.next=t),r.interleaved=t,fu(e,n)}function R_(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_D(e,n)}}function _B(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lw(e,t,n,r){var i=e.updateQueue;Vu=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(d=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=bn({},f,d);break e;case 2:Vu=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);wd|=o,e.lanes=o,e.memoizedState=f}}function wB(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var V1={},Is=Zc(V1),Av=Zc(V1),Ev=Zc(V1);function Qf(e){if(e===V1)throw Error(pe(174));return e}function LD(e,t){switch(Yt(Ev,t),Yt(Av,e),Yt(Is,V1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:PT(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=PT(t,e)}sn(Is),Yt(Is,t)}function am(){sn(Is),sn(Av),sn(Ev)}function fY(e){Qf(Ev.current);var t=Qf(Is.current),n=PT(t,e.type);t!==n&&(Yt(Av,e),Yt(Is,n))}function ID(e){Av.current===e&&(sn(Is),sn(Av))}var gn=Zc(0);function Iw(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var LO=[];function RD(){for(var e=0;e<LO.length;e++)LO[e]._workInProgressVersionPrimary=null;LO.length=0}var z_=_u.ReactCurrentDispatcher,IO=_u.ReactCurrentBatchConfig,_d=0,xn=null,Wn=null,nr=null,Rw=!1,Fy=!1,kv=0,gge=0;function jr(){throw Error(pe(321))}function zD(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yo(e[n],t[n]))return!1;return!0}function BD(e,t,n,r,i,a){if(_d=a,xn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z_.current=e===null||e.memoizedState===null?bge:_ge,e=n(r,i),Fy){a=0;do{if(Fy=!1,kv=0,25<=a)throw Error(pe(301));a+=1,nr=Wn=null,t.updateQueue=null,z_.current=wge,e=n(r,i)}while(Fy)}if(z_.current=zw,t=Wn!==null&&Wn.next!==null,_d=0,nr=Wn=xn=null,Rw=!1,t)throw Error(pe(300));return e}function UD(){var e=kv!==0;return kv=0,e}function ws(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?xn.memoizedState=nr=e:nr=nr.next=e,nr}function oo(){if(Wn===null){var e=xn.alternate;e=e!==null?e.memoizedState:null}else e=Wn.next;var t=nr===null?xn.memoizedState:nr.next;if(t!==null)nr=t,Wn=e;else{if(e===null)throw Error(pe(310));Wn=e,e={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},nr===null?xn.memoizedState=nr=e:nr=nr.next=e}return nr}function Cv(e,t){return typeof t=="function"?t(e):t}function RO(e){var t=oo(),n=t.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=e;var r=Wn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((_d&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,xn.lanes|=c,wd|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,Yo(r,t.memoizedState)||(zi=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,xn.lanes|=a,wd|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zO(e){var t=oo(),n=t.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Yo(a,t.memoizedState)||(zi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function dY(){}function hY(e,t){var n=xn,r=oo(),i=t(),a=!Yo(r.memoizedState,i);if(a&&(r.memoizedState=i,zi=!0),r=r.queue,WD(gY.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||nr!==null&&nr.memoizedState.tag&1){if(n.flags|=2048,Ov(9,mY.bind(null,n,r,i,t),void 0,null),fr===null)throw Error(pe(349));_d&30||pY(n,t,i)}return i}function pY(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xn.updateQueue,t===null?(t={lastEffect:null,stores:null},xn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mY(e,t,n,r){t.value=n,t.getSnapshot=r,yY(t)&&vY(e)}function gY(e,t,n){return n(function(){yY(t)&&vY(e)})}function yY(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yo(e,n)}catch{return!0}}function vY(e){var t=fu(e,1);t!==null&&Go(t,e,1,-1)}function SB(e){var t=ws();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cv,lastRenderedState:e},t.queue=e,e=e.dispatch=xge.bind(null,xn,e),[t.memoizedState,e]}function Ov(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xn.updateQueue,t===null?(t={lastEffect:null,stores:null},xn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xY(){return oo().memoizedState}function B_(e,t,n,r){var i=ws();xn.flags|=e,i.memoizedState=Ov(1|t,n,void 0,r===void 0?null:r)}function MA(e,t,n,r){var i=oo();r=r===void 0?null:r;var a=void 0;if(Wn!==null){var o=Wn.memoizedState;if(a=o.destroy,r!==null&&zD(r,o.deps)){i.memoizedState=Ov(t,n,a,r);return}}xn.flags|=e,i.memoizedState=Ov(1|t,n,a,r)}function AB(e,t){return B_(8390656,8,e,t)}function WD(e,t){return MA(2048,8,e,t)}function bY(e,t){return MA(4,2,e,t)}function _Y(e,t){return MA(4,4,e,t)}function wY(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function SY(e,t,n){return n=n!=null?n.concat([e]):null,MA(4,4,wY.bind(null,t,e),n)}function qD(){}function AY(e,t){var n=oo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zD(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function EY(e,t){var n=oo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zD(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function kY(e,t,n){return _d&21?(Yo(n,t)||(n=TZ(),xn.lanes|=n,wd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zi=!0),e.memoizedState=n)}function yge(e,t){var n=Ft;Ft=n!==0&&4>n?n:4,e(!0);var r=IO.transition;IO.transition={};try{e(!1),t()}finally{Ft=n,IO.transition=r}}function CY(){return oo().memoizedState}function vge(e,t,n){var r=Sc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OY(e))PY(t,n);else if(n=uY(e,t,n,r),n!==null){var i=xi();Go(n,e,r,i),$Y(n,t,r)}}function xge(e,t,n){var r=Sc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OY(e))PY(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Yo(s,o)){var l=t.interleaved;l===null?(i.next=i,DD(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=uY(e,t,i,r),n!==null&&(i=xi(),Go(n,e,r,i),$Y(n,t,r))}}function OY(e){var t=e.alternate;return e===xn||t!==null&&t===xn}function PY(e,t){Fy=Rw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $Y(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_D(e,n)}}var zw={readContext:ao,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},bge={readContext:ao,useCallback:function(e,t){return ws().memoizedState=[e,t===void 0?null:t],e},useContext:ao,useEffect:AB,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,B_(4194308,4,wY.bind(null,t,e),n)},useLayoutEffect:function(e,t){return B_(4194308,4,e,t)},useInsertionEffect:function(e,t){return B_(4,2,e,t)},useMemo:function(e,t){var n=ws();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ws();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vge.bind(null,xn,e),[r.memoizedState,e]},useRef:function(e){var t=ws();return e={current:e},t.memoizedState=e},useState:SB,useDebugValue:qD,useDeferredValue:function(e){return ws().memoizedState=e},useTransition:function(){var e=SB(!1),t=e[0];return e=yge.bind(null,e[1]),ws().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xn,i=ws();if(cn){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=t(),fr===null)throw Error(pe(349));_d&30||pY(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,AB(gY.bind(null,r,a,e),[e]),r.flags|=2048,Ov(9,mY.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ws(),t=fr.identifierPrefix;if(cn){var n=Hl,r=ql;n=(r&~(1<<32-Ho(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=kv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gge++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_ge={readContext:ao,useCallback:AY,useContext:ao,useEffect:WD,useImperativeHandle:SY,useInsertionEffect:bY,useLayoutEffect:_Y,useMemo:EY,useReducer:RO,useRef:xY,useState:function(){return RO(Cv)},useDebugValue:qD,useDeferredValue:function(e){var t=oo();return kY(t,Wn.memoizedState,e)},useTransition:function(){var e=RO(Cv)[0],t=oo().memoizedState;return[e,t]},useMutableSource:dY,useSyncExternalStore:hY,useId:CY,unstable_isNewReconciler:!1},wge={readContext:ao,useCallback:AY,useContext:ao,useEffect:WD,useImperativeHandle:SY,useInsertionEffect:bY,useLayoutEffect:_Y,useMemo:EY,useReducer:zO,useRef:xY,useState:function(){return zO(Cv)},useDebugValue:qD,useDeferredValue:function(e){var t=oo();return Wn===null?t.memoizedState=e:kY(t,Wn.memoizedState,e)},useTransition:function(){var e=zO(Cv)[0],t=oo().memoizedState;return[e,t]},useMutableSource:dY,useSyncExternalStore:hY,useId:CY,unstable_isNewReconciler:!1};function $o(e,t){if(e&&e.defaultProps){t=bn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function YT(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:bn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jA={isMounted:function(e){return(e=e._reactInternals)?oh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xi(),i=Sc(e),a=Jl(r,i);a.payload=t,n!=null&&(a.callback=n),t=_c(e,a,i),t!==null&&(Go(t,e,i,r),R_(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xi(),i=Sc(e),a=Jl(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=_c(e,a,i),t!==null&&(Go(t,e,i,r),R_(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xi(),r=Sc(e),i=Jl(n,r);i.tag=2,t!=null&&(i.callback=t),t=_c(e,i,r),t!==null&&(Go(t,e,r,n),R_(t,e,r))}};function EB(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!bv(n,r)||!bv(i,a):!0}function TY(e,t,n){var r=!1,i=Nc,a=t.contextType;return typeof a=="object"&&a!==null?a=ao(a):(i=Wi(t)?xd:Jr.current,r=t.contextTypes,a=(r=r!=null)?nm(e,i):Nc),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jA,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function kB(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jA.enqueueReplaceState(t,t.state,null)}function KT(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},FD(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ao(a):(a=Wi(t)?xd:Jr.current,i.context=nm(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(YT(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jA.enqueueReplaceState(i,i.state,null),Lw(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function om(e,t){try{var n="",r=t;do n+=Ype(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function BO(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function QT(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sge=typeof WeakMap=="function"?WeakMap:Map;function NY(e,t,n){n=Jl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Uw||(Uw=!0,lN=r),QT(e,t)},n}function MY(e,t,n){n=Jl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){QT(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){QT(e,t),typeof r!="function"&&(wc===null?wc=new Set([this]):wc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function CB(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sge;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Lge.bind(null,e,t,n),t.then(e,e))}function OB(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function PB(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jl(-1,1),t.tag=2,_c(n,t,1))),n.lanes|=1),e)}var Age=_u.ReactCurrentOwner,zi=!1;function li(e,t,n,r){t.child=e===null?lY(t,null,n,r):im(t,e.child,n,r)}function $B(e,t,n,r,i){n=n.render;var a=t.ref;return Lp(t,i),r=BD(e,t,n,r,a,i),n=UD(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,du(e,t,i)):(cn&&n&&PD(t),t.flags|=1,li(e,t,r,i),t.child)}function TB(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!QD(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,jY(e,t,a,r,i)):(e=H_(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:bv,n(o,r)&&e.ref===t.ref)return du(e,t,i)}return t.flags|=1,e=Ac(a,r),e.ref=t.ref,e.return=t,t.child=e}function jY(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(bv(a,r)&&e.ref===t.ref)if(zi=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(zi=!0);else return t.lanes=e.lanes,du(e,t,i)}return JT(e,t,n,r,i)}function DY(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(vp,ua),ua|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yt(vp,ua),ua|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Yt(vp,ua),ua|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Yt(vp,ua),ua|=r;return li(e,t,i,n),t.child}function FY(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function JT(e,t,n,r,i){var a=Wi(n)?xd:Jr.current;return a=nm(t,a),Lp(t,i),n=BD(e,t,n,r,a,i),r=UD(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,du(e,t,i)):(cn&&r&&PD(t),t.flags|=1,li(e,t,n,i),t.child)}function NB(e,t,n,r,i){if(Wi(n)){var a=!0;Nw(t)}else a=!1;if(Lp(t,i),t.stateNode===null)U_(e,t),TY(t,n,r),KT(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ao(u):(u=Wi(n)?xd:Jr.current,u=nm(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&kB(t,o,r,u),Vu=!1;var d=t.memoizedState;o.state=d,Lw(t,r,o,i),l=t.memoizedState,s!==r||d!==l||Ui.current||Vu?(typeof c=="function"&&(YT(t,n,c,r),l=t.memoizedState),(s=Vu||EB(t,n,s,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,cY(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:$o(t.type,s),o.props=u,f=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ao(l):(l=Wi(n)?xd:Jr.current,l=nm(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||d!==l)&&kB(t,o,r,l),Vu=!1,d=t.memoizedState,o.state=d,Lw(t,r,o,i);var m=t.memoizedState;s!==f||d!==m||Ui.current||Vu?(typeof p=="function"&&(YT(t,n,p,r),m=t.memoizedState),(u=Vu||EB(t,n,u,r,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return eN(e,t,n,r,a,i)}function eN(e,t,n,r,i,a){FY(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&yB(t,n,!1),du(e,t,a);r=t.stateNode,Age.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=im(t,e.child,null,a),t.child=im(t,null,s,a)):li(e,t,s,a),t.memoizedState=r.state,i&&yB(t,n,!0),t.child}function LY(e){var t=e.stateNode;t.pendingContext?gB(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gB(e,t.context,!1),LD(e,t.containerInfo)}function MB(e,t,n,r,i){return rm(),TD(i),t.flags|=256,li(e,t,n,r),t.child}var tN={dehydrated:null,treeContext:null,retryLane:0};function nN(e){return{baseLanes:e,cachePool:null,transitions:null}}function IY(e,t,n){var r=t.pendingProps,i=gn.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Yt(gn,i&1),e===null)return XT(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=LA(o,r,0,null),e=od(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=nN(n),t.memoizedState=tN,e):HD(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Ege(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ac(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Ac(s,a):(a=od(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?nN(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=tN,r}return a=e.child,e=a.sibling,r=Ac(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function HD(e,t){return t=LA({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pb(e,t,n,r){return r!==null&&TD(r),im(t,e.child,null,n),e=HD(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ege(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=BO(Error(pe(422))),Pb(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=LA({mode:"visible",children:r.children},i,0,null),a=od(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&im(t,e.child,null,o),t.child.memoizedState=nN(o),t.memoizedState=tN,a);if(!(t.mode&1))return Pb(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(pe(419)),r=BO(a,r,void 0),Pb(e,t,o,r)}if(s=(o&e.childLanes)!==0,zi||s){if(r=fr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,fu(e,i),Go(r,e,i,-1))}return KD(),r=BO(Error(pe(421))),Pb(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ige.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ga=bc(i.nextSibling),ba=t,cn=!0,Fo=null,e!==null&&(Ha[Ga++]=ql,Ha[Ga++]=Hl,Ha[Ga++]=bd,ql=e.id,Hl=e.overflow,bd=t),t=HD(t,r.children),t.flags|=4096,t)}function jB(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ZT(e.return,t,n)}function UO(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function RY(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(li(e,t,r.children,n),r=gn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jB(e,n,t);else if(e.tag===19)jB(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Yt(gn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Iw(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),UO(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Iw(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}UO(t,!0,n,null,a);break;case"together":UO(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function U_(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function du(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,n=Ac(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ac(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kge(e,t,n){switch(t.tag){case 3:LY(t),rm();break;case 5:fY(t);break;case 1:Wi(t.type)&&Nw(t);break;case 4:LD(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Yt(Dw,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Yt(gn,gn.current&1),t.flags|=128,null):n&t.child.childLanes?IY(e,t,n):(Yt(gn,gn.current&1),e=du(e,t,n),e!==null?e.sibling:null);Yt(gn,gn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return RY(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yt(gn,gn.current),r)break;return null;case 22:case 23:return t.lanes=0,DY(e,t,n)}return du(e,t,n)}var zY,rN,BY,UY;zY=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rN=function(){};BY=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qf(Is.current);var a=null;switch(n){case"input":i=ET(e,i),r=ET(e,r),a=[];break;case"select":i=bn({},i,{value:void 0}),r=bn({},r,{value:void 0}),a=[];break;case"textarea":i=OT(e,i),r=OT(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$w)}$T(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hv.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hv.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&en("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};UY=function(e,t,n,r){n!==r&&(t.flags|=4)};function b0(e,t){if(!cn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cge(e,t,n){var r=t.pendingProps;switch($D(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(t),null;case 1:return Wi(t.type)&&Tw(),Dr(t),null;case 3:return r=t.stateNode,am(),sn(Ui),sn(Jr),RD(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fo!==null&&(fN(Fo),Fo=null))),rN(e,t),Dr(t),null;case 5:ID(t);var i=Qf(Ev.current);if(n=t.type,e!==null&&t.stateNode!=null)BY(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(pe(166));return Dr(t),null}if(e=Qf(Is.current),Cb(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Os]=t,r[Sv]=a,e=(t.mode&1)!==0,n){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(i=0;i<iy.length;i++)en(iy[i],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":W6(r,a),en("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},en("invalid",r);break;case"textarea":H6(r,a),en("invalid",r)}$T(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&kb(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&kb(r.textContent,s,e),i=["children",""+s]):hv.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&en("scroll",r)}switch(n){case"input":vb(r),q6(r,a,!0);break;case"textarea":vb(r),G6(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=$w)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gZ(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Os]=t,e[Sv]=r,zY(e,t,!1,!1),t.stateNode=e;e:{switch(o=TT(n,r),n){case"dialog":en("cancel",e),en("close",e),i=r;break;case"iframe":case"object":case"embed":en("load",e),i=r;break;case"video":case"audio":for(i=0;i<iy.length;i++)en(iy[i],e);i=r;break;case"source":en("error",e),i=r;break;case"img":case"image":case"link":en("error",e),en("load",e),i=r;break;case"details":en("toggle",e),i=r;break;case"input":W6(e,r),i=ET(e,r),en("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=bn({},r,{value:void 0}),en("invalid",e);break;case"textarea":H6(e,r),i=OT(e,r),en("invalid",e);break;default:i=r}$T(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?xZ(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yZ(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&pv(e,l):typeof l=="number"&&pv(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(hv.hasOwnProperty(a)?l!=null&&a==="onScroll"&&en("scroll",e):l!=null&&mD(e,a,l,o))}switch(n){case"input":vb(e),q6(e,r,!1);break;case"textarea":vb(e),G6(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tc(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Mp(e,!!r.multiple,a,!1):r.defaultValue!=null&&Mp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=$w)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dr(t),null;case 6:if(e&&t.stateNode!=null)UY(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(pe(166));if(n=Qf(Ev.current),Qf(Is.current),Cb(t)){if(r=t.stateNode,n=t.memoizedProps,r[Os]=t,(a=r.nodeValue!==n)&&(e=ba,e!==null))switch(e.tag){case 3:kb(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kb(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Os]=t,t.stateNode=r}return Dr(t),null;case 13:if(sn(gn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(cn&&ga!==null&&t.mode&1&&!(t.flags&128))oY(),rm(),t.flags|=98560,a=!1;else if(a=Cb(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(pe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(pe(317));a[Os]=t}else rm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dr(t),a=!1}else Fo!==null&&(fN(Fo),Fo=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||gn.current&1?Vn===0&&(Vn=3):KD())),t.updateQueue!==null&&(t.flags|=4),Dr(t),null);case 4:return am(),rN(e,t),e===null&&_v(t.stateNode.containerInfo),Dr(t),null;case 10:return jD(t.type._context),Dr(t),null;case 17:return Wi(t.type)&&Tw(),Dr(t),null;case 19:if(sn(gn),a=t.memoizedState,a===null)return Dr(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)b0(a,!1);else{if(Vn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Iw(e),o!==null){for(t.flags|=128,b0(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yt(gn,gn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Pn()>sm&&(t.flags|=128,r=!0,b0(a,!1),t.lanes=4194304)}else{if(!r)if(e=Iw(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),b0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!cn)return Dr(t),null}else 2*Pn()-a.renderingStartTime>sm&&n!==1073741824&&(t.flags|=128,r=!0,b0(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Pn(),t.sibling=null,n=gn.current,Yt(gn,r?n&1|2:n&1),t):(Dr(t),null);case 22:case 23:return YD(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ua&1073741824&&(Dr(t),t.subtreeFlags&6&&(t.flags|=8192)):Dr(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function Oge(e,t){switch($D(t),t.tag){case 1:return Wi(t.type)&&Tw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return am(),sn(Ui),sn(Jr),RD(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ID(t),null;case 13:if(sn(gn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));rm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sn(gn),null;case 4:return am(),null;case 10:return jD(t.type._context),null;case 22:case 23:return YD(),null;case 24:return null;default:return null}}var $b=!1,Ur=!1,Pge=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function yp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Sn(e,t,r)}else n.current=null}function iN(e,t,n){try{n()}catch(r){Sn(e,t,r)}}var DB=!1;function $ge(e,t){if(BT=Cw,e=VZ(),OD(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=o),d===a&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(UT={focusedElem:e,selectionRange:n},Cw=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:$o(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(k){Sn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return m=DB,DB=!1,m}function Ly(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&iN(t,n,a)}i=i.next}while(i!==r)}}function DA(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function aN(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function WY(e){var t=e.alternate;t!==null&&(e.alternate=null,WY(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Os],delete t[Sv],delete t[HT],delete t[dge],delete t[hge])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qY(e){return e.tag===5||e.tag===3||e.tag===4}function FB(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qY(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$w));else if(r!==4&&(e=e.child,e!==null))for(oN(e,t,n),e=e.sibling;e!==null;)oN(e,t,n),e=e.sibling}function sN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(sN(e,t,n),e=e.sibling;e!==null;)sN(e,t,n),e=e.sibling}var xr=null,To=!1;function Ru(e,t,n){for(n=n.child;n!==null;)HY(e,t,n),n=n.sibling}function HY(e,t,n){if(Ls&&typeof Ls.onCommitFiberUnmount=="function")try{Ls.onCommitFiberUnmount(CA,n)}catch{}switch(n.tag){case 5:Ur||yp(n,t);case 6:var r=xr,i=To;xr=null,Ru(e,t,n),xr=r,To=i,xr!==null&&(To?(e=xr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xr.removeChild(n.stateNode));break;case 18:xr!==null&&(To?(e=xr,n=n.stateNode,e.nodeType===8?DO(e.parentNode,n):e.nodeType===1&&DO(e,n),vv(e)):DO(xr,n.stateNode));break;case 4:r=xr,i=To,xr=n.stateNode.containerInfo,To=!0,Ru(e,t,n),xr=r,To=i;break;case 0:case 11:case 14:case 15:if(!Ur&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&iN(n,t,o),i=i.next}while(i!==r)}Ru(e,t,n);break;case 1:if(!Ur&&(yp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sn(n,t,s)}Ru(e,t,n);break;case 21:Ru(e,t,n);break;case 22:n.mode&1?(Ur=(r=Ur)||n.memoizedState!==null,Ru(e,t,n),Ur=r):Ru(e,t,n);break;default:Ru(e,t,n)}}function LB(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Pge),t.forEach(function(r){var i=Rge.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Eo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:xr=s.stateNode,To=!1;break e;case 3:xr=s.stateNode.containerInfo,To=!0;break e;case 4:xr=s.stateNode.containerInfo,To=!0;break e}s=s.return}if(xr===null)throw Error(pe(160));HY(a,o,i),xr=null,To=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Sn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GY(t,e),t=t.sibling}function GY(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Eo(t,e),xs(e),r&4){try{Ly(3,e,e.return),DA(3,e)}catch(g){Sn(e,e.return,g)}try{Ly(5,e,e.return)}catch(g){Sn(e,e.return,g)}}break;case 1:Eo(t,e),xs(e),r&512&&n!==null&&yp(n,n.return);break;case 5:if(Eo(t,e),xs(e),r&512&&n!==null&&yp(n,n.return),e.flags&32){var i=e.stateNode;try{pv(i,"")}catch(g){Sn(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&pZ(i,a),TT(s,o);var u=TT(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?xZ(i,f):c==="dangerouslySetInnerHTML"?yZ(i,f):c==="children"?pv(i,f):mD(i,c,f,u)}switch(s){case"input":kT(i,a);break;case"textarea":mZ(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Mp(i,!!a.multiple,p,!1):d!==!!a.multiple&&(a.defaultValue!=null?Mp(i,!!a.multiple,a.defaultValue,!0):Mp(i,!!a.multiple,a.multiple?[]:"",!1))}i[Sv]=a}catch(g){Sn(e,e.return,g)}}break;case 6:if(Eo(t,e),xs(e),r&4){if(e.stateNode===null)throw Error(pe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sn(e,e.return,g)}}break;case 3:if(Eo(t,e),xs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vv(t.containerInfo)}catch(g){Sn(e,e.return,g)}break;case 4:Eo(t,e),xs(e);break;case 13:Eo(t,e),xs(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(XD=Pn())),r&4&&LB(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ur=(u=Ur)||c,Eo(t,e),Ur=u):Eo(t,e),xs(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Pe=e,c=e.child;c!==null;){for(f=Pe=c;Pe!==null;){switch(d=Pe,p=d.child,d.tag){case 0:case 11:case 14:case 15:Ly(4,d,d.return);break;case 1:yp(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sn(r,n,g)}}break;case 5:yp(d,d.return);break;case 22:if(d.memoizedState!==null){RB(f);continue}}p!==null?(p.return=d,Pe=p):RB(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=vZ("display",o))}catch(g){Sn(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Sn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Eo(t,e),xs(e),r&4&&LB(e);break;case 21:break;default:Eo(t,e),xs(e)}}function xs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qY(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pv(i,""),r.flags&=-33);var a=FB(e);sN(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=FB(e);oN(e,s,o);break;default:throw Error(pe(161))}}catch(l){Sn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tge(e,t,n){Pe=e,VY(e)}function VY(e,t,n){for(var r=(e.mode&1)!==0;Pe!==null;){var i=Pe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$b;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ur;s=$b;var u=Ur;if($b=o,(Ur=l)&&!u)for(Pe=i;Pe!==null;)o=Pe,l=o.child,o.tag===22&&o.memoizedState!==null?zB(i):l!==null?(l.return=o,Pe=l):zB(i);for(;a!==null;)Pe=a,VY(a),a=a.sibling;Pe=i,$b=s,Ur=u}IB(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Pe=a):IB(e)}}function IB(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ur||DA(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ur)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:$o(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&wB(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wB(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&vv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Ur||t.flags&512&&aN(t)}catch(d){Sn(t,t.return,d)}}if(t===e){Pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function RB(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function zB(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{DA(4,t)}catch(l){Sn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Sn(t,i,l)}}var a=t.return;try{aN(t)}catch(l){Sn(t,a,l)}break;case 5:var o=t.return;try{aN(t)}catch(l){Sn(t,o,l)}}}catch(l){Sn(t,t.return,l)}if(t===e){Pe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Pe=s;break}Pe=t.return}}var Nge=Math.ceil,Bw=_u.ReactCurrentDispatcher,GD=_u.ReactCurrentOwner,no=_u.ReactCurrentBatchConfig,xt=0,fr=null,In=null,Or=0,ua=0,vp=Zc(0),Vn=0,Pv=null,wd=0,FA=0,VD=0,Iy=null,Fi=null,XD=0,sm=1/0,Ml=null,Uw=!1,lN=null,wc=null,Tb=!1,ac=null,Ww=0,Ry=0,uN=null,W_=-1,q_=0;function xi(){return xt&6?Pn():W_!==-1?W_:W_=Pn()}function Sc(e){return e.mode&1?xt&2&&Or!==0?Or&-Or:mge.transition!==null?(q_===0&&(q_=TZ()),q_):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:IZ(e.type)),e):1}function Go(e,t,n,r){if(50<Ry)throw Ry=0,uN=null,Error(pe(185));q1(e,n,r),(!(xt&2)||e!==fr)&&(e===fr&&(!(xt&2)&&(FA|=n),Vn===4&&tc(e,Or)),qi(e,r),n===1&&xt===0&&!(t.mode&1)&&(sm=Pn()+500,NA&&Yc()))}function qi(e,t){var n=e.callbackNode;mme(e,t);var r=kw(e,e===fr?Or:0);if(r===0)n!==null&&Z6(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Z6(n),t===1)e.tag===0?pge(BB.bind(null,e)):rY(BB.bind(null,e)),cge(function(){!(xt&6)&&Yc()}),n=null;else{switch(NZ(r)){case 1:n=bD;break;case 4:n=PZ;break;case 16:n=Ew;break;case 536870912:n=$Z;break;default:n=Ew}n=tK(n,XY.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function XY(e,t){if(W_=-1,q_=0,xt&6)throw Error(pe(327));var n=e.callbackNode;if(Ip()&&e.callbackNode!==n)return null;var r=kw(e,e===fr?Or:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qw(e,r);else{t=r;var i=xt;xt|=2;var a=YY();(fr!==e||Or!==t)&&(Ml=null,sm=Pn()+500,ad(e,t));do try{Dge();break}catch(s){ZY(e,s)}while(!0);MD(),Bw.current=a,xt=i,In!==null?t=0:(fr=null,Or=0,t=Vn)}if(t!==0){if(t===2&&(i=FT(e),i!==0&&(r=i,t=cN(e,i))),t===1)throw n=Pv,ad(e,0),tc(e,r),qi(e,Pn()),n;if(t===6)tc(e,r);else{if(i=e.current.alternate,!(r&30)&&!Mge(i)&&(t=qw(e,r),t===2&&(a=FT(e),a!==0&&(r=a,t=cN(e,a))),t===1))throw n=Pv,ad(e,0),tc(e,r),qi(e,Pn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(pe(345));case 2:Lf(e,Fi,Ml);break;case 3:if(tc(e,r),(r&130023424)===r&&(t=XD+500-Pn(),10<t)){if(kw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){xi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qT(Lf.bind(null,e,Fi,Ml),t);break}Lf(e,Fi,Ml);break;case 4:if(tc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ho(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nge(r/1960))-r,10<r){e.timeoutHandle=qT(Lf.bind(null,e,Fi,Ml),r);break}Lf(e,Fi,Ml);break;case 5:Lf(e,Fi,Ml);break;default:throw Error(pe(329))}}}return qi(e,Pn()),e.callbackNode===n?XY.bind(null,e):null}function cN(e,t){var n=Iy;return e.current.memoizedState.isDehydrated&&(ad(e,t).flags|=256),e=qw(e,t),e!==2&&(t=Fi,Fi=n,t!==null&&fN(t)),e}function fN(e){Fi===null?Fi=e:Fi.push.apply(Fi,e)}function Mge(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Yo(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tc(e,t){for(t&=~VD,t&=~FA,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ho(t),r=1<<n;e[n]=-1,t&=~r}}function BB(e){if(xt&6)throw Error(pe(327));Ip();var t=kw(e,0);if(!(t&1))return qi(e,Pn()),null;var n=qw(e,t);if(e.tag!==0&&n===2){var r=FT(e);r!==0&&(t=r,n=cN(e,r))}if(n===1)throw n=Pv,ad(e,0),tc(e,t),qi(e,Pn()),n;if(n===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lf(e,Fi,Ml),qi(e,Pn()),null}function ZD(e,t){var n=xt;xt|=1;try{return e(t)}finally{xt=n,xt===0&&(sm=Pn()+500,NA&&Yc())}}function Sd(e){ac!==null&&ac.tag===0&&!(xt&6)&&Ip();var t=xt;xt|=1;var n=no.transition,r=Ft;try{if(no.transition=null,Ft=1,e)return e()}finally{Ft=r,no.transition=n,xt=t,!(xt&6)&&Yc()}}function YD(){ua=vp.current,sn(vp)}function ad(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uge(n)),In!==null)for(n=In.return;n!==null;){var r=n;switch($D(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tw();break;case 3:am(),sn(Ui),sn(Jr),RD();break;case 5:ID(r);break;case 4:am();break;case 13:sn(gn);break;case 19:sn(gn);break;case 10:jD(r.type._context);break;case 22:case 23:YD()}n=n.return}if(fr=e,In=e=Ac(e.current,null),Or=ua=t,Vn=0,Pv=null,VD=FA=wd=0,Fi=Iy=null,Kf!==null){for(t=0;t<Kf.length;t++)if(n=Kf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Kf=null}return e}function ZY(e,t){do{var n=In;try{if(MD(),z_.current=zw,Rw){for(var r=xn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rw=!1}if(_d=0,nr=Wn=xn=null,Fy=!1,kv=0,GD.current=null,n===null||n.return===null){Vn=1,Pv=t,In=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Or,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=OB(o);if(p!==null){p.flags&=-257,PB(p,o,s,a,t),p.mode&1&&CB(a,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){CB(a,u,t),KD();break e}l=Error(pe(426))}}else if(cn&&s.mode&1){var v=OB(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),PB(v,o,s,a,t),TD(om(l,s));break e}}a=l=om(l,s),Vn!==4&&(Vn=2),Iy===null?Iy=[a]:Iy.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=NY(a,l,t);_B(a,x);break e;case 1:s=l;var b=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(wc===null||!wc.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=MY(a,s,t);_B(a,k);break e}}a=a.return}while(a!==null)}QY(n)}catch(A){t=A,In===n&&n!==null&&(In=n=n.return);continue}break}while(!0)}function YY(){var e=Bw.current;return Bw.current=zw,e===null?zw:e}function KD(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),fr===null||!(wd&268435455)&&!(FA&268435455)||tc(fr,Or)}function qw(e,t){var n=xt;xt|=2;var r=YY();(fr!==e||Or!==t)&&(Ml=null,ad(e,t));do try{jge();break}catch(i){ZY(e,i)}while(!0);if(MD(),xt=n,Bw.current=r,In!==null)throw Error(pe(261));return fr=null,Or=0,Vn}function jge(){for(;In!==null;)KY(In)}function Dge(){for(;In!==null&&!ome();)KY(In)}function KY(e){var t=eK(e.alternate,e,ua);e.memoizedProps=e.pendingProps,t===null?QY(e):In=t,GD.current=null}function QY(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Oge(n,t),n!==null){n.flags&=32767,In=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vn=6,In=null;return}}else if(n=Cge(n,t,ua),n!==null){In=n;return}if(t=t.sibling,t!==null){In=t;return}In=t=e}while(t!==null);Vn===0&&(Vn=5)}function Lf(e,t,n){var r=Ft,i=no.transition;try{no.transition=null,Ft=1,Fge(e,t,n,r)}finally{no.transition=i,Ft=r}return null}function Fge(e,t,n,r){do Ip();while(ac!==null);if(xt&6)throw Error(pe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(gme(e,a),e===fr&&(In=fr=null,Or=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tb||(Tb=!0,tK(Ew,function(){return Ip(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=no.transition,no.transition=null;var o=Ft;Ft=1;var s=xt;xt|=4,GD.current=null,$ge(e,n),GY(n,e),nge(UT),Cw=!!BT,UT=BT=null,e.current=n,Tge(n),sme(),xt=s,Ft=o,no.transition=a}else e.current=n;if(Tb&&(Tb=!1,ac=e,Ww=i),a=e.pendingLanes,a===0&&(wc=null),cme(n.stateNode),qi(e,Pn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Uw)throw Uw=!1,e=lN,lN=null,e;return Ww&1&&e.tag!==0&&Ip(),a=e.pendingLanes,a&1?e===uN?Ry++:(Ry=0,uN=e):Ry=0,Yc(),null}function Ip(){if(ac!==null){var e=NZ(Ww),t=no.transition,n=Ft;try{if(no.transition=null,Ft=16>e?16:e,ac===null)var r=!1;else{if(e=ac,ac=null,Ww=0,xt&6)throw Error(pe(331));var i=xt;for(xt|=4,Pe=e.current;Pe!==null;){var a=Pe,o=a.child;if(Pe.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Pe=u;Pe!==null;){var c=Pe;switch(c.tag){case 0:case 11:case 15:Ly(8,c,a)}var f=c.child;if(f!==null)f.return=c,Pe=f;else for(;Pe!==null;){c=Pe;var d=c.sibling,p=c.return;if(WY(c),c===u){Pe=null;break}if(d!==null){d.return=p,Pe=d;break}Pe=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Pe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Pe=o;else e:for(;Pe!==null;){if(a=Pe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ly(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Pe=x;break e}Pe=a.return}}var b=e.current;for(Pe=b;Pe!==null;){o=Pe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Pe=S;else e:for(o=b;Pe!==null;){if(s=Pe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:DA(9,s)}}catch(A){Sn(s,s.return,A)}if(s===o){Pe=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,Pe=k;break e}Pe=s.return}}if(xt=i,Yc(),Ls&&typeof Ls.onPostCommitFiberRoot=="function")try{Ls.onPostCommitFiberRoot(CA,e)}catch{}r=!0}return r}finally{Ft=n,no.transition=t}}return!1}function UB(e,t,n){t=om(n,t),t=NY(e,t,1),e=_c(e,t,1),t=xi(),e!==null&&(q1(e,1,t),qi(e,t))}function Sn(e,t,n){if(e.tag===3)UB(e,e,n);else for(;t!==null;){if(t.tag===3){UB(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wc===null||!wc.has(r))){e=om(n,e),e=MY(t,e,1),t=_c(t,e,1),e=xi(),t!==null&&(q1(t,1,e),qi(t,e));break}}t=t.return}}function Lge(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xi(),e.pingedLanes|=e.suspendedLanes&n,fr===e&&(Or&n)===n&&(Vn===4||Vn===3&&(Or&130023424)===Or&&500>Pn()-XD?ad(e,0):VD|=n),qi(e,t)}function JY(e,t){t===0&&(e.mode&1?(t=_b,_b<<=1,!(_b&130023424)&&(_b=4194304)):t=1);var n=xi();e=fu(e,t),e!==null&&(q1(e,t,n),qi(e,n))}function Ige(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),JY(e,n)}function Rge(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(t),JY(e,n)}var eK;eK=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ui.current)zi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zi=!1,kge(e,t,n);zi=!!(e.flags&131072)}else zi=!1,cn&&t.flags&1048576&&iY(t,jw,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;U_(e,t),e=t.pendingProps;var i=nm(t,Jr.current);Lp(t,n),i=BD(null,t,r,e,i,n);var a=UD();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wi(r)?(a=!0,Nw(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,FD(t),i.updater=jA,t.stateNode=i,i._reactInternals=t,KT(t,r,e,n),t=eN(null,t,r,!0,a,n)):(t.tag=0,cn&&a&&PD(t),li(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(U_(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Bge(r),e=$o(r,e),i){case 0:t=JT(null,t,r,e,n);break e;case 1:t=NB(null,t,r,e,n);break e;case 11:t=$B(null,t,r,e,n);break e;case 14:t=TB(null,t,r,$o(r.type,e),n);break e}throw Error(pe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$o(r,i),JT(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$o(r,i),NB(e,t,r,i,n);case 3:e:{if(LY(t),e===null)throw Error(pe(387));r=t.pendingProps,a=t.memoizedState,i=a.element,cY(e,t),Lw(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=om(Error(pe(423)),t),t=MB(e,t,r,n,i);break e}else if(r!==i){i=om(Error(pe(424)),t),t=MB(e,t,r,n,i);break e}else for(ga=bc(t.stateNode.containerInfo.firstChild),ba=t,cn=!0,Fo=null,n=lY(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rm(),r===i){t=du(e,t,n);break e}li(e,t,r,n)}t=t.child}return t;case 5:return fY(t),e===null&&XT(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,WT(r,i)?o=null:a!==null&&WT(r,a)&&(t.flags|=32),FY(e,t),li(e,t,o,n),t.child;case 6:return e===null&&XT(t),null;case 13:return IY(e,t,n);case 4:return LD(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=im(t,null,r,n):li(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$o(r,i),$B(e,t,r,i,n);case 7:return li(e,t,t.pendingProps,n),t.child;case 8:return li(e,t,t.pendingProps.children,n),t.child;case 12:return li(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Yt(Dw,r._currentValue),r._currentValue=o,a!==null)if(Yo(a.value,o)){if(a.children===i.children&&!Ui.current){t=du(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Jl(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ZT(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(pe(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),ZT(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}li(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Lp(t,n),i=ao(i),r=r(i),t.flags|=1,li(e,t,r,n),t.child;case 14:return r=t.type,i=$o(r,t.pendingProps),i=$o(r.type,i),TB(e,t,r,i,n);case 15:return jY(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$o(r,i),U_(e,t),t.tag=1,Wi(r)?(e=!0,Nw(t)):e=!1,Lp(t,n),TY(t,r,i),KT(t,r,i,n),eN(null,t,r,!0,e,n);case 19:return RY(e,t,n);case 22:return DY(e,t,n)}throw Error(pe(156,t.tag))};function tK(e,t){return OZ(e,t)}function zge(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ka(e,t,n,r){return new zge(e,t,n,r)}function QD(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bge(e){if(typeof e=="function")return QD(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yD)return 11;if(e===vD)return 14}return 2}function Ac(e,t){var n=e.alternate;return n===null?(n=Ka(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function H_(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")QD(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case lp:return od(n.children,i,a,t);case gD:o=8,i|=8;break;case _T:return e=Ka(12,n,t,i|2),e.elementType=_T,e.lanes=a,e;case wT:return e=Ka(13,n,t,i),e.elementType=wT,e.lanes=a,e;case ST:return e=Ka(19,n,t,i),e.elementType=ST,e.lanes=a,e;case fZ:return LA(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uZ:o=10;break e;case cZ:o=9;break e;case yD:o=11;break e;case vD:o=14;break e;case Gu:o=16,r=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=Ka(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function od(e,t,n,r){return e=Ka(7,e,r,t),e.lanes=n,e}function LA(e,t,n,r){return e=Ka(22,e,r,t),e.elementType=fZ,e.lanes=n,e.stateNode={isHidden:!1},e}function WO(e,t,n){return e=Ka(6,e,null,t),e.lanes=n,e}function qO(e,t,n){return t=Ka(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uge(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=AO(0),this.expirationTimes=AO(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=AO(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function JD(e,t,n,r,i,a,o,s,l){return e=new Uge(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ka(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},FD(a),e}function Wge(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nK(e){if(!e)return Nc;e=e._reactInternals;e:{if(oh(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var n=e.type;if(Wi(n))return nY(e,n,t)}return t}function rK(e,t,n,r,i,a,o,s,l){return e=JD(n,r,!0,e,i,a,o,s,l),e.context=nK(null),n=e.current,r=xi(),i=Sc(n),a=Jl(r,i),a.callback=t??null,_c(n,a,i),e.current.lanes=i,q1(e,i,r),qi(e,r),e}function IA(e,t,n,r){var i=t.current,a=xi(),o=Sc(i);return n=nK(n),t.context===null?t.context=n:t.pendingContext=n,t=Jl(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_c(i,t,o),e!==null&&(Go(e,i,o,a),R_(e,i,o)),o}function Hw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function WB(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eF(e,t){WB(e,t),(e=e.alternate)&&WB(e,t)}function qge(){return null}var iK=typeof reportError=="function"?reportError:function(e){console.error(e)};function tF(e){this._internalRoot=e}RA.prototype.render=tF.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));IA(e,t,null,null)};RA.prototype.unmount=tF.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sd(function(){IA(null,e,null,null)}),t[cu]=null}};function RA(e){this._internalRoot=e}RA.prototype.unstable_scheduleHydration=function(e){if(e){var t=DZ();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ec.length&&t!==0&&t<ec[n].priority;n++);ec.splice(n,0,e),n===0&&LZ(e)}};function nF(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qB(){}function Hge(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Hw(o);a.call(u)}}var o=rK(t,r,e,0,null,!1,!1,"",qB);return e._reactRootContainer=o,e[cu]=o.current,_v(e.nodeType===8?e.parentNode:e),Sd(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Hw(l);s.call(u)}}var l=JD(e,0,!1,null,null,!1,!1,"",qB);return e._reactRootContainer=l,e[cu]=l.current,_v(e.nodeType===8?e.parentNode:e),Sd(function(){IA(t,l,n,r)}),l}function BA(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Hw(o);s.call(l)}}IA(t,o,e,i)}else o=Hge(n,t,e,i,r);return Hw(o)}MZ=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ry(t.pendingLanes);n!==0&&(_D(t,n|1),qi(t,Pn()),!(xt&6)&&(sm=Pn()+500,Yc()))}break;case 13:Sd(function(){var r=fu(e,1);if(r!==null){var i=xi();Go(r,e,1,i)}}),eF(e,1)}};wD=function(e){if(e.tag===13){var t=fu(e,134217728);if(t!==null){var n=xi();Go(t,e,134217728,n)}eF(e,134217728)}};jZ=function(e){if(e.tag===13){var t=Sc(e),n=fu(e,t);if(n!==null){var r=xi();Go(n,e,t,r)}eF(e,t)}};DZ=function(){return Ft};FZ=function(e,t){var n=Ft;try{return Ft=e,t()}finally{Ft=n}};MT=function(e,t,n){switch(t){case"input":if(kT(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=TA(r);if(!i)throw Error(pe(90));hZ(r),kT(r,i)}}}break;case"textarea":mZ(e,n);break;case"select":t=n.value,t!=null&&Mp(e,!!n.multiple,t,!1)}};wZ=ZD;SZ=Sd;var Gge={usingClientEntryPoint:!1,Events:[G1,dp,TA,bZ,_Z,ZD]},_0={findFiberByHostInstance:Yf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vge={bundleType:_0.bundleType,version:_0.version,rendererPackageName:_0.rendererPackageName,rendererConfig:_0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_u.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kZ(e),e===null?null:e.stateNode},findFiberByHostInstance:_0.findFiberByHostInstance||qge,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nb.isDisabled&&Nb.supportsFiber)try{CA=Nb.inject(Vge),Ls=Nb}catch{}}Ta.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gge;Ta.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nF(t))throw Error(pe(200));return Wge(e,t,null,n)};Ta.createRoot=function(e,t){if(!nF(e))throw Error(pe(299));var n=!1,r="",i=iK;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=JD(e,1,!1,null,null,n,!1,r,i),e[cu]=t.current,_v(e.nodeType===8?e.parentNode:e),new tF(t)};Ta.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=kZ(t),e=e===null?null:e.stateNode,e};Ta.flushSync=function(e){return Sd(e)};Ta.hydrate=function(e,t,n){if(!zA(t))throw Error(pe(200));return BA(null,e,t,!0,n)};Ta.hydrateRoot=function(e,t,n){if(!nF(e))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=iK;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=rK(t,null,e,1,n??null,i,!1,a,o),e[cu]=t.current,_v(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new RA(t)};Ta.render=function(e,t,n){if(!zA(t))throw Error(pe(200));return BA(null,e,t,!1,n)};Ta.unmountComponentAtNode=function(e){if(!zA(e))throw Error(pe(40));return e._reactRootContainer?(Sd(function(){BA(null,null,e,!1,function(){e._reactRootContainer=null,e[cu]=null})}),!0):!1};Ta.unstable_batchedUpdates=ZD;Ta.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zA(n))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return BA(e,t,n,!1,r)};Ta.version="18.3.1-next-f1338f8080-20240426";function aK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aK)}catch(e){console.error(e)}}aK(),aZ.exports=Ta;var oK=aZ.exports,HB=oK;xT.createRoot=HB.createRoot,xT.hydrateRoot=HB.hydrateRoot;/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zge=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Oe=(e,t)=>{const n=X.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},c)=>X.createElement("svg",{ref:c,...Xge,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Zge(e)}`,s].join(" "),...u},[...t.map(([f,d])=>X.createElement(f,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=Oe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yge=Oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kge=Oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qge=Oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=Oe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jge=Oe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Oe("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0e=Oe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=Oe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Oe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=Oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0e=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0e=Oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=Oe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0e=Oe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0e=Oe("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Oe("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0e=Oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=Oe("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=Oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=Oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0e=Oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0e=Oe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=Oe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0e=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0e=Oe("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0e=Oe("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0e=Oe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0e=Oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=Oe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0e=Oe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=Oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=Oe("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0e=Oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0e=Oe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=Oe("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0e=Oe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0e=Oe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0e=Oe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0e=Oe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0e=Oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0e=Oe("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=Oe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0e=Oe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Oe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0e=Oe("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0e=Oe("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0e=Oe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=Oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=Oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0e=Oe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0e=Oe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0e=Oe("TrafficCone",[["path",{d:"M9.3 6.2a4.55 4.55 0 0 0 5.4 0",key:"flyxqv"}],["path",{d:"M7.9 10.7c.9.8 2.4 1.3 4.1 1.3s3.2-.5 4.1-1.3",key:"1nlxxg"}],["path",{d:"M13.9 3.5a1.93 1.93 0 0 0-3.8-.1l-3 10c-.1.2-.1.4-.1.6 0 1.7 2.2 3 5 3s5-1.3 5-3c0-.2 0-.4-.1-.5Z",key:"vz7x1l"}],["path",{d:"m7.5 12.2-4.7 2.7c-.5.3-.8.7-.8 1.1s.3.8.8 1.1l7.6 4.5c.9.5 2.1.5 3 0l7.6-4.5c.7-.3 1-.7 1-1.1s-.3-.8-.8-1.1l-4.7-2.8",key:"1xfzlw"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0e=Oe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Oe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0e=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0e=Oe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0e=Oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0e=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=Oe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ZB=[{id:"regional",label:"Regional Command",icon:h0e},{id:"siteops",label:"Site Operations",icon:By},{id:"equipment",label:"Equipment Map",icon:Ed},{id:"ghost",label:"Ghost Cycle Detection",icon:hu},{id:"earthwork",label:"Earthwork Analytics",icon:Xw},{id:"brief",label:"Daily Site Brief",icon:i0e},{id:"docs",label:"Document Search",icon:Jge},{id:"architecture",label:"Architecture",icon:cK}];function j0e({children:e,currentPage:t,onNavigate:n}){var a;const[r,i]=X.useState(!1);return _.jsxs("div",{className:"h-screen flex overflow-hidden bg-navy-950",children:[_.jsxs("aside",{className:`
          ${r?"w-16":"w-64"} 
          flex-shrink-0 bg-navy-900 border-r border-navy-700/50 
          flex flex-col transition-all duration-300
        `,children:[_.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-navy-700/50",children:[!r&&_.jsxs("button",{onClick:()=>n("landing"),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[_.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-terra-amber to-terra-orange flex items-center justify-center",children:_.jsx(Ad,{size:16,className:"text-white"})}),_.jsxs("div",{children:[_.jsx("span",{className:"font-display font-bold text-lg text-white",children:"TERRA"}),_.jsx("span",{className:"text-xs text-slate-500 block -mt-1",children:"Geospatial Analytics"})]})]}),_.jsx("button",{onClick:()=>i(!r),className:"p-1.5 hover:bg-navy-700 rounded-md text-slate-400 hover:text-white transition-colors",children:r?_.jsx(iF,{size:18}):_.jsx(t0e,{size:18})})]}),_.jsx("nav",{className:"flex-1 py-4 px-2 space-y-1 overflow-y-auto",children:ZB.map(o=>{const s=t===o.id;return _.jsxs("button",{onClick:()=>n(o.id),className:`
                  w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium
                  transition-all duration-200 group
                  ${s?"bg-terra-amber/10 text-terra-amber":"text-slate-400 hover:text-white hover:bg-navy-700/50"}
                `,children:[_.jsx(o.icon,{size:20,className:s?"text-terra-amber":"text-slate-500 group-hover:text-terra-amber/60"}),!r&&_.jsx("span",{children:o.label}),s&&!r&&_.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-terra-amber"})]},o.id)})}),_.jsx("div",{className:"p-4 border-t border-navy-700/50",children:r?_.jsx("div",{className:"flex justify-center",children:_.jsx("div",{className:"w-2 h-2 rounded-full bg-terra-green animate-pulse"})}):_.jsxs("div",{className:"text-xs",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("span",{className:"text-slate-500",children:"System Status"}),_.jsxs("span",{className:"flex items-center gap-1 text-terra-green",children:[_.jsx(dN,{size:12}),"Online"]})]}),_.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[_.jsxs("div",{className:"flex -space-x-1",children:[_.jsx("div",{className:"w-2 h-2 rounded-full bg-terra-green"}),_.jsx("div",{className:"w-2 h-2 rounded-full bg-terra-green"}),_.jsx("div",{className:"w-2 h-2 rounded-full bg-terra-green"}),_.jsx("div",{className:"w-2 h-2 rounded-full bg-terra-green"})]}),_.jsx("span",{children:"4 Agents Active"})]})]})})]}),_.jsxs("main",{className:"flex-1 overflow-hidden flex flex-col",children:[_.jsxs("header",{className:"h-14 flex-shrink-0 border-b border-navy-700/50 flex items-center justify-between px-6",children:[_.jsx("div",{className:"flex items-center gap-4",children:_.jsx("h1",{className:"font-display font-semibold text-lg text-white",children:((a=ZB.find(o=>o.id===t))==null?void 0:a.label)||"TERRA"})}),_.jsx("div",{className:"flex items-center gap-3",children:_.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[_.jsx("span",{className:"w-2 h-2 rounded-full bg-terra-green animate-pulse"}),"Snowflake Cortex Connected"]})})]}),_.jsx("div",{className:"flex-1 overflow-auto",children:e})]})]})}const YB="TERRA",D0e=[{icon:Ad,title:"Multi-Agent Intelligence",description:"4 specialized AI agents analyzing fleet efficiency, route optimization, terrain progress, and cycle predictions.",color:"amber"},{icon:_0e,title:"Ghost Cycle Detection",description:"Hidden discovery engine correlates GPS tracks with engine load to reveal equipment moving but not hauling.",color:"purple"},{icon:Xw,title:"Earthwork Analytics",description:"Track cut/fill volumes against design plan with drone survey integration and progress forecasting.",color:"green"},{icon:Zw,title:"Choke Point Prediction",description:"ML-powered early warning system identifies haul road bottlenecks before they cause delays.",color:"red"}],F0e=[{value:"8",label:"Active Sites",suffix:""},{value:"152",label:"Equipment Units",suffix:""},{value:"2.4",label:"GPS Points Today",suffix:"M"},{value:"4",label:"AI Agents",suffix:""}];function L0e({onNavigate:e}){const[t,n]=X.useState(!1),[r,i]=X.useState(""),a=`Hello, I'm ${YB}. Your intelligent construction site co-pilot.`;return X.useEffect(()=>{n(!0);let o=0;const s=setInterval(()=>{o<=a.length?(i(a.slice(0,o)),o++):clearInterval(s)},40);return()=>clearInterval(s)},[]),_.jsxs("div",{className:"min-h-screen bg-navy-900 overflow-y-auto",children:[_.jsxs("div",{className:"relative",children:[_.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[_.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-terra-amber/20 rounded-full blur-3xl animate-pulse"}),_.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-terra-orange/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-navy-900/50 via-transparent to-navy-900"}),_.jsx("div",{className:"relative max-w-7xl mx-auto px-6 pt-16 pb-24",children:_.jsxs("div",{className:`text-center transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("div",{className:"relative inline-block mb-6",children:[_.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-terra-amber to-terra-orange flex items-center justify-center shadow-2xl shadow-terra-amber/30",children:_.jsx(Ad,{size:40,className:"text-white"})}),_.jsx("div",{className:"absolute inset-0 w-20 h-20 rounded-2xl bg-gradient-to-br from-terra-amber to-terra-orange blur-xl opacity-50"})]}),_.jsx("h1",{className:"text-5xl font-bold mb-3",children:_.jsx("span",{className:"bg-gradient-to-r from-terra-amber via-amber-400 to-terra-orange bg-clip-text text-transparent",children:YB})}),_.jsx("p",{className:"text-lg text-slate-400 mb-1",children:"Terrain & Equipment Route Resource Advisor"}),_.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Powered by Snowflake Cortex AI"}),_.jsx("div",{className:"max-w-2xl mx-auto mb-10",children:_.jsx("div",{className:"bg-navy-800/80 backdrop-blur-sm border border-navy-700 rounded-xl p-5 text-left",children:_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-terra-amber to-terra-orange flex items-center justify-center flex-shrink-0",children:_.jsx(Ad,{size:20,className:"text-white"})}),_.jsx("div",{children:_.jsxs("p",{className:"text-lg text-slate-200",children:[r,_.jsx("span",{className:"inline-block w-0.5 h-5 bg-terra-amber ml-1 animate-pulse"})]})})]})})}),_.jsxs("div",{className:"flex items-center justify-center gap-4",children:[_.jsxs("button",{onClick:()=>e("regional"),className:"group flex items-center gap-3 px-7 py-3.5 bg-gradient-to-r from-terra-amber to-terra-orange rounded-xl text-white font-semibold text-lg shadow-xl shadow-terra-amber/25 hover:shadow-terra-amber/40 hover:scale-105 transition-all",children:["Launch Regional Command",_.jsx(Qge,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),_.jsx("button",{onClick:()=>e("architecture"),className:"flex items-center gap-2 px-5 py-3.5 bg-navy-700/50 border border-navy-600 rounded-xl text-slate-300 font-medium hover:bg-navy-600/50 hover:border-navy-500 transition-all",children:"View Architecture"})]})]})})]}),_.jsx("div",{className:`bg-navy-800/50 border-y border-navy-700/50 py-6 transition-all duration-1000 delay-300 ${t?"opacity-100":"opacity-0"}`,children:_.jsx("div",{className:"max-w-7xl mx-auto px-6",children:_.jsx("div",{className:"grid grid-cols-4 gap-8",children:F0e.map((o,s)=>_.jsxs("div",{className:"text-center",children:[_.jsxs("p",{className:"text-3xl font-bold text-terra-amber",children:[o.value,_.jsx("span",{className:"text-xl",children:o.suffix})]}),_.jsx("p",{className:"text-sm text-slate-400 mt-1",children:o.label})]},s))})})}),_.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[_.jsxs("div",{className:`text-center mb-10 transition-all duration-1000 delay-500 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsx("h2",{className:"text-2xl font-bold text-slate-200 mb-3",children:"Intelligent Construction Operations"}),_.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto",children:"Combining real-time GPS tracking, telematics data, and AI to reveal hidden inefficiencies and optimize site operations."})]}),_.jsx("div",{className:"grid grid-cols-2 gap-5",children:D0e.map((o,s)=>{const l=o.icon,u={amber:"from-amber-500/20 to-amber-600/10 border-amber-500/30 text-amber-400",purple:"from-purple-500/20 to-purple-600/10 border-purple-500/30 text-purple-400",green:"from-green-500/20 to-green-600/10 border-green-500/30 text-green-400",red:"from-red-500/20 to-red-600/10 border-red-500/30 text-red-400"}[o.color];return _.jsxs("div",{className:`bg-gradient-to-br ${u} border rounded-xl p-6 transition-all duration-500 hover:scale-[1.02] ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${600+s*100}ms`},children:[_.jsx("div",{className:"w-11 h-11 rounded-xl bg-navy-800/80 flex items-center justify-center mb-4",children:_.jsx(l,{size:22})}),_.jsx("h3",{className:"text-lg font-semibold text-slate-200 mb-2",children:o.title}),_.jsx("p",{className:"text-slate-400 text-sm",children:o.description})]},s)})})]}),_.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-16",children:_.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:Rs,label:"Regional Command",page:"regional",desc:"Multi-site overview"},{icon:By,label:"Site Operations",page:"siteops",desc:"Live equipment tracking"},{icon:Gw,label:"Earthwork Analytics",page:"earthwork",desc:"Ghost Cycle detection"},{icon:rF,label:"Daily Brief",page:"brief",desc:"AI-generated summary"}].map((o,s)=>{const l=o.icon;return _.jsxs("button",{onClick:()=>e(o.page),className:"bg-navy-800/50 border border-navy-700/50 rounded-xl p-4 text-left group hover:border-terra-amber/30 hover:bg-navy-800/80 transition-all",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[_.jsx(l,{size:18,className:"text-terra-amber"}),_.jsx("span",{className:"font-medium text-slate-200 group-hover:text-terra-amber transition-colors text-sm",children:o.label}),_.jsx(iF,{size:14,className:"text-slate-500 ml-auto group-hover:translate-x-1 transition-transform"})]}),_.jsx("p",{className:"text-xs text-slate-500",children:o.desc})]},s)})})}),_.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-16",children:_.jsx("div",{className:`bg-gradient-to-r from-terra-amber/10 to-purple-500/10 border border-terra-amber/30 rounded-xl p-6 transition-all duration-1000 delay-700 ${t?"opacity-100":"opacity-0"}`,children:_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-xl bg-terra-amber/20 flex items-center justify-center flex-shrink-0",children:_.jsx(Ed,{size:24,className:"text-terra-amber"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-terra-amber mb-2",children:" Hidden Discovery: Ghost Cycle Detection"}),_.jsxs("p",{className:"text-slate-300 text-sm mb-3",children:['TERRA identified equipment that appears "active" but is actually wasting fuel. By correlating',_.jsx("strong",{className:"text-white",children:" GPS breadcrumbs"})," with ",_.jsx("strong",{className:"text-white",children:"engine load telematics"}),", we detected trucks moving but not hauling payload."]}),_.jsxs("p",{className:"text-slate-400 text-sm",children:["Impact: ",_.jsx("strong",{className:"text-terra-amber",children:"20% fuel waste"})," identified  Root cause: Site layout inefficiency  Savings potential: ",_.jsx("strong",{className:"text-white",children:"$50K/month"})]})]})]})})}),_.jsx("div",{className:"border-t border-navy-700/50 py-6",children:_.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center",children:_.jsxs("p",{className:"text-sm text-slate-500",children:["Built on ",_.jsx("span",{className:"text-terra-amber",children:"Snowflake"}),"  Cortex AI  Cortex Agents  SPCS"]})})})]})}var mN={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Wl,function(n){var r="1.9.4";function i(h){var y,w,O,$;for(w=1,O=arguments.length;w<O;w++){$=arguments[w];for(y in $)h[y]=$[y]}return h}var a=Object.create||function(){function h(){}return function(y){return h.prototype=y,new h}}();function o(h,y){var w=Array.prototype.slice;if(h.bind)return h.bind.apply(h,w.call(arguments,1));var O=w.call(arguments,2);return function(){return h.apply(y,O.length?O.concat(w.call(arguments)):arguments)}}var s=0;function l(h){return"_leaflet_id"in h||(h._leaflet_id=++s),h._leaflet_id}function u(h,y,w){var O,$,I,V;return V=function(){O=!1,$&&(I.apply(w,$),$=!1)},I=function(){O?$=arguments:(h.apply(w,arguments),setTimeout(V,y),O=!0)},I}function c(h,y,w){var O=y[1],$=y[0],I=O-$;return h===O&&w?h:((h-$)%I+I)%I+$}function f(){return!1}function d(h,y){if(y===!1)return h;var w=Math.pow(10,y===void 0?6:y);return Math.round(h*w)/w}function p(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function m(h){return p(h).split(/\s+/)}function g(h,y){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var w in y)h.options[w]=y[w];return h.options}function v(h,y,w){var O=[];for(var $ in h)O.push(encodeURIComponent(w?$.toUpperCase():$)+"="+encodeURIComponent(h[$]));return(!y||y.indexOf("?")===-1?"?":"&")+O.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function b(h,y){return h.replace(x,function(w,O){var $=y[O];if($===void 0)throw new Error("No value provided for variable "+w);return typeof $=="function"&&($=$(y)),$})}var S=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function k(h,y){for(var w=0;w<h.length;w++)if(h[w]===y)return w;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var C=0;function P(h){var y=+new Date,w=Math.max(0,16-(y-C));return C=y+w,window.setTimeout(h,w)}var T=window.requestAnimationFrame||E("RequestAnimationFrame")||P,j=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function D(h,y,w){if(w&&T===P)h.call(y);else return T.call(window,o(h,y))}function F(h){h&&j.call(window,h)}var W={__proto__:null,extend:i,create:a,bind:o,get lastId(){return s},stamp:l,throttle:u,wrapNum:c,falseFn:f,formatNum:d,trim:p,splitWords:m,setOptions:g,getParamString:v,template:b,isArray:S,indexOf:k,emptyImageUrl:A,requestFn:T,cancelFn:j,requestAnimFrame:D,cancelAnimFrame:F};function R(){}R.extend=function(h){var y=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=y.__super__=this.prototype,O=a(w);O.constructor=y,y.prototype=O;for(var $ in this)Object.prototype.hasOwnProperty.call(this,$)&&$!=="prototype"&&$!=="__super__"&&(y[$]=this[$]);return h.statics&&i(y,h.statics),h.includes&&(N(h.includes),i.apply(null,[O].concat(h.includes))),i(O,h),delete O.statics,delete O.includes,O.options&&(O.options=w.options?a(w.options):{},i(O.options,h.options)),O._initHooks=[],O.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,V=O._initHooks.length;I<V;I++)O._initHooks[I].call(this)}},y},R.include=function(h){var y=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=y,this.mergeOptions(h.options)),this},R.mergeOptions=function(h){return i(this.prototype.options,h),this},R.addInitHook=function(h){var y=Array.prototype.slice.call(arguments,1),w=typeof h=="function"?h:function(){this[h].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function N(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=S(h)?h:[h];for(var y=0;y<h.length;y++)h[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var z={on:function(h,y,w){if(typeof h=="object")for(var O in h)this._on(O,h[O],y);else{h=m(h);for(var $=0,I=h.length;$<I;$++)this._on(h[$],y,w)}return this},off:function(h,y,w){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var O in h)this._off(O,h[O],y);else{h=m(h);for(var $=arguments.length===1,I=0,V=h.length;I<V;I++)$?this._off(h[I]):this._off(h[I],y,w)}return this},_on:function(h,y,w,O){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(h,y,w)===!1){w===this&&(w=void 0);var $={fn:y,ctx:w};O&&($.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push($)}},_off:function(h,y,w){var O,$,I;if(this._events&&(O=this._events[h],!!O)){if(arguments.length===1){if(this._firingCount)for($=0,I=O.length;$<I;$++)O[$].fn=f;delete this._events[h];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var V=this._listens(h,y,w);if(V!==!1){var Y=O[V];this._firingCount&&(Y.fn=f,this._events[h]=O=O.slice()),O.splice(V,1)}}},fire:function(h,y,w){if(!this.listens(h,w))return this;var O=i({},y,{type:h,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var $=this._events[h];if($){this._firingCount=this._firingCount+1||1;for(var I=0,V=$.length;I<V;I++){var Y=$[I],Q=Y.fn;Y.once&&this.off(h,Q,Y.ctx),Q.call(Y.ctx||this,O)}this._firingCount--}}return w&&this._propagateEvent(O),this},listens:function(h,y,w,O){typeof h!="string"&&console.warn('"string" type argument expected');var $=y;typeof y!="function"&&(O=!!y,$=void 0,w=void 0);var I=this._events&&this._events[h];if(I&&I.length&&this._listens(h,$,w)!==!1)return!0;if(O){for(var V in this._eventParents)if(this._eventParents[V].listens(h,y,w,O))return!0}return!1},_listens:function(h,y,w){if(!this._events)return!1;var O=this._events[h]||[];if(!y)return!!O.length;w===this&&(w=void 0);for(var $=0,I=O.length;$<I;$++)if(O[$].fn===y&&O[$].ctx===w)return $;return!1},once:function(h,y,w){if(typeof h=="object")for(var O in h)this._on(O,h[O],y,!0);else{h=m(h);for(var $=0,I=h.length;$<I;$++)this._on(h[$],y,w,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[l(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[l(h)],this},_propagateEvent:function(h){for(var y in this._eventParents)this._eventParents[y].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var q=R.extend(z);function B(h,y,w){this.x=w?Math.round(h):h,this.y=w?Math.round(y):y}var G=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(h){return this.clone()._add(M(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(M(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new B(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new B(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(h){h=M(h);var y=h.x-this.x,w=h.y-this.y;return Math.sqrt(y*y+w*w)},equals:function(h){return h=M(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=M(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}};function M(h,y,w){return h instanceof B?h:S(h)?new B(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new B(h.x,h.y):new B(h,y,w)}function K(h,y){if(h)for(var w=y?[h,y]:h,O=0,$=w.length;O<$;O++)this.extend(w[O])}K.prototype={extend:function(h){var y,w;if(!h)return this;if(h instanceof B||typeof h[0]=="number"||"x"in h)y=w=M(h);else if(h=Z(h),y=h.min,w=h.max,!y||!w)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=w.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(h){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var y,w;return typeof h[0]=="number"||h instanceof B?h=M(h):h=Z(h),h instanceof K?(y=h.min,w=h.max):y=w=h,y.x>=this.min.x&&w.x<=this.max.x&&y.y>=this.min.y&&w.y<=this.max.y},intersects:function(h){h=Z(h);var y=this.min,w=this.max,O=h.min,$=h.max,I=$.x>=y.x&&O.x<=w.x,V=$.y>=y.y&&O.y<=w.y;return I&&V},overlaps:function(h){h=Z(h);var y=this.min,w=this.max,O=h.min,$=h.max,I=$.x>y.x&&O.x<w.x,V=$.y>y.y&&O.y<w.y;return I&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var y=this.min,w=this.max,O=Math.abs(y.x-w.x)*h,$=Math.abs(y.y-w.y)*h;return Z(M(y.x-O,y.y-$),M(w.x+O,w.y+$))},equals:function(h){return h?(h=Z(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function Z(h,y){return!h||h instanceof K?h:new K(h,y)}function U(h,y){if(h)for(var w=y?[h,y]:h,O=0,$=w.length;O<$;O++)this.extend(w[O])}U.prototype={extend:function(h){var y=this._southWest,w=this._northEast,O,$;if(h instanceof le)O=h,$=h;else if(h instanceof U){if(O=h._southWest,$=h._northEast,!O||!$)return this}else return h?this.extend(ve(h)||me(h)):this;return!y&&!w?(this._southWest=new le(O.lat,O.lng),this._northEast=new le($.lat,$.lng)):(y.lat=Math.min(O.lat,y.lat),y.lng=Math.min(O.lng,y.lng),w.lat=Math.max($.lat,w.lat),w.lng=Math.max($.lng,w.lng)),this},pad:function(h){var y=this._southWest,w=this._northEast,O=Math.abs(y.lat-w.lat)*h,$=Math.abs(y.lng-w.lng)*h;return new U(new le(y.lat-O,y.lng-$),new le(w.lat+O,w.lng+$))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof le||"lat"in h?h=ve(h):h=me(h);var y=this._southWest,w=this._northEast,O,$;return h instanceof U?(O=h.getSouthWest(),$=h.getNorthEast()):O=$=h,O.lat>=y.lat&&$.lat<=w.lat&&O.lng>=y.lng&&$.lng<=w.lng},intersects:function(h){h=me(h);var y=this._southWest,w=this._northEast,O=h.getSouthWest(),$=h.getNorthEast(),I=$.lat>=y.lat&&O.lat<=w.lat,V=$.lng>=y.lng&&O.lng<=w.lng;return I&&V},overlaps:function(h){h=me(h);var y=this._southWest,w=this._northEast,O=h.getSouthWest(),$=h.getNorthEast(),I=$.lat>y.lat&&O.lat<w.lat,V=$.lng>y.lng&&O.lng<w.lng;return I&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,y){return h?(h=me(h),this._southWest.equals(h.getSouthWest(),y)&&this._northEast.equals(h.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(h,y){return h instanceof U?h:new U(h,y)}function le(h,y,w){if(isNaN(h)||isNaN(y))throw new Error("Invalid LatLng object: ("+h+", "+y+")");this.lat=+h,this.lng=+y,w!==void 0&&(this.alt=+w)}le.prototype={equals:function(h,y){if(!h)return!1;h=ve(h);var w=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return w<=(y===void 0?1e-9:y)},toString:function(h){return"LatLng("+d(this.lat,h)+", "+d(this.lng,h)+")"},distanceTo:function(h){return it.distance(this,ve(h))},wrap:function(){return it.wrapLatLng(this)},toBounds:function(h){var y=180*h/40075017,w=y/Math.cos(Math.PI/180*this.lat);return me([this.lat-y,this.lng-w],[this.lat+y,this.lng+w])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function ve(h,y,w){return h instanceof le?h:S(h)&&typeof h[0]!="object"?h.length===3?new le(h[0],h[1],h[2]):h.length===2?new le(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new le(h.lat,"lng"in h?h.lng:h.lon,h.alt):y===void 0?null:new le(h,y,w)}var mt={latLngToPoint:function(h,y){var w=this.projection.project(h),O=this.scale(y);return this.transformation._transform(w,O)},pointToLatLng:function(h,y){var w=this.scale(y),O=this.transformation.untransform(h,w);return this.projection.unproject(O)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var y=this.projection.bounds,w=this.scale(h),O=this.transformation.transform(y.min,w),$=this.transformation.transform(y.max,w);return new K(O,$)},infinite:!1,wrapLatLng:function(h){var y=this.wrapLng?c(h.lng,this.wrapLng,!0):h.lng,w=this.wrapLat?c(h.lat,this.wrapLat,!0):h.lat,O=h.alt;return new le(w,y,O)},wrapLatLngBounds:function(h){var y=h.getCenter(),w=this.wrapLatLng(y),O=y.lat-w.lat,$=y.lng-w.lng;if(O===0&&$===0)return h;var I=h.getSouthWest(),V=h.getNorthEast(),Y=new le(I.lat-O,I.lng-$),Q=new le(V.lat-O,V.lng-$);return new U(Y,Q)}},it=i({},mt,{wrapLng:[-180,180],R:6371e3,distance:function(h,y){var w=Math.PI/180,O=h.lat*w,$=y.lat*w,I=Math.sin((y.lat-h.lat)*w/2),V=Math.sin((y.lng-h.lng)*w/2),Y=I*I+Math.cos(O)*Math.cos($)*V*V,Q=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*Q}}),be=6378137,De={R:be,MAX_LATITUDE:85.0511287798,project:function(h){var y=Math.PI/180,w=this.MAX_LATITUDE,O=Math.max(Math.min(w,h.lat),-w),$=Math.sin(O*y);return new B(this.R*h.lng*y,this.R*Math.log((1+$)/(1-$))/2)},unproject:function(h){var y=180/Math.PI;return new le((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*y,h.x*y/this.R)},bounds:function(){var h=be*Math.PI;return new K([-h,-h],[h,h])}()};function ze(h,y,w,O){if(S(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=y,this._c=w,this._d=O}ze.prototype={transform:function(h,y){return this._transform(h.clone(),y)},_transform:function(h,y){return y=y||1,h.x=y*(this._a*h.x+this._b),h.y=y*(this._c*h.y+this._d),h},untransform:function(h,y){return y=y||1,new B((h.x/y-this._b)/this._a,(h.y/y-this._d)/this._c)}};function oe(h,y,w,O){return new ze(h,y,w,O)}var Ct=i({},it,{code:"EPSG:3857",projection:De,transformation:function(){var h=.5/(Math.PI*De.R);return oe(h,.5,-h,.5)}()}),nt=i({},Ct,{code:"EPSG:900913"});function Rt(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function $t(h,y){var w="",O,$,I,V,Y,Q;for(O=0,I=h.length;O<I;O++){for(Y=h[O],$=0,V=Y.length;$<V;$++)Q=Y[$],w+=($?"L":"M")+Q.x+" "+Q.y;w+=y?Fe.svg?"z":"x":""}return w||"M0 0"}var ln=document.documentElement.style,gr="ActiveXObject"in window,_o=gr&&!document.addEventListener,ps="msLaunchUri"in navigator&&!("documentMode"in document),ia=ms("webkit"),Ma=ms("android"),Du=ms("android 2")||ms("android 3"),$h=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Th=Ma&&ms("Google")&&$h<537&&!("AudioNode"in window),ie=!!window.opera,we=!ps&&ms("chrome"),Xe=ms("gecko")&&!ia&&!ie&&!gr,ut=!we&&ms("safari"),Tt=ms("phantom"),Pi="OTransition"in ln,wl=navigator.platform.indexOf("Win")===0,ja=gr&&"transition"in ln,Sl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Du,Fu="MozPerspective"in ln,ri=!window.L_DISABLE_3D&&(ja||Sl||Fu)&&!Pi&&!Tt,Da=typeof orientation<"u"||ms("mobile"),wo=Da&&ia,she=Da&&Sl,Rz=!window.PointerEvent&&window.MSPointerEvent,zz=!!(window.PointerEvent||Rz),Bz="ontouchstart"in window||!!window.TouchEvent,lhe=!window.L_NO_TOUCH&&(Bz||zz),uhe=Da&&ie,che=Da&&Xe,fhe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,dhe=function(){var h=!1;try{var y=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",f,y),window.removeEventListener("testPassiveEventSupport",f,y)}catch{}return h}(),hhe=function(){return!!document.createElement("canvas").getContext}(),GC=!!(document.createElementNS&&Rt("svg").createSVGRect),phe=!!GC&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),mhe=!GC&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var y=h.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}}(),ghe=navigator.platform.indexOf("Mac")===0,yhe=navigator.platform.indexOf("Linux")===0;function ms(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Fe={ie:gr,ielt9:_o,edge:ps,webkit:ia,android:Ma,android23:Du,androidStock:Th,opera:ie,chrome:we,gecko:Xe,safari:ut,phantom:Tt,opera12:Pi,win:wl,ie3d:ja,webkit3d:Sl,gecko3d:Fu,any3d:ri,mobile:Da,mobileWebkit:wo,mobileWebkit3d:she,msPointer:Rz,pointer:zz,touch:lhe,touchNative:Bz,mobileOpera:uhe,mobileGecko:che,retina:fhe,passiveEvents:dhe,canvas:hhe,svg:GC,vml:mhe,inlineSvg:phe,mac:ghe,linux:yhe},Uz=Fe.msPointer?"MSPointerDown":"pointerdown",Wz=Fe.msPointer?"MSPointerMove":"pointermove",qz=Fe.msPointer?"MSPointerUp":"pointerup",Hz=Fe.msPointer?"MSPointerCancel":"pointercancel",VC={touchstart:Uz,touchmove:Wz,touchend:qz,touchcancel:Hz},Gz={touchstart:She,touchmove:Qx,touchend:Qx,touchcancel:Qx},Nh={},Vz=!1;function vhe(h,y,w){return y==="touchstart"&&whe(),Gz[y]?(w=Gz[y].bind(this,w),h.addEventListener(VC[y],w,!1),w):(console.warn("wrong event specified:",y),f)}function xhe(h,y,w){if(!VC[y]){console.warn("wrong event specified:",y);return}h.removeEventListener(VC[y],w,!1)}function bhe(h){Nh[h.pointerId]=h}function _he(h){Nh[h.pointerId]&&(Nh[h.pointerId]=h)}function Xz(h){delete Nh[h.pointerId]}function whe(){Vz||(document.addEventListener(Uz,bhe,!0),document.addEventListener(Wz,_he,!0),document.addEventListener(qz,Xz,!0),document.addEventListener(Hz,Xz,!0),Vz=!0)}function Qx(h,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var w in Nh)y.touches.push(Nh[w]);y.changedTouches=[y],h(y)}}function She(h,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&yr(y),Qx(h,y)}function Ahe(h){var y={},w,O;for(O in h)w=h[O],y[O]=w&&w.bind?w.bind(h):w;return h=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var Ehe=200;function khe(h,y){h.addEventListener("dblclick",y);var w=0,O;function $(I){if(I.detail!==1){O=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var V=Jz(I);if(!(V.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!V.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var Y=Date.now();Y-w<=Ehe?(O++,O===2&&y(Ahe(I))):O=1,w=Y}}}return h.addEventListener("click",$),{dblclick:y,simDblclick:$}}function Che(h,y){h.removeEventListener("dblclick",y.dblclick),h.removeEventListener("click",y.simDblclick)}var XC=tb(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),n0=tb(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zz=n0==="webkitTransition"||n0==="OTransition"?n0+"End":"transitionend";function Yz(h){return typeof h=="string"?document.getElementById(h):h}function r0(h,y){var w=h.style[y]||h.currentStyle&&h.currentStyle[y];if((!w||w==="auto")&&document.defaultView){var O=document.defaultView.getComputedStyle(h,null);w=O?O[y]:null}return w==="auto"?null:w}function bt(h,y,w){var O=document.createElement(h);return O.className=y||"",w&&w.appendChild(O),O}function pn(h){var y=h.parentNode;y&&y.removeChild(h)}function Jx(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Mh(h){var y=h.parentNode;y&&y.lastChild!==h&&y.appendChild(h)}function jh(h){var y=h.parentNode;y&&y.firstChild!==h&&y.insertBefore(h,y.firstChild)}function ZC(h,y){if(h.classList!==void 0)return h.classList.contains(y);var w=eb(h);return w.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(w)}function rt(h,y){if(h.classList!==void 0)for(var w=m(y),O=0,$=w.length;O<$;O++)h.classList.add(w[O]);else if(!ZC(h,y)){var I=eb(h);YC(h,(I?I+" ":"")+y)}}function Cn(h,y){h.classList!==void 0?h.classList.remove(y):YC(h,p((" "+eb(h)+" ").replace(" "+y+" "," ")))}function YC(h,y){h.className.baseVal===void 0?h.className=y:h.className.baseVal=y}function eb(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function Fa(h,y){"opacity"in h.style?h.style.opacity=y:"filter"in h.style&&Ohe(h,y)}function Ohe(h,y){var w=!1,O="DXImageTransform.Microsoft.Alpha";try{w=h.filters.item(O)}catch{if(y===1)return}y=Math.round(y*100),w?(w.Enabled=y!==100,w.Opacity=y):h.style.filter+=" progid:"+O+"(opacity="+y+")"}function tb(h){for(var y=document.documentElement.style,w=0;w<h.length;w++)if(h[w]in y)return h[w];return!1}function vf(h,y,w){var O=y||new B(0,0);h.style[XC]=(Fe.ie3d?"translate("+O.x+"px,"+O.y+"px)":"translate3d("+O.x+"px,"+O.y+"px,0)")+(w?" scale("+w+")":"")}function jn(h,y){h._leaflet_pos=y,Fe.any3d?vf(h,y):(h.style.left=y.x+"px",h.style.top=y.y+"px")}function xf(h){return h._leaflet_pos||new B(0,0)}var i0,a0,KC;if("onselectstart"in document)i0=function(){Qe(window,"selectstart",yr)},a0=function(){Vt(window,"selectstart",yr)};else{var o0=tb(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);i0=function(){if(o0){var h=document.documentElement.style;KC=h[o0],h[o0]="none"}},a0=function(){o0&&(document.documentElement.style[o0]=KC,KC=void 0)}}function QC(){Qe(window,"dragstart",yr)}function JC(){Vt(window,"dragstart",yr)}var nb,eO;function tO(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(rb(),nb=h,eO=h.style.outlineStyle,h.style.outlineStyle="none",Qe(window,"keydown",rb))}function rb(){nb&&(nb.style.outlineStyle=eO,nb=void 0,eO=void 0,Vt(window,"keydown",rb))}function Kz(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function nO(h){var y=h.getBoundingClientRect();return{x:y.width/h.offsetWidth||1,y:y.height/h.offsetHeight||1,boundingClientRect:y}}var Phe={__proto__:null,TRANSFORM:XC,TRANSITION:n0,TRANSITION_END:Zz,get:Yz,getStyle:r0,create:bt,remove:pn,empty:Jx,toFront:Mh,toBack:jh,hasClass:ZC,addClass:rt,removeClass:Cn,setClass:YC,getClass:eb,setOpacity:Fa,testProp:tb,setTransform:vf,setPosition:jn,getPosition:xf,get disableTextSelection(){return i0},get enableTextSelection(){return a0},disableImageDrag:QC,enableImageDrag:JC,preventOutline:tO,restoreOutline:rb,getSizedParentNode:Kz,getScale:nO};function Qe(h,y,w,O){if(y&&typeof y=="object")for(var $ in y)iO(h,$,y[$],w);else{y=m(y);for(var I=0,V=y.length;I<V;I++)iO(h,y[I],w,O)}return this}var gs="_leaflet_events";function Vt(h,y,w,O){if(arguments.length===1)Qz(h),delete h[gs];else if(y&&typeof y=="object")for(var $ in y)aO(h,$,y[$],w);else if(y=m(y),arguments.length===2)Qz(h,function(Y){return k(y,Y)!==-1});else for(var I=0,V=y.length;I<V;I++)aO(h,y[I],w,O);return this}function Qz(h,y){for(var w in h[gs]){var O=w.split(/\d/)[0];(!y||y(O))&&aO(h,O,null,null,w)}}var rO={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function iO(h,y,w,O){var $=y+l(w)+(O?"_"+l(O):"");if(h[gs]&&h[gs][$])return this;var I=function(Y){return w.call(O||h,Y||window.event)},V=I;!Fe.touchNative&&Fe.pointer&&y.indexOf("touch")===0?I=vhe(h,y,I):Fe.touch&&y==="dblclick"?I=khe(h,I):"addEventListener"in h?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?h.addEventListener(rO[y]||y,I,Fe.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(I=function(Y){Y=Y||window.event,sO(h,Y)&&V(Y)},h.addEventListener(rO[y],I,!1)):h.addEventListener(y,V,!1):h.attachEvent("on"+y,I),h[gs]=h[gs]||{},h[gs][$]=I}function aO(h,y,w,O,$){$=$||y+l(w)+(O?"_"+l(O):"");var I=h[gs]&&h[gs][$];if(!I)return this;!Fe.touchNative&&Fe.pointer&&y.indexOf("touch")===0?xhe(h,y,I):Fe.touch&&y==="dblclick"?Che(h,I):"removeEventListener"in h?h.removeEventListener(rO[y]||y,I,!1):h.detachEvent("on"+y,I),h[gs][$]=null}function bf(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function oO(h){return iO(h,"wheel",bf),this}function s0(h){return Qe(h,"mousedown touchstart dblclick contextmenu",bf),h._leaflet_disable_click=!0,this}function yr(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function _f(h){return yr(h),bf(h),this}function Jz(h){if(h.composedPath)return h.composedPath();for(var y=[],w=h.target;w;)y.push(w),w=w.parentNode;return y}function e6(h,y){if(!y)return new B(h.clientX,h.clientY);var w=nO(y),O=w.boundingClientRect;return new B((h.clientX-O.left)/w.x-y.clientLeft,(h.clientY-O.top)/w.y-y.clientTop)}var $he=Fe.linux&&Fe.chrome?window.devicePixelRatio:Fe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function t6(h){return Fe.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/$he:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function sO(h,y){var w=y.relatedTarget;if(!w)return!0;try{for(;w&&w!==h;)w=w.parentNode}catch{return!1}return w!==h}var The={__proto__:null,on:Qe,off:Vt,stopPropagation:bf,disableScrollPropagation:oO,disableClickPropagation:s0,preventDefault:yr,stop:_f,getPropagationPath:Jz,getMousePosition:e6,getWheelDelta:t6,isExternalTarget:sO,addListener:Qe,removeListener:Vt},n6=q.extend({run:function(h,y,w,O){this.stop(),this._el=h,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(O||.5,.2),this._startPos=xf(h),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(h){var y=+new Date-this._startTime,w=this._duration*1e3;y<w?this._runFrame(this._easeOut(y/w),h):(this._runFrame(1),this._complete())},_runFrame:function(h,y){var w=this._startPos.add(this._offset.multiplyBy(h));y&&w._round(),jn(this._el,w),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),gt=q.extend({options:{crs:Ct,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,y){y=g(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(ve(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=n0&&Fe.any3d&&!Fe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qe(this._proxy,Zz,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,y,w){if(y=y===void 0?this._zoom:this._limitZoom(y),h=this._limitCenter(ve(h),y,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=i({animate:w.animate},w.zoom),w.pan=i({animate:w.animate,duration:w.duration},w.pan));var O=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,y,w.zoom):this._tryAnimatedPan(h,w.pan);if(O)return clearTimeout(this._sizeTimer),this}return this._resetView(h,y,w.pan&&w.pan.noMoveStart),this},setZoom:function(h,y){return this._loaded?this.setView(this.getCenter(),h,{zoom:y}):(this._zoom=h,this)},zoomIn:function(h,y){return h=h||(Fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,y)},zoomOut:function(h,y){return h=h||(Fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,y)},setZoomAround:function(h,y,w){var O=this.getZoomScale(y),$=this.getSize().divideBy(2),I=h instanceof B?h:this.latLngToContainerPoint(h),V=I.subtract($).multiplyBy(1-1/O),Y=this.containerPointToLatLng($.add(V));return this.setView(Y,y,{zoom:w})},_getBoundsCenterZoom:function(h,y){y=y||{},h=h.getBounds?h.getBounds():me(h);var w=M(y.paddingTopLeft||y.padding||[0,0]),O=M(y.paddingBottomRight||y.padding||[0,0]),$=this.getBoundsZoom(h,!1,w.add(O));if($=typeof y.maxZoom=="number"?Math.min(y.maxZoom,$):$,$===1/0)return{center:h.getCenter(),zoom:$};var I=O.subtract(w).divideBy(2),V=this.project(h.getSouthWest(),$),Y=this.project(h.getNorthEast(),$),Q=this.unproject(V.add(Y).divideBy(2).add(I),$);return{center:Q,zoom:$}},fitBounds:function(h,y){if(h=me(h),!h.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(h,y);return this.setView(w.center,w.zoom,y)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,y){return this.setView(h,this._zoom,{pan:y})},panBy:function(h,y){if(h=M(h).round(),y=y||{},!h.x&&!h.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new n6,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){rt(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,w,y.duration||.25,y.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,y,w){if(w=w||{},w.animate===!1||!Fe.any3d)return this.setView(h,y,w);this._stop();var O=this.project(this.getCenter()),$=this.project(h),I=this.getSize(),V=this._zoom;h=ve(h),y=y===void 0?V:y;var Y=Math.max(I.x,I.y),Q=Y*this.getZoomScale(V,y),se=$.distanceTo(O)||1,Ce=1.42,He=Ce*Ce;function ot(Dn){var mb=Dn?-1:1,xpe=Dn?Q:Y,bpe=Q*Q-Y*Y+mb*He*He*se*se,_pe=2*xpe*He*se,vO=bpe/_pe,F6=Math.sqrt(vO*vO+1)-vO,wpe=F6<1e-9?-18:Math.log(F6);return wpe}function ii(Dn){return(Math.exp(Dn)-Math.exp(-Dn))/2}function er(Dn){return(Math.exp(Dn)+Math.exp(-Dn))/2}function Ia(Dn){return ii(Dn)/er(Dn)}var $i=ot(0);function zh(Dn){return Y*(er($i)/er($i+Ce*Dn))}function mpe(Dn){return Y*(er($i)*Ia($i+Ce*Dn)-ii($i))/He}function gpe(Dn){return 1-Math.pow(1-Dn,1.5)}var ype=Date.now(),j6=(ot(1)-$i)/Ce,vpe=w.duration?1e3*w.duration:1e3*j6*.8;function D6(){var Dn=(Date.now()-ype)/vpe,mb=gpe(Dn)*j6;Dn<=1?(this._flyToFrame=D(D6,this),this._move(this.unproject(O.add($.subtract(O).multiplyBy(mpe(mb)/se)),V),this.getScaleZoom(Y/zh(mb),V),{flyTo:!0})):this._move(h,y)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),D6.call(this),this},flyToBounds:function(h,y){var w=this._getBoundsCenterZoom(h,y);return this.flyTo(w.center,w.zoom,y)},setMaxBounds:function(h){return h=me(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var y=this.options.minZoom;return this.options.minZoom=h,this._loaded&&y!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var y=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&y!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,y){this._enforcingBounds=!0;var w=this.getCenter(),O=this._limitCenter(w,this._zoom,me(h));return w.equals(O)||this.panTo(O,y),this._enforcingBounds=!1,this},panInside:function(h,y){y=y||{};var w=M(y.paddingTopLeft||y.padding||[0,0]),O=M(y.paddingBottomRight||y.padding||[0,0]),$=this.project(this.getCenter()),I=this.project(h),V=this.getPixelBounds(),Y=Z([V.min.add(w),V.max.subtract(O)]),Q=Y.getSize();if(!Y.contains(I)){this._enforcingBounds=!0;var se=I.subtract(Y.getCenter()),Ce=Y.extend(I).getSize().subtract(Q);$.x+=se.x<0?-Ce.x:Ce.x,$.y+=se.y<0?-Ce.y:Ce.y,this.panTo(this.unproject($),y),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),O=y.divideBy(2).round(),$=w.divideBy(2).round(),I=O.subtract($);return!I.x&&!I.y?this:(h.animate&&h.pan?this.panBy(I):(h.pan&&this._rawPanBy(I),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),w=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,w,h):navigator.geolocation.getCurrentPosition(y,w,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var y=h.code,w=h.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var y=h.coords.latitude,w=h.coords.longitude,O=new le(y,w),$=O.toBounds(h.coords.accuracy*2),I=this._locateOptions;if(I.setView){var V=this.getBoundsZoom($);this.setView(O,I.maxZoom?Math.min(V,I.maxZoom):V)}var Y={latlng:O,bounds:$,timestamp:h.timestamp};for(var Q in h.coords)typeof h.coords[Q]=="number"&&(Y[Q]=h.coords[Q]);this.fire("locationfound",Y)}},addHandler:function(h,y){if(!y)return this;var w=this[h]=new y(this);return this._handlers.push(w),this.options[h]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),pn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)pn(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,y){var w="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),O=bt("div",w,y||this._mapPane);return h&&(this._panes[h]=O),O},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),y=this.unproject(h.getBottomLeft()),w=this.unproject(h.getTopRight());return new U(y,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,y,w){h=me(h),w=M(w||[0,0]);var O=this.getZoom()||0,$=this.getMinZoom(),I=this.getMaxZoom(),V=h.getNorthWest(),Y=h.getSouthEast(),Q=this.getSize().subtract(w),se=Z(this.project(Y,O),this.project(V,O)).getSize(),Ce=Fe.any3d?this.options.zoomSnap:1,He=Q.x/se.x,ot=Q.y/se.y,ii=y?Math.max(He,ot):Math.min(He,ot);return O=this.getScaleZoom(ii,O),Ce&&(O=Math.round(O/(Ce/100))*(Ce/100),O=y?Math.ceil(O/Ce)*Ce:Math.floor(O/Ce)*Ce),Math.max($,Math.min(I,O))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,y){var w=this._getTopLeftPoint(h,y);return new K(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,y){var w=this.options.crs;return y=y===void 0?this._zoom:y,w.scale(h)/w.scale(y)},getScaleZoom:function(h,y){var w=this.options.crs;y=y===void 0?this._zoom:y;var O=w.zoom(h*w.scale(y));return isNaN(O)?1/0:O},project:function(h,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(ve(h),y)},unproject:function(h,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(M(h),y)},layerPointToLatLng:function(h){var y=M(h).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(h){var y=this.project(ve(h))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(ve(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(me(h))},distance:function(h,y){return this.options.crs.distance(ve(h),ve(y))},containerPointToLayerPoint:function(h){return M(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return M(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var y=this.containerPointToLayerPoint(M(h));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ve(h)))},mouseEventToContainerPoint:function(h){return e6(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var y=this._container=Yz(h);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qe(y,"scroll",this._onScroll,this),this._containerId=l(y)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Fe.any3d,rt(h,"leaflet-container"+(Fe.touch?" leaflet-touch":"")+(Fe.retina?" leaflet-retina":"")+(Fe.ielt9?" leaflet-oldie":"")+(Fe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=r0(h,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jn(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(rt(h.markerPane,"leaflet-zoom-hide"),rt(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,y,w){jn(this._mapPane,new B(0,0));var O=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var $=this._zoom!==y;this._moveStart($,w)._move(h,y)._moveEnd($),this.fire("viewreset"),O&&this.fire("load")},_moveStart:function(h,y){return h&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(h,y,w,O){y===void 0&&(y=this._zoom);var $=this._zoom!==y;return this._zoom=y,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),O?w&&w.pinch&&this.fire("zoom",w):(($||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){jn(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[l(this._container)]=this;var y=h?Vt:Qe;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),Fe.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,y){for(var w=[],O,$=y==="mouseout"||y==="mouseover",I=h.target||h.srcElement,V=!1;I;){if(O=this._targets[l(I)],O&&(y==="click"||y==="preclick")&&this._draggableMoved(O)){V=!0;break}if(O&&O.listens(y,!0)&&($&&!sO(I,h)||(w.push(O),$))||I===this._container)break;I=I.parentNode}return!w.length&&!V&&!$&&this.listens(y,!0)&&(w=[this]),w},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var y=h.target||h.srcElement;if(!(!this._loaded||y._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(y))){var w=h.type;w==="mousedown"&&tO(y),this._fireDOMEvent(h,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,y,w){if(h.type==="click"){var O=i({},h);O.type="preclick",this._fireDOMEvent(O,O.type,w)}var $=this._findEventTargets(h,y);if(w){for(var I=[],V=0;V<w.length;V++)w[V].listens(y,!0)&&I.push(w[V]);$=I.concat($)}if($.length){y==="contextmenu"&&yr(h);var Y=$[0],Q={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var se=Y.getLatLng&&(!Y._radius||Y._radius<=10);Q.containerPoint=se?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(h),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=se?Y.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for(V=0;V<$.length;V++)if($[V].fire(y,Q,!0),Q.originalEvent._stopped||$[V].options.bubblingMouseEvents===!1&&k(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,y=this._handlers.length;h<y;h++)this._handlers[h].disable()},whenReady:function(h,y){return this._loaded?h.call(y||this,{target:this}):this.on("load",h,y),this},_getMapPanePos:function(){return xf(this._mapPane)||new B(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,y){var w=h&&y!==void 0?this._getNewPixelOrigin(h,y):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,y){var w=this.getSize()._divideBy(2);return this.project(h,y)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,y,w){var O=this._getNewPixelOrigin(w,y);return this.project(h,y)._subtract(O)},_latLngBoundsToNewLayerBounds:function(h,y,w){var O=this._getNewPixelOrigin(w,y);return Z([this.project(h.getSouthWest(),y)._subtract(O),this.project(h.getNorthWest(),y)._subtract(O),this.project(h.getSouthEast(),y)._subtract(O),this.project(h.getNorthEast(),y)._subtract(O)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,y,w){if(!w)return h;var O=this.project(h,y),$=this.getSize().divideBy(2),I=new K(O.subtract($),O.add($)),V=this._getBoundsOffset(I,w,y);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?h:this.unproject(O.add(V),y)},_limitOffset:function(h,y){if(!y)return h;var w=this.getPixelBounds(),O=new K(w.min.add(h),w.max.add(h));return h.add(this._getBoundsOffset(O,y))},_getBoundsOffset:function(h,y,w){var O=Z(this.project(y.getNorthEast(),w),this.project(y.getSouthWest(),w)),$=O.min.subtract(h.min),I=O.max.subtract(h.max),V=this._rebound($.x,-I.x),Y=this._rebound($.y,-I.y);return new B(V,Y)},_rebound:function(h,y){return h+y>0?Math.round(h-y)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(y))},_limitZoom:function(h){var y=this.getMinZoom(),w=this.getMaxZoom(),O=Fe.any3d?this.options.zoomSnap:1;return O&&(h=Math.round(h/O)*O),Math.max(y,Math.min(w,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Cn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,y){var w=this._getCenterOffset(h)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,y),!0)},_createAnimProxy:function(){var h=this._proxy=bt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(y){var w=XC,O=this._proxy.style[w];vf(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),O===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),y=this.getZoom();vf(this._proxy,this.project(h,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,y,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var O=this.getZoomScale(y),$=this._getCenterOffset(h)._divideBy(1-1/O);return w.animate!==!0&&!this.getSize().contains($)?!1:(D(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(h,y,!0)},this),!0)},_animateZoom:function(h,y,w,O){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=y,rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:y,noUpdate:O}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Cn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Nhe(h,y){return new gt(h,y)}var So=R.extend({options:{position:"topright"},initialize:function(h){g(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var y=this._map;return y&&y.removeControl(this),this.options.position=h,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var y=this._container=this.onAdd(h),w=this.getPosition(),O=h._controlCorners[w];return rt(y,"leaflet-control"),w.indexOf("bottom")!==-1?O.insertBefore(y,O.firstChild):O.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),l0=function(h){return new So(h)};gt.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},y="leaflet-",w=this._controlContainer=bt("div",y+"control-container",this._container);function O($,I){var V=y+$+" "+y+I;h[$+I]=bt("div",V,w)}O("top","left"),O("top","right"),O("bottom","left"),O("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)pn(this._controlCorners[h]);pn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var r6=So.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,y,w,O){return w<O?-1:O<w?1:0}},initialize:function(h,y,w){g(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var O in h)this._addLayer(h[O],O);for(O in y)this._addLayer(y[O],O,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return So.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,y){return this._addLayer(h,y),this._map?this._update():this},addOverlay:function(h,y){return this._addLayer(h,y,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var y=this._getLayer(l(h));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Cn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Cn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",y=this._container=bt("div",h),w=this.options.collapsed;y.setAttribute("aria-haspopup",!0),s0(y),oO(y);var O=this._section=bt("section",h+"-list");w&&(this._map.on("click",this.collapse,this),Qe(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var $=this._layersLink=bt("a",h+"-toggle",y);$.href="#",$.title="Layers",$.setAttribute("role","button"),Qe($,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){yr(I),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=bt("div",h+"-base",O),this._separator=bt("div",h+"-separator",O),this._overlaysList=bt("div",h+"-overlays",O),y.appendChild(O)},_getLayer:function(h){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&l(this._layers[y].layer)===h)return this._layers[y]},_addLayer:function(h,y,w){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:y,overlay:w}),this.options.sortLayers&&this._layers.sort(o(function(O,$){return this.options.sortFunction(O.layer,$.layer,O.name,$.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Jx(this._baseLayersList),Jx(this._overlaysList),this._layerControlInputs=[];var h,y,w,O,$=0;for(w=0;w<this._layers.length;w++)O=this._layers[w],this._addItem(O),y=y||O.overlay,h=h||!O.overlay,$+=O.overlay?0:1;return this.options.hideSingleBase&&(h=h&&$>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=y&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var y=this._getLayer(l(h.target)),w=y.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;w&&this._map.fire(w,y)},_createRadioElement:function(h,y){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(y?' checked="checked"':"")+"/>",O=document.createElement("div");return O.innerHTML=w,O.firstChild},_addItem:function(h){var y=document.createElement("label"),w=this._map.hasLayer(h.layer),O;h.overlay?(O=document.createElement("input"),O.type="checkbox",O.className="leaflet-control-layers-selector",O.defaultChecked=w):O=this._createRadioElement("leaflet-base-layers_"+l(this),w),this._layerControlInputs.push(O),O.layerId=l(h.layer),Qe(O,"click",this._onInputClick,this);var $=document.createElement("span");$.innerHTML=" "+h.name;var I=document.createElement("span");y.appendChild(I),I.appendChild(O),I.appendChild($);var V=h.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,y,w,O=[],$=[];this._handlingClick=!0;for(var I=h.length-1;I>=0;I--)y=h[I],w=this._getLayer(y.layerId).layer,y.checked?O.push(w):y.checked||$.push(w);for(I=0;I<$.length;I++)this._map.hasLayer($[I])&&this._map.removeLayer($[I]);for(I=0;I<O.length;I++)this._map.hasLayer(O[I])||this._map.addLayer(O[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,y,w,O=this._map.getZoom(),$=h.length-1;$>=0;$--)y=h[$],w=this._getLayer(y.layerId).layer,y.disabled=w.options.minZoom!==void 0&&O<w.options.minZoom||w.options.maxZoom!==void 0&&O>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Qe(h,"click",yr),this.expand();var y=this;setTimeout(function(){Vt(h,"click",yr),y._preventClick=!1})}}),Mhe=function(h,y,w){return new r6(h,y,w)},lO=So.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var y="leaflet-control-zoom",w=bt("div",y+" leaflet-bar"),O=this.options;return this._zoomInButton=this._createButton(O.zoomInText,O.zoomInTitle,y+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(O.zoomOutText,O.zoomOutTitle,y+"-out",w,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,y,w,O,$){var I=bt("a",w,O);return I.innerHTML=h,I.href="#",I.title=y,I.setAttribute("role","button"),I.setAttribute("aria-label",y),s0(I),Qe(I,"click",_f),Qe(I,"click",$,this),Qe(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var h=this._map,y="leaflet-disabled";Cn(this._zoomInButton,y),Cn(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(rt(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(rt(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});gt.mergeOptions({zoomControl:!0}),gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new lO,this.addControl(this.zoomControl))});var jhe=function(h){return new lO(h)},i6=So.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var y="leaflet-control-scale",w=bt("div",y),O=this.options;return this._addScales(O,y+"-line",w),h.on(O.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),w},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,y,w){h.metric&&(this._mScale=bt("div",y,w)),h.imperial&&(this._iScale=bt("div",y,w))},_update:function(){var h=this._map,y=h.getSize().y/2,w=h.distance(h.containerPointToLatLng([0,y]),h.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(w)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var y=this._getRoundNum(h),w=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,w,y/h)},_updateImperial:function(h){var y=h*3.2808399,w,O,$;y>5280?(w=y/5280,O=this._getRoundNum(w),this._updateScale(this._iScale,O+" mi",O/w)):($=this._getRoundNum(y),this._updateScale(this._iScale,$+" ft",$/y))},_updateScale:function(h,y,w){h.style.width=Math.round(this.options.maxWidth*w)+"px",h.innerHTML=y},_getRoundNum:function(h){var y=Math.pow(10,(Math.floor(h)+"").length-1),w=h/y;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,y*w}}),Dhe=function(h){return new i6(h)},Fhe='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',uO=So.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Fe.inlineSvg?Fhe+" ":"")+"Leaflet</a>"},initialize:function(h){g(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=bt("div","leaflet-control-attribution"),s0(this._container);for(var y in h._layers)h._layers[y].getAttribution&&this.addAttribution(h._layers[y].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var y in this._attributions)this._attributions[y]&&h.push(y);var w=[];this.options.prefix&&w.push(this.options.prefix),h.length&&w.push(h.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});gt.mergeOptions({attributionControl:!0}),gt.addInitHook(function(){this.options.attributionControl&&new uO().addTo(this)});var Lhe=function(h){return new uO(h)};So.Layers=r6,So.Zoom=lO,So.Scale=i6,So.Attribution=uO,l0.layers=Mhe,l0.zoom=jhe,l0.scale=Dhe,l0.attribution=Lhe;var ys=R.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ys.addTo=function(h,y){return h.addHandler(y,this),this};var Ihe={Events:z},a6=Fe.touch?"touchstart mousedown":"mousedown",Lu=q.extend({options:{clickTolerance:3},initialize:function(h,y,w,O){g(this,O),this._element=h,this._dragStartTarget=y||h,this._preventOutline=w},enable:function(){this._enabled||(Qe(this._dragStartTarget,a6,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Lu._dragging===this&&this.finishDrag(!0),Vt(this._dragStartTarget,a6,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!ZC(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){Lu._dragging===this&&this.finishDrag();return}if(!(Lu._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(Lu._dragging=this,this._preventOutline&&tO(this._element),QC(),i0(),!this._moving)){this.fire("down");var y=h.touches?h.touches[0]:h,w=Kz(this._element);this._startPoint=new B(y.clientX,y.clientY),this._startPos=xf(this._element),this._parentScale=nO(w);var O=h.type==="mousedown";Qe(document,O?"mousemove":"touchmove",this._onMove,this),Qe(document,O?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var y=h.touches&&h.touches.length===1?h.touches[0]:h,w=new B(y.clientX,y.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,yr(h),this._moved||(this.fire("dragstart"),this._moved=!0,rt(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),jn(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Cn(document.body,"leaflet-dragging"),this._lastTarget&&(Cn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Vt(document,"mousemove touchmove",this._onMove,this),Vt(document,"mouseup touchend touchcancel",this._onUp,this),JC(),a0();var y=this._moved&&this._moving;this._moving=!1,Lu._dragging=!1,y&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function o6(h,y,w){var O,$=[1,4,2,8],I,V,Y,Q,se,Ce,He,ot;for(I=0,Ce=h.length;I<Ce;I++)h[I]._code=wf(h[I],y);for(Y=0;Y<4;Y++){for(He=$[Y],O=[],I=0,Ce=h.length,V=Ce-1;I<Ce;V=I++)Q=h[I],se=h[V],Q._code&He?se._code&He||(ot=ib(se,Q,He,y,w),ot._code=wf(ot,y),O.push(ot)):(se._code&He&&(ot=ib(se,Q,He,y,w),ot._code=wf(ot,y),O.push(ot)),O.push(Q));h=O}return h}function s6(h,y){var w,O,$,I,V,Y,Q,se,Ce;if(!h||h.length===0)throw new Error("latlngs not passed");La(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var He=ve([0,0]),ot=me(h),ii=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());ii<1700&&(He=cO(h));var er=h.length,Ia=[];for(w=0;w<er;w++){var $i=ve(h[w]);Ia.push(y.project(ve([$i.lat-He.lat,$i.lng-He.lng])))}for(Y=Q=se=0,w=0,O=er-1;w<er;O=w++)$=Ia[w],I=Ia[O],V=$.y*I.x-I.y*$.x,Q+=($.x+I.x)*V,se+=($.y+I.y)*V,Y+=V*3;Y===0?Ce=Ia[0]:Ce=[Q/Y,se/Y];var zh=y.unproject(M(Ce));return ve([zh.lat+He.lat,zh.lng+He.lng])}function cO(h){for(var y=0,w=0,O=0,$=0;$<h.length;$++){var I=ve(h[$]);y+=I.lat,w+=I.lng,O++}return ve([y/O,w/O])}var Rhe={__proto__:null,clipPolygon:o6,polygonCenter:s6,centroid:cO};function l6(h,y){if(!y||!h.length)return h.slice();var w=y*y;return h=Uhe(h,w),h=Bhe(h,w),h}function u6(h,y,w){return Math.sqrt(u0(h,y,w,!0))}function zhe(h,y,w){return u0(h,y,w)}function Bhe(h,y){var w=h.length,O=typeof Uint8Array<"u"?Uint8Array:Array,$=new O(w);$[0]=$[w-1]=1,fO(h,$,y,0,w-1);var I,V=[];for(I=0;I<w;I++)$[I]&&V.push(h[I]);return V}function fO(h,y,w,O,$){var I=0,V,Y,Q;for(Y=O+1;Y<=$-1;Y++)Q=u0(h[Y],h[O],h[$],!0),Q>I&&(V=Y,I=Q);I>w&&(y[V]=1,fO(h,y,w,O,V),fO(h,y,w,V,$))}function Uhe(h,y){for(var w=[h[0]],O=1,$=0,I=h.length;O<I;O++)Whe(h[O],h[$])>y&&(w.push(h[O]),$=O);return $<I-1&&w.push(h[I-1]),w}var c6;function f6(h,y,w,O,$){var I=O?c6:wf(h,w),V=wf(y,w),Y,Q,se;for(c6=V;;){if(!(I|V))return[h,y];if(I&V)return!1;Y=I||V,Q=ib(h,y,Y,w,$),se=wf(Q,w),Y===I?(h=Q,I=se):(y=Q,V=se)}}function ib(h,y,w,O,$){var I=y.x-h.x,V=y.y-h.y,Y=O.min,Q=O.max,se,Ce;return w&8?(se=h.x+I*(Q.y-h.y)/V,Ce=Q.y):w&4?(se=h.x+I*(Y.y-h.y)/V,Ce=Y.y):w&2?(se=Q.x,Ce=h.y+V*(Q.x-h.x)/I):w&1&&(se=Y.x,Ce=h.y+V*(Y.x-h.x)/I),new B(se,Ce,$)}function wf(h,y){var w=0;return h.x<y.min.x?w|=1:h.x>y.max.x&&(w|=2),h.y<y.min.y?w|=4:h.y>y.max.y&&(w|=8),w}function Whe(h,y){var w=y.x-h.x,O=y.y-h.y;return w*w+O*O}function u0(h,y,w,O){var $=y.x,I=y.y,V=w.x-$,Y=w.y-I,Q=V*V+Y*Y,se;return Q>0&&(se=((h.x-$)*V+(h.y-I)*Y)/Q,se>1?($=w.x,I=w.y):se>0&&($+=V*se,I+=Y*se)),V=h.x-$,Y=h.y-I,O?V*V+Y*Y:new B($,I)}function La(h){return!S(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function d6(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),La(h)}function h6(h,y){var w,O,$,I,V,Y,Q,se;if(!h||h.length===0)throw new Error("latlngs not passed");La(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Ce=ve([0,0]),He=me(h),ot=He.getNorthWest().distanceTo(He.getSouthWest())*He.getNorthEast().distanceTo(He.getNorthWest());ot<1700&&(Ce=cO(h));var ii=h.length,er=[];for(w=0;w<ii;w++){var Ia=ve(h[w]);er.push(y.project(ve([Ia.lat-Ce.lat,Ia.lng-Ce.lng])))}for(w=0,O=0;w<ii-1;w++)O+=er[w].distanceTo(er[w+1])/2;if(O===0)se=er[0];else for(w=0,I=0;w<ii-1;w++)if(V=er[w],Y=er[w+1],$=V.distanceTo(Y),I+=$,I>O){Q=(I-O)/$,se=[Y.x-Q*(Y.x-V.x),Y.y-Q*(Y.y-V.y)];break}var $i=y.unproject(M(se));return ve([$i.lat+Ce.lat,$i.lng+Ce.lng])}var qhe={__proto__:null,simplify:l6,pointToSegmentDistance:u6,closestPointOnSegment:zhe,clipSegment:f6,_getEdgeIntersection:ib,_getBitCode:wf,_sqClosestPointOnSegment:u0,isFlat:La,_flat:d6,polylineCenter:h6},dO={project:function(h){return new B(h.lng,h.lat)},unproject:function(h){return new le(h.y,h.x)},bounds:new K([-180,-90],[180,90])},hO={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var y=Math.PI/180,w=this.R,O=h.lat*y,$=this.R_MINOR/w,I=Math.sqrt(1-$*$),V=I*Math.sin(O),Y=Math.tan(Math.PI/4-O/2)/Math.pow((1-V)/(1+V),I/2);return O=-w*Math.log(Math.max(Y,1e-10)),new B(h.lng*y*w,O)},unproject:function(h){for(var y=180/Math.PI,w=this.R,O=this.R_MINOR/w,$=Math.sqrt(1-O*O),I=Math.exp(-h.y/w),V=Math.PI/2-2*Math.atan(I),Y=0,Q=.1,se;Y<15&&Math.abs(Q)>1e-7;Y++)se=$*Math.sin(V),se=Math.pow((1-se)/(1+se),$/2),Q=Math.PI/2-2*Math.atan(I*se)-V,V+=Q;return new le(V*y,h.x*y/w)}},Hhe={__proto__:null,LonLat:dO,Mercator:hO,SphericalMercator:De},Ghe=i({},it,{code:"EPSG:3395",projection:hO,transformation:function(){var h=.5/(Math.PI*hO.R);return oe(h,.5,-h,.5)}()}),p6=i({},it,{code:"EPSG:4326",projection:dO,transformation:oe(1/180,1,-1/180,.5)}),Vhe=i({},mt,{projection:dO,transformation:oe(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,y){var w=y.lng-h.lng,O=y.lat-h.lat;return Math.sqrt(w*w+O*O)},infinite:!0});mt.Earth=it,mt.EPSG3395=Ghe,mt.EPSG3857=Ct,mt.EPSG900913=nt,mt.EPSG4326=p6,mt.Simple=Vhe;var Ao=q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[l(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[l(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var y=h.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var w=this.getEvents();y.on(w,this),this.once("remove",function(){y.off(w,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});gt.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var y=l(h);return this._layers[y]?this:(this._layers[y]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var y=l(h);return this._layers[y]?(this._loaded&&h.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return l(h)in this._layers},eachLayer:function(h,y){for(var w in this._layers)h.call(y,this._layers[w]);return this},_addLayers:function(h){h=h?S(h)?h:[h]:[];for(var y=0,w=h.length;y<w;y++)this.addLayer(h[y])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[l(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var y=l(h);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,y=-1/0,w=this._getZoomSpan();for(var O in this._zoomBoundLayers){var $=this._zoomBoundLayers[O].options;h=$.minZoom===void 0?h:Math.min(h,$.minZoom),y=$.maxZoom===void 0?y:Math.max(y,$.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=h===1/0?void 0:h,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Dh=Ao.extend({initialize:function(h,y){g(this,y),this._layers={};var w,O;if(h)for(w=0,O=h.length;w<O;w++)this.addLayer(h[w])},addLayer:function(h){var y=this.getLayerId(h);return this._layers[y]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var y=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(h){var y=typeof h=="number"?h:this.getLayerId(h);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var y=Array.prototype.slice.call(arguments,1),w,O;for(w in this._layers)O=this._layers[w],O[h]&&O[h].apply(O,y);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,y){for(var w in this._layers)h.call(y,this._layers[w]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return l(h)}}),Xhe=function(h,y){return new Dh(h,y)},Al=Dh.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),Dh.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),Dh.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new U;for(var y in this._layers){var w=this._layers[y];h.extend(w.getBounds?w.getBounds():w.getLatLng())}return h}}),Zhe=function(h,y){return new Al(h,y)},Fh=R.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){g(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,y){var w=this._getIconUrl(h);if(!w){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var O=this._createImg(w,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(O,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),O},_setIconStyles:function(h,y){var w=this.options,O=w[y+"Size"];typeof O=="number"&&(O=[O,O]);var $=M(O),I=M(y==="shadow"&&w.shadowAnchor||w.iconAnchor||$&&$.divideBy(2,!0));h.className="leaflet-marker-"+y+" "+(w.className||""),I&&(h.style.marginLeft=-I.x+"px",h.style.marginTop=-I.y+"px"),$&&(h.style.width=$.x+"px",h.style.height=$.y+"px")},_createImg:function(h,y){return y=y||document.createElement("img"),y.src=h,y},_getIconUrl:function(h){return Fe.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function Yhe(h){return new Fh(h)}var c0=Fh.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof c0.imagePath!="string"&&(c0.imagePath=this._detectIconPath()),(this.options.imagePath||c0.imagePath)+Fh.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var y=function(w,O,$){var I=O.exec(w);return I&&I[$]};return h=y(h,/^url\((['"])?(.+)\1\)$/,2),h&&y(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=bt("div","leaflet-default-icon-path",document.body),y=r0(h,"background-image")||r0(h,"backgroundImage");if(document.body.removeChild(h),y=this._stripUrl(y),y)return y;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),m6=ys.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new Lu(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),rt(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Cn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var y=this._marker,w=y._map,O=this._marker.options.autoPanSpeed,$=this._marker.options.autoPanPadding,I=xf(y._icon),V=w.getPixelBounds(),Y=w.getPixelOrigin(),Q=Z(V.min._subtract(Y).add($),V.max._subtract(Y).subtract($));if(!Q.contains(I)){var se=M((Math.max(Q.max.x,I.x)-Q.max.x)/(V.max.x-Q.max.x)-(Math.min(Q.min.x,I.x)-Q.min.x)/(V.min.x-Q.min.x),(Math.max(Q.max.y,I.y)-Q.max.y)/(V.max.y-Q.max.y)-(Math.min(Q.min.y,I.y)-Q.min.y)/(V.min.y-Q.min.y)).multiplyBy(O);w.panBy(se,{animate:!1}),this._draggable._newPos._add(se),this._draggable._startPos._add(se),jn(y._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=D(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,h)))},_onDrag:function(h){var y=this._marker,w=y._shadow,O=xf(y._icon),$=y._map.layerPointToLatLng(O);w&&jn(w,O),y._latlng=$,h.latlng=$,h.oldLatLng=this._oldLatLng,y.fire("move",h).fire("drag",h)},_onDragEnd:function(h){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),ab=Ao.extend({options:{icon:new c0,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,y){g(this,y),this._latlng=ve(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var y=this._latlng;return this._latlng=ve(h),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=h.icon.createIcon(this._icon),O=!1;w!==this._icon&&(this._icon&&this._removeIcon(),O=!0,h.title&&(w.title=h.title),w.tagName==="IMG"&&(w.alt=h.alt||"")),rt(w,y),h.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qe(w,"focus",this._panOnFocus,this);var $=h.icon.createShadow(this._shadow),I=!1;$!==this._shadow&&(this._removeShadow(),I=!0),$&&(rt($,y),$.alt=""),this._shadow=$,h.opacity<1&&this._updateOpacity(),O&&this.getPane().appendChild(this._icon),this._initInteraction(),$&&I&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(this._icon,"focus",this._panOnFocus,this),pn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pn(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&jn(this._icon,h),this._shadow&&jn(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var y=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),m6)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new m6(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&Fa(this._icon,h),this._shadow&&Fa(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var y=this.options.icon.options,w=y.iconSize?M(y.iconSize):M(0,0),O=y.iconAnchor?M(y.iconAnchor):M(0,0);h.panInside(this._latlng,{paddingTopLeft:O,paddingBottomRight:w.subtract(O)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Khe(h,y){return new ab(h,y)}var Iu=Ao.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return g(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ob=Iu.extend({options:{fill:!0,radius:10},initialize:function(h,y){g(this,y),this._latlng=ve(h),this._radius=this.options.radius},setLatLng:function(h){var y=this._latlng;return this._latlng=ve(h),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var y=h&&h.radius||this._radius;return Iu.prototype.setStyle.call(this,h),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,y=this._radiusY||h,w=this._clickTolerance(),O=[h+w,y+w];this._pxBounds=new K(this._point.subtract(O),this._point.add(O))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qhe(h,y){return new ob(h,y)}var pO=ob.extend({initialize:function(h,y,w){if(typeof y=="number"&&(y=i({},w,{radius:y})),g(this,y),this._latlng=ve(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new U(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:Iu.prototype.setStyle,_project:function(){var h=this._latlng.lng,y=this._latlng.lat,w=this._map,O=w.options.crs;if(O.distance===it.distance){var $=Math.PI/180,I=this._mRadius/it.R/$,V=w.project([y+I,h]),Y=w.project([y-I,h]),Q=V.add(Y).divideBy(2),se=w.unproject(Q).lat,Ce=Math.acos((Math.cos(I*$)-Math.sin(y*$)*Math.sin(se*$))/(Math.cos(y*$)*Math.cos(se*$)))/$;(isNaN(Ce)||Ce===0)&&(Ce=I/Math.cos(Math.PI/180*y)),this._point=Q.subtract(w.getPixelOrigin()),this._radius=isNaN(Ce)?0:Q.x-w.project([se,h-Ce]).x,this._radiusY=Q.y-V.y}else{var He=O.unproject(O.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(He).x}this._updateBounds()}});function Jhe(h,y,w){return new pO(h,y,w)}var El=Iu.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,y){g(this,y),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var y=1/0,w=null,O=u0,$,I,V=0,Y=this._parts.length;V<Y;V++)for(var Q=this._parts[V],se=1,Ce=Q.length;se<Ce;se++){$=Q[se-1],I=Q[se];var He=O(h,$,I,!0);He<y&&(y=He,w=O(h,$,I))}return w&&(w.distance=Math.sqrt(y)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return h6(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,y){return y=y||this._defaultShape(),h=ve(h),y.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new U,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return La(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var y=[],w=La(h),O=0,$=h.length;O<$;O++)w?(y[O]=ve(h[O]),this._bounds.extend(y[O])):y[O]=this._convertLatLngs(h[O]);return y},_project:function(){var h=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),y=new B(h,h);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(h,y,w){var O=h[0]instanceof le,$=h.length,I,V;if(O){for(V=[],I=0;I<$;I++)V[I]=this._map.latLngToLayerPoint(h[I]),w.extend(V[I]);y.push(V)}else for(I=0;I<$;I++)this._projectLatlngs(h[I],y,w)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,w,O,$,I,V,Y,Q;for(w=0,$=0,I=this._rings.length;w<I;w++)for(Q=this._rings[w],O=0,V=Q.length;O<V-1;O++)Y=f6(Q[O],Q[O+1],h,O,!0),Y&&(y[$]=y[$]||[],y[$].push(Y[0]),(Y[1]!==Q[O+1]||O===V-2)&&(y[$].push(Y[1]),$++))}},_simplifyPoints:function(){for(var h=this._parts,y=this.options.smoothFactor,w=0,O=h.length;w<O;w++)h[w]=l6(h[w],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,y){var w,O,$,I,V,Y,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(w=0,I=this._parts.length;w<I;w++)for(Y=this._parts[w],O=0,V=Y.length,$=V-1;O<V;$=O++)if(!(!y&&O===0)&&u6(h,Y[$],Y[O])<=Q)return!0;return!1}});function epe(h,y){return new El(h,y)}El._flat=d6;var Lh=El.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return s6(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var y=El.prototype._convertLatLngs.call(this,h),w=y.length;return w>=2&&y[0]instanceof le&&y[0].equals(y[w-1])&&y.pop(),y},_setLatLngs:function(h){El.prototype._setLatLngs.call(this,h),La(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return La(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,y=this.options.weight,w=new B(y,y);if(h=new K(h.min.subtract(w),h.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var O=0,$=this._rings.length,I;O<$;O++)I=o6(this._rings[O],h,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var y=!1,w,O,$,I,V,Y,Q,se;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(I=0,Q=this._parts.length;I<Q;I++)for(w=this._parts[I],V=0,se=w.length,Y=se-1;V<se;Y=V++)O=w[V],$=w[Y],O.y>h.y!=$.y>h.y&&h.x<($.x-O.x)*(h.y-O.y)/($.y-O.y)+O.x&&(y=!y);return y||El.prototype._containsPoint.call(this,h,!0)}});function tpe(h,y){return new Lh(h,y)}var kl=Al.extend({initialize:function(h,y){g(this,y),this._layers={},h&&this.addData(h)},addData:function(h){var y=S(h)?h:h.features,w,O,$;if(y){for(w=0,O=y.length;w<O;w++)$=y[w],($.geometries||$.geometry||$.features||$.coordinates)&&this.addData($);return this}var I=this.options;if(I.filter&&!I.filter(h))return this;var V=sb(h,I);return V?(V.feature=cb(h),V.defaultOptions=V.options,this.resetStyle(V),I.onEachFeature&&I.onEachFeature(h,V),this.addLayer(V)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(y){this._setLayerStyle(y,h)},this)},_setLayerStyle:function(h,y){h.setStyle&&(typeof y=="function"&&(y=y(h.feature)),h.setStyle(y))}});function sb(h,y){var w=h.type==="Feature"?h.geometry:h,O=w?w.coordinates:null,$=[],I=y&&y.pointToLayer,V=y&&y.coordsToLatLng||mO,Y,Q,se,Ce;if(!O&&!w)return null;switch(w.type){case"Point":return Y=V(O),g6(I,h,Y,y);case"MultiPoint":for(se=0,Ce=O.length;se<Ce;se++)Y=V(O[se]),$.push(g6(I,h,Y,y));return new Al($);case"LineString":case"MultiLineString":return Q=lb(O,w.type==="LineString"?0:1,V),new El(Q,y);case"Polygon":case"MultiPolygon":return Q=lb(O,w.type==="Polygon"?1:2,V),new Lh(Q,y);case"GeometryCollection":for(se=0,Ce=w.geometries.length;se<Ce;se++){var He=sb({geometry:w.geometries[se],type:"Feature",properties:h.properties},y);He&&$.push(He)}return new Al($);case"FeatureCollection":for(se=0,Ce=w.features.length;se<Ce;se++){var ot=sb(w.features[se],y);ot&&$.push(ot)}return new Al($);default:throw new Error("Invalid GeoJSON object.")}}function g6(h,y,w,O){return h?h(y,w):new ab(w,O&&O.markersInheritOptions&&O)}function mO(h){return new le(h[1],h[0],h[2])}function lb(h,y,w){for(var O=[],$=0,I=h.length,V;$<I;$++)V=y?lb(h[$],y-1,w):(w||mO)(h[$]),O.push(V);return O}function gO(h,y){return h=ve(h),h.alt!==void 0?[d(h.lng,y),d(h.lat,y),d(h.alt,y)]:[d(h.lng,y),d(h.lat,y)]}function ub(h,y,w,O){for(var $=[],I=0,V=h.length;I<V;I++)$.push(y?ub(h[I],La(h[I])?0:y-1,w,O):gO(h[I],O));return!y&&w&&$.length>0&&$.push($[0].slice()),$}function Ih(h,y){return h.feature?i({},h.feature,{geometry:y}):cb(y)}function cb(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var yO={toGeoJSON:function(h){return Ih(this,{type:"Point",coordinates:gO(this.getLatLng(),h)})}};ab.include(yO),pO.include(yO),ob.include(yO),El.include({toGeoJSON:function(h){var y=!La(this._latlngs),w=ub(this._latlngs,y?1:0,!1,h);return Ih(this,{type:(y?"Multi":"")+"LineString",coordinates:w})}}),Lh.include({toGeoJSON:function(h){var y=!La(this._latlngs),w=y&&!La(this._latlngs[0]),O=ub(this._latlngs,w?2:y?1:0,!0,h);return y||(O=[O]),Ih(this,{type:(w?"Multi":"")+"Polygon",coordinates:O})}}),Dh.include({toMultiPoint:function(h){var y=[];return this.eachLayer(function(w){y.push(w.toGeoJSON(h).geometry.coordinates)}),Ih(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(h){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(h);var w=y==="GeometryCollection",O=[];return this.eachLayer(function($){if($.toGeoJSON){var I=$.toGeoJSON(h);if(w)O.push(I.geometry);else{var V=cb(I);V.type==="FeatureCollection"?O.push.apply(O,V.features):O.push(V)}}}),w?Ih(this,{geometries:O,type:"GeometryCollection"}):{type:"FeatureCollection",features:O}}});function y6(h,y){return new kl(h,y)}var npe=y6,fb=Ao.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,y,w){this._url=h,this._bounds=me(y),g(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Mh(this._image),this},bringToBack:function(){return this._map&&jh(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=me(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",y=this._image=h?this._url:bt("img");if(rt(y,"leaflet-image-layer"),this._zoomAnimated&&rt(y,"leaflet-zoom-animated"),this.options.className&&rt(y,this.options.className),y.onselectstart=f,y.onmousemove=f,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(h){var y=this._map.getZoomScale(h.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;vf(this._image,w,y)},_reset:function(){var h=this._image,y=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=y.getSize();jn(h,y.min),h.style.width=w.x+"px",h.style.height=w.y+"px"},_updateOpacity:function(){Fa(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),rpe=function(h,y,w){return new fb(h,y,w)},v6=fb.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",y=this._image=h?this._url:bt("video");if(rt(y,"leaflet-image-layer"),this._zoomAnimated&&rt(y,"leaflet-zoom-animated"),this.options.className&&rt(y,this.options.className),y.onselectstart=f,y.onmousemove=f,y.onloadeddata=o(this.fire,this,"load"),h){for(var w=y.getElementsByTagName("source"),O=[],$=0;$<w.length;$++)O.push(w[$].src);this._url=w.length>0?O:[y.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var V=bt("source");V.src=this._url[I],y.appendChild(V)}}});function ipe(h,y,w){return new v6(h,y,w)}var x6=fb.extend({_initImage:function(){var h=this._image=this._url;rt(h,"leaflet-image-layer"),this._zoomAnimated&&rt(h,"leaflet-zoom-animated"),this.options.className&&rt(h,this.options.className),h.onselectstart=f,h.onmousemove=f}});function ape(h,y,w){return new x6(h,y,w)}var vs=Ao.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,y){h&&(h instanceof le||S(h))?(this._latlng=ve(h),g(this,y)):(g(this,h),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&Fa(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&Fa(this._container,1),this.bringToFront(),this.options.interactive&&(rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(Fa(this._container,0),this._removeTimeout=setTimeout(o(pn,void 0,this._container),200)):pn(this._container),this.options.interactive&&(Cn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=ve(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Mh(this._container),this},bringToBack:function(){return this._map&&jh(this._container),this},_prepareOpen:function(h){var y=this._source;if(!y._map)return!1;if(y instanceof Al){y=null;var w=this._source._layers;for(var O in w)if(w[O]._map){y=w[O];break}if(!y)return!1;this._source=y}if(!h)if(y.getCenter)h=y.getCenter();else if(y.getLatLng)h=y.getLatLng();else if(y.getBounds)h=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")h.innerHTML=y;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),y=M(this.options.offset),w=this._getAnchor();this._zoomAnimated?jn(this._container,h.add(w)):y=y.add(h).add(w);var O=this._containerBottom=-y.y,$=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=O+"px",this._container.style.left=$+"px"}},_getAnchor:function(){return[0,0]}});gt.include({_initOverlay:function(h,y,w,O){var $=y;return $ instanceof h||($=new h(O).setContent(y)),w&&$.setLatLng(w),$}}),Ao.include({_initOverlay:function(h,y,w,O){var $=w;return $ instanceof h?(g($,O),$._source=this):($=y&&!O?y:new h(O,this),$.setContent(w)),$}});var db=vs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,vs.prototype.openOn.call(this,h)},onAdd:function(h){vs.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Iu||this._source.on("preclick",bf))},onRemove:function(h){vs.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Iu||this._source.off("preclick",bf))},getEvents:function(){var h=vs.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",y=this._container=bt("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=bt("div",h+"-content-wrapper",y);if(this._contentNode=bt("div",h+"-content",w),s0(y),oO(this._contentNode),Qe(y,"contextmenu",bf),this._tipContainer=bt("div",h+"-tip-container",y),this._tip=bt("div",h+"-tip",this._tipContainer),this.options.closeButton){var O=this._closeButton=bt("a",h+"-close-button",y);O.setAttribute("role","button"),O.setAttribute("aria-label","Close popup"),O.href="#close",O.innerHTML='<span aria-hidden="true">&#215;</span>',Qe(O,"click",function($){yr($),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,y=h.style;y.width="",y.whiteSpace="nowrap";var w=h.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),y.width=w+1+"px",y.whiteSpace="",y.height="";var O=h.offsetHeight,$=this.options.maxHeight,I="leaflet-popup-scrolled";$&&O>$?(y.height=$+"px",rt(h,I)):Cn(h,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var y=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),w=this._getAnchor();jn(this._container,y.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,y=parseInt(r0(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+y,O=this._containerWidth,$=new B(this._containerLeft,-w-this._containerBottom);$._add(xf(this._container));var I=h.layerPointToContainerPoint($),V=M(this.options.autoPanPadding),Y=M(this.options.autoPanPaddingTopLeft||V),Q=M(this.options.autoPanPaddingBottomRight||V),se=h.getSize(),Ce=0,He=0;I.x+O+Q.x>se.x&&(Ce=I.x+O-se.x+Q.x),I.x-Ce-Y.x<0&&(Ce=I.x-Y.x),I.y+w+Q.y>se.y&&(He=I.y+w-se.y+Q.y),I.y-He-Y.y<0&&(He=I.y-Y.y),(Ce||He)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Ce,He]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ope=function(h,y){return new db(h,y)};gt.mergeOptions({closePopupOnClick:!0}),gt.include({openPopup:function(h,y,w){return this._initOverlay(db,h,y,w).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Ao.include({bindPopup:function(h,y){return this._popup=this._initOverlay(db,this._popup,h,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Al||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){_f(h);var y=h.layer||h.target;if(this._popup._source===y&&!(y instanceof Iu)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=y,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var hb=vs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){vs.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){vs.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=vs.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",y=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bt("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var y,w,O=this._map,$=this._container,I=O.latLngToContainerPoint(O.getCenter()),V=O.layerPointToContainerPoint(h),Y=this.options.direction,Q=$.offsetWidth,se=$.offsetHeight,Ce=M(this.options.offset),He=this._getAnchor();Y==="top"?(y=Q/2,w=se):Y==="bottom"?(y=Q/2,w=0):Y==="center"?(y=Q/2,w=se/2):Y==="right"?(y=0,w=se/2):Y==="left"?(y=Q,w=se/2):V.x<I.x?(Y="right",y=0,w=se/2):(Y="left",y=Q+(Ce.x+He.x)*2,w=se/2),h=h.subtract(M(y,w,!0)).add(Ce).add(He),Cn($,"leaflet-tooltip-right"),Cn($,"leaflet-tooltip-left"),Cn($,"leaflet-tooltip-top"),Cn($,"leaflet-tooltip-bottom"),rt($,"leaflet-tooltip-"+Y),jn($,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&Fa(this._container,h)},_animateZoom:function(h){var y=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(y)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),spe=function(h,y){return new hb(h,y)};gt.include({openTooltip:function(h,y,w){return this._initOverlay(hb,h,y,w).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Ao.include({bindTooltip:function(h,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hb,this._tooltip,h,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var y=h?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[y](w),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Al||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var y=typeof h.getElement=="function"&&h.getElement();y&&(Qe(y,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Qe(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var y=typeof h.getElement=="function"&&h.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var y=h.latlng,w,O;this._tooltip.options.sticky&&h.originalEvent&&(w=this._map.mouseEventToContainerPoint(h.originalEvent),O=this._map.containerPointToLayerPoint(w),y=this._map.layerPointToLatLng(O)),this._tooltip.setLatLng(y)}});var b6=Fh.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var y=h&&h.tagName==="DIV"?h:document.createElement("div"),w=this.options;if(w.html instanceof Element?(Jx(y),y.appendChild(w.html)):y.innerHTML=w.html!==!1?w.html:"",w.bgPos){var O=M(w.bgPos);y.style.backgroundPosition=-O.x+"px "+-O.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function lpe(h){return new b6(h)}Fh.Default=c0;var f0=Ao.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Fe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){g(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),pn(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Mh(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(jh(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof B?h:new B(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var y=this.getPane().children,w=-h(-1/0,1/0),O=0,$=y.length,I;O<$;O++)I=y[O].style.zIndex,y[O]!==this._container&&I&&(w=h(w,+I));isFinite(w)&&(this.options.zIndex=w+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Fe.ielt9){Fa(this._container,this.options.opacity);var h=+new Date,y=!1,w=!1;for(var O in this._tiles){var $=this._tiles[O];if(!(!$.current||!$.loaded)){var I=Math.min(1,(h-$.loaded)/200);Fa($.el,I),I<1?y=!0:($.active?w=!0:this._onOpaqueTile($),$.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),y&&(F(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=bt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,y=this.options.maxZoom;if(h!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===h?(this._levels[w].el.style.zIndex=y-Math.abs(h-w),this._onUpdateLevel(w)):(pn(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var O=this._levels[h],$=this._map;return O||(O=this._levels[h]={},O.el=bt("div","leaflet-tile-container leaflet-zoom-animated",this._container),O.el.style.zIndex=y,O.origin=$.project($.unproject($.getPixelOrigin()),h).round(),O.zoom=h,this._setZoomTransform(O,$.getCenter(),$.getZoom()),f(O.el.offsetWidth),this._onCreateLevel(O)),this._level=O,O}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var h,y,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)y=this._tiles[h],y.retain=y.current;for(h in this._tiles)if(y=this._tiles[h],y.current&&!y.active){var O=y.coords;this._retainParent(O.x,O.y,O.z,O.z-5)||this._retainChildren(O.x,O.y,O.z,O.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var y in this._tiles)this._tiles[y].coords.z===h&&this._removeTile(y)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)pn(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,y,w,O){var $=Math.floor(h/2),I=Math.floor(y/2),V=w-1,Y=new B(+$,+I);Y.z=+V;var Q=this._tileCoordsToKey(Y),se=this._tiles[Q];return se&&se.active?(se.retain=!0,!0):(se&&se.loaded&&(se.retain=!0),V>O?this._retainParent($,I,V,O):!1)},_retainChildren:function(h,y,w,O){for(var $=2*h;$<2*h+2;$++)for(var I=2*y;I<2*y+2;I++){var V=new B($,I);V.z=w+1;var Y=this._tileCoordsToKey(V),Q=this._tiles[Y];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);w+1<O&&this._retainChildren($,I,w+1,O)}},_resetView:function(h){var y=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var y=this.options;return y.minNativeZoom!==void 0&&h<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<h?y.maxNativeZoom:h},_setView:function(h,y,w,O){var $=Math.round(y);this.options.maxZoom!==void 0&&$>this.options.maxZoom||this.options.minZoom!==void 0&&$<this.options.minZoom?$=void 0:$=this._clampZoom($);var I=this.options.updateWhenZooming&&$!==this._tileZoom;(!O||I)&&(this._tileZoom=$,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),$!==void 0&&this._update(h),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(h,y)},_setZoomTransforms:function(h,y){for(var w in this._levels)this._setZoomTransform(this._levels[w],h,y)},_setZoomTransform:function(h,y,w){var O=this._map.getZoomScale(w,h.zoom),$=h.origin.multiplyBy(O).subtract(this._map._getNewPixelOrigin(y,w)).round();Fe.any3d?vf(h.el,$,O):jn(h.el,$)},_resetGrid:function(){var h=this._map,y=h.options.crs,w=this._tileSize=this.getTileSize(),O=this._tileZoom,$=this._map.getPixelWorldBounds(this._tileZoom);$&&(this._globalTileRange=this._pxBoundsToTileRange($)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,y.wrapLng[0]],O).x/w.x),Math.ceil(h.project([0,y.wrapLng[1]],O).x/w.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([y.wrapLat[0],0],O).y/w.x),Math.ceil(h.project([y.wrapLat[1],0],O).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var y=this._map,w=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),O=y.getZoomScale(w,this._tileZoom),$=y.project(h,this._tileZoom).floor(),I=y.getSize().divideBy(O*2);return new K($.subtract(I),$.add(I))},_update:function(h){var y=this._map;if(y){var w=this._clampZoom(y.getZoom());if(h===void 0&&(h=y.getCenter()),this._tileZoom!==void 0){var O=this._getTiledPixelBounds(h),$=this._pxBoundsToTileRange(O),I=$.getCenter(),V=[],Y=this.options.keepBuffer,Q=new K($.getBottomLeft().subtract([Y,-Y]),$.getTopRight().add([Y,-Y]));if(!(isFinite($.min.x)&&isFinite($.min.y)&&isFinite($.max.x)&&isFinite($.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var se in this._tiles){var Ce=this._tiles[se].coords;(Ce.z!==this._tileZoom||!Q.contains(new B(Ce.x,Ce.y)))&&(this._tiles[se].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(h,w);return}for(var He=$.min.y;He<=$.max.y;He++)for(var ot=$.min.x;ot<=$.max.x;ot++){var ii=new B(ot,He);if(ii.z=this._tileZoom,!!this._isValidTile(ii)){var er=this._tiles[this._tileCoordsToKey(ii)];er?er.current=!0:V.push(ii)}}if(V.sort(function($i,zh){return $i.distanceTo(I)-zh.distanceTo(I)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ia=document.createDocumentFragment();for(ot=0;ot<V.length;ot++)this._addTile(V[ot],Ia);this._level.el.appendChild(Ia)}}}},_isValidTile:function(h){var y=this._map.options.crs;if(!y.infinite){var w=this._globalTileRange;if(!y.wrapLng&&(h.x<w.min.x||h.x>w.max.x)||!y.wrapLat&&(h.y<w.min.y||h.y>w.max.y))return!1}if(!this.options.bounds)return!0;var O=this._tileCoordsToBounds(h);return me(this.options.bounds).overlaps(O)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var y=this._map,w=this.getTileSize(),O=h.scaleBy(w),$=O.add(w),I=y.unproject(O,h.z),V=y.unproject($,h.z);return[I,V]},_tileCoordsToBounds:function(h){var y=this._tileCoordsToNwSe(h),w=new U(y[0],y[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var y=h.split(":"),w=new B(+y[0],+y[1]);return w.z=+y[2],w},_removeTile:function(h){var y=this._tiles[h];y&&(pn(y.el),delete this._tiles[h],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){rt(h,"leaflet-tile");var y=this.getTileSize();h.style.width=y.x+"px",h.style.height=y.y+"px",h.onselectstart=f,h.onmousemove=f,Fe.ielt9&&this.options.opacity<1&&Fa(h,this.options.opacity)},_addTile:function(h,y){var w=this._getTilePos(h),O=this._tileCoordsToKey(h),$=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile($),this.createTile.length<2&&D(o(this._tileReady,this,h,null,$)),jn($,w),this._tiles[O]={el:$,coords:h,current:!0},y.appendChild($),this.fire("tileloadstart",{tile:$,coords:h})},_tileReady:function(h,y,w){y&&this.fire("tileerror",{error:y,tile:w,coords:h});var O=this._tileCoordsToKey(h);w=this._tiles[O],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Fa(w.el,0),F(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),y||(rt(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Fe.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var y=new B(this._wrapX?c(h.x,this._wrapX):h.x,this._wrapY?c(h.y,this._wrapY):h.y);return y.z=h.z,y},_pxBoundsToTileRange:function(h){var y=this.getTileSize();return new K(h.min.unscaleBy(y).floor(),h.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function upe(h){return new f0(h)}var Rh=f0.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,y){this._url=h,y=g(this,y),y.detectRetina&&Fe.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,y){return this._url===h&&y===void 0&&(y=!0),this._url=h,y||this.redraw(),this},createTile:function(h,y){var w=document.createElement("img");return Qe(w,"load",o(this._tileOnLoad,this,y,w)),Qe(w,"error",o(this._tileOnError,this,y,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(h),w},getTileUrl:function(h){var y={r:Fe.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-h.y;this.options.tms&&(y.y=w),y["-y"]=w}return b(this._url,i(y,this.options))},_tileOnLoad:function(h,y){Fe.ielt9?setTimeout(o(h,this,null,y),0):h(null,y)},_tileOnError:function(h,y,w){var O=this.options.errorTileUrl;O&&y.getAttribute("src")!==O&&(y.src=O),h(w,y)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,y=this.options.maxZoom,w=this.options.zoomReverse,O=this.options.zoomOffset;return w&&(h=y-h),h+O},_getSubdomain:function(h){var y=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var h,y;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(y=this._tiles[h].el,y.onload=f,y.onerror=f,!y.complete)){y.src=A;var w=this._tiles[h].coords;pn(y),delete this._tiles[h],this.fire("tileabort",{tile:y,coords:w})}},_removeTile:function(h){var y=this._tiles[h];if(y)return y.el.setAttribute("src",A),f0.prototype._removeTile.call(this,h)},_tileReady:function(h,y,w){if(!(!this._map||w&&w.getAttribute("src")===A))return f0.prototype._tileReady.call(this,h,y,w)}});function _6(h,y){return new Rh(h,y)}var w6=Rh.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,y){this._url=h;var w=i({},this.defaultWmsParams);for(var O in y)O in this.options||(w[O]=y[O]);y=g(this,y);var $=y.detectRetina&&Fe.retina?2:1,I=this.getTileSize();w.width=I.x*$,w.height=I.y*$,this.wmsParams=w},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,Rh.prototype.onAdd.call(this,h)},getTileUrl:function(h){var y=this._tileCoordsToNwSe(h),w=this._crs,O=Z(w.project(y[0]),w.project(y[1])),$=O.min,I=O.max,V=(this._wmsVersion>=1.3&&this._crs===p6?[$.y,$.x,I.y,I.x]:[$.x,$.y,I.x,I.y]).join(","),Y=Rh.prototype.getTileUrl.call(this,h);return Y+v(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(h,y){return i(this.wmsParams,h),y||this.redraw(),this}});function cpe(h,y){return new w6(h,y)}Rh.WMS=w6,_6.wms=cpe;var Cl=Ao.extend({options:{padding:.1},initialize:function(h){g(this,h),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,y){var w=this._map.getZoomScale(y,this._zoom),O=this._map.getSize().multiplyBy(.5+this.options.padding),$=this._map.project(this._center,y),I=O.multiplyBy(-w).add($).subtract(this._map._getNewPixelOrigin(h,y));Fe.any3d?vf(this._container,I,w):jn(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,y=this._map.getSize(),w=this._map.containerPointToLayerPoint(y.multiplyBy(-h)).round();this._bounds=new K(w,w.add(y.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),S6=Cl.extend({options:{tolerance:0},getEvents:function(){var h=Cl.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cl.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Qe(h,"mousemove",this._onMouseMove,this),Qe(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qe(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,pn(this._container),Vt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var y in this._layers)h=this._layers[y],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cl.prototype._update.call(this);var h=this._bounds,y=this._container,w=h.getSize(),O=Fe.retina?2:1;jn(y,h.min),y.width=O*w.x,y.height=O*w.y,y.style.width=w.x+"px",y.style.height=w.y+"px",Fe.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Cl.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[l(h)]=h;var y=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var y=h._order,w=y.next,O=y.prev;w?w.prev=O:this._drawLast=O,O?O.next=w:this._drawFirst=w,delete h._order,delete this._layers[l(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var y=h.options.dashArray.split(/[, ]+/),w=[],O,$;for($=0;$<y.length;$++){if(O=Number(y[$]),isNaN(O))return;w.push(O)}h.options._dashArray=w}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var y=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(h._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(h._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var y=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,y=this._redrawBounds;if(this._ctx.save(),y){var w=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var O=this._drawFirst;O;O=O.next)h=O.layer,(!y||h._pxBounds&&h._pxBounds.intersects(y))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,y){if(this._drawing){var w,O,$,I,V=h._parts,Y=V.length,Q=this._ctx;if(Y){for(Q.beginPath(),w=0;w<Y;w++){for(O=0,$=V[w].length;O<$;O++)I=V[w][O],Q[O?"lineTo":"moveTo"](I.x,I.y);y&&Q.closePath()}this._fillStroke(Q,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var y=h._point,w=this._ctx,O=Math.max(Math.round(h._radius),1),$=(Math.max(Math.round(h._radiusY),1)||O)/O;$!==1&&(w.save(),w.scale(1,$)),w.beginPath(),w.arc(y.x,y.y/$,O,0,Math.PI*2,!1),$!==1&&w.restore(),this._fillStroke(w,h)}},_fillStroke:function(h,y){var w=y.options;w.fill&&(h.globalAlpha=w.fillOpacity,h.fillStyle=w.fillColor||w.color,h.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(h.setLineDash&&h.setLineDash(y.options&&y.options._dashArray||[]),h.globalAlpha=w.opacity,h.lineWidth=w.weight,h.strokeStyle=w.color,h.lineCap=w.lineCap,h.lineJoin=w.lineJoin,h.stroke())},_onClick:function(h){for(var y=this._map.mouseEventToLayerPoint(h),w,O,$=this._drawFirst;$;$=$.next)w=$.layer,w.options.interactive&&w._containsPoint(y)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(w))&&(O=w);this._fireEvent(O?[O]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,y)}},_handleMouseOut:function(h){var y=this._hoveredLayer;y&&(Cn(this._container,"leaflet-interactive"),this._fireEvent([y],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,y){if(!this._mouseHoverThrottled){for(var w,O,$=this._drawFirst;$;$=$.next)w=$.layer,w.options.interactive&&w._containsPoint(y)&&(O=w);O!==this._hoveredLayer&&(this._handleMouseOut(h),O&&(rt(this._container,"leaflet-interactive"),this._fireEvent([O],h,"mouseover"),this._hoveredLayer=O)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,y,w){this._map._fireDOMEvent(y,w||y.type,h)},_bringToFront:function(h){var y=h._order;if(y){var w=y.next,O=y.prev;if(w)w.prev=O;else return;O?O.next=w:w&&(this._drawFirst=w),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(h)}},_bringToBack:function(h){var y=h._order;if(y){var w=y.next,O=y.prev;if(O)O.next=w;else return;w?w.prev=O:O&&(this._drawLast=O),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(h)}}});function A6(h){return Fe.canvas?new S6(h):null}var d0=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),fpe={_initContainer:function(){this._container=bt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cl.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var y=h._container=d0("shape");rt(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",h._path=d0("path"),y.appendChild(h._path),this._updateStyle(h),this._layers[l(h)]=h},_addPath:function(h){var y=h._container;this._container.appendChild(y),h.options.interactive&&h.addInteractiveTarget(y)},_removePath:function(h){var y=h._container;pn(y),h.removeInteractiveTarget(y),delete this._layers[l(h)]},_updateStyle:function(h){var y=h._stroke,w=h._fill,O=h.options,$=h._container;$.stroked=!!O.stroke,$.filled=!!O.fill,O.stroke?(y||(y=h._stroke=d0("stroke")),$.appendChild(y),y.weight=O.weight+"px",y.color=O.color,y.opacity=O.opacity,O.dashArray?y.dashStyle=S(O.dashArray)?O.dashArray.join(" "):O.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=O.lineCap.replace("butt","flat"),y.joinstyle=O.lineJoin):y&&($.removeChild(y),h._stroke=null),O.fill?(w||(w=h._fill=d0("fill")),$.appendChild(w),w.color=O.fillColor||O.color,w.opacity=O.fillOpacity):w&&($.removeChild(w),h._fill=null)},_updateCircle:function(h){var y=h._point.round(),w=Math.round(h._radius),O=Math.round(h._radiusY||w);this._setPath(h,h._empty()?"M0 0":"AL "+y.x+","+y.y+" "+w+","+O+" 0,"+65535*360)},_setPath:function(h,y){h._path.v=y},_bringToFront:function(h){Mh(h._container)},_bringToBack:function(h){jh(h._container)}},pb=Fe.vml?d0:Rt,h0=Cl.extend({_initContainer:function(){this._container=pb("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pb("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pn(this._container),Vt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cl.prototype._update.call(this);var h=this._bounds,y=h.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,w.setAttribute("width",y.x),w.setAttribute("height",y.y)),jn(w,h.min),w.setAttribute("viewBox",[h.min.x,h.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(h){var y=h._path=pb("path");h.options.className&&rt(y,h.options.className),h.options.interactive&&rt(y,"leaflet-interactive"),this._updateStyle(h),this._layers[l(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){pn(h._path),h.removeInteractiveTarget(h._path),delete this._layers[l(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var y=h._path,w=h.options;y&&(w.stroke?(y.setAttribute("stroke",w.color),y.setAttribute("stroke-opacity",w.opacity),y.setAttribute("stroke-width",w.weight),y.setAttribute("stroke-linecap",w.lineCap),y.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?y.setAttribute("stroke-dasharray",w.dashArray):y.removeAttribute("stroke-dasharray"),w.dashOffset?y.setAttribute("stroke-dashoffset",w.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),w.fill?(y.setAttribute("fill",w.fillColor||w.color),y.setAttribute("fill-opacity",w.fillOpacity),y.setAttribute("fill-rule",w.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(h,y){this._setPath(h,$t(h._parts,y))},_updateCircle:function(h){var y=h._point,w=Math.max(Math.round(h._radius),1),O=Math.max(Math.round(h._radiusY),1)||w,$="a"+w+","+O+" 0 1,0 ",I=h._empty()?"M0 0":"M"+(y.x-w)+","+y.y+$+w*2+",0 "+$+-w*2+",0 ";this._setPath(h,I)},_setPath:function(h,y){h._path.setAttribute("d",y)},_bringToFront:function(h){Mh(h._path)},_bringToBack:function(h){jh(h._path)}});Fe.vml&&h0.include(fpe);function E6(h){return Fe.svg||Fe.vml?new h0(h):null}gt.include({getRenderer:function(h){var y=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var y=this._paneRenderers[h];return y===void 0&&(y=this._createRenderer({pane:h}),this._paneRenderers[h]=y),y},_createRenderer:function(h){return this.options.preferCanvas&&A6(h)||E6(h)}});var k6=Lh.extend({initialize:function(h,y){Lh.prototype.initialize.call(this,this._boundsToLatLngs(h),y)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=me(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function dpe(h,y){return new k6(h,y)}h0.create=pb,h0.pointsToPath=$t,kl.geometryToLayer=sb,kl.coordsToLatLng=mO,kl.coordsToLatLngs=lb,kl.latLngToCoords=gO,kl.latLngsToCoords=ub,kl.getFeature=Ih,kl.asFeature=cb,gt.mergeOptions({boxZoom:!0});var C6=ys.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Qe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),i0(),QC(),this._startPoint=this._map.mouseEventToContainerPoint(h),Qe(document,{contextmenu:_f,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=bt("div","leaflet-zoom-box",this._container),rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var y=new K(this._point,this._startPoint),w=y.getSize();jn(this._box,y.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(pn(this._box),Cn(this._container,"leaflet-crosshair")),a0(),JC(),Vt(document,{contextmenu:_f,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new U(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gt.addInitHook("addHandler","boxZoom",C6),gt.mergeOptions({doubleClickZoom:!0});var O6=ys.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var y=this._map,w=y.getZoom(),O=y.options.zoomDelta,$=h.originalEvent.shiftKey?w-O:w+O;y.options.doubleClickZoom==="center"?y.setZoom($):y.setZoomAround(h.containerPoint,$)}});gt.addInitHook("addHandler","doubleClickZoom",O6),gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var P6=ys.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new Lu(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Cn(this._map._container,"leaflet-grab"),Cn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=me(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var y=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(y),this._prunePositions(y)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,y){return h-(h-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;h.x<y.min.x&&(h.x=this._viscousLimit(h.x,y.min.x)),h.y<y.min.y&&(h.y=this._viscousLimit(h.y,y.min.y)),h.x>y.max.x&&(h.x=this._viscousLimit(h.x,y.max.x)),h.y>y.max.y&&(h.y=this._viscousLimit(h.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,y=Math.round(h/2),w=this._initialWorldOffset,O=this._draggable._newPos.x,$=(O-y+w)%h+y-w,I=(O+y+w)%h-y-w,V=Math.abs($+w)<Math.abs(I+w)?$:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(h){var y=this._map,w=y.options,O=!w.inertia||h.noInertia||this._times.length<2;if(y.fire("dragend",h),O)y.fire("moveend");else{this._prunePositions(+new Date);var $=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,V=w.easeLinearity,Y=$.multiplyBy(V/I),Q=Y.distanceTo([0,0]),se=Math.min(w.inertiaMaxSpeed,Q),Ce=Y.multiplyBy(se/Q),He=se/(w.inertiaDeceleration*V),ot=Ce.multiplyBy(-He/2).round();!ot.x&&!ot.y?y.fire("moveend"):(ot=y._limitOffset(ot,y.options.maxBounds),D(function(){y.panBy(ot,{duration:He,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});gt.addInitHook("addHandler","dragging",P6),gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $6=ys.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Qe(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Vt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,y=document.documentElement,w=h.scrollTop||y.scrollTop,O=h.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(O,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var y=this._panKeys={},w=this.keyCodes,O,$;for(O=0,$=w.left.length;O<$;O++)y[w.left[O]]=[-1*h,0];for(O=0,$=w.right.length;O<$;O++)y[w.right[O]]=[h,0];for(O=0,$=w.down.length;O<$;O++)y[w.down[O]]=[0,h];for(O=0,$=w.up.length;O<$;O++)y[w.up[O]]=[0,-1*h]},_setZoomDelta:function(h){var y=this._zoomKeys={},w=this.keyCodes,O,$;for(O=0,$=w.zoomIn.length;O<$;O++)y[w.zoomIn[O]]=h;for(O=0,$=w.zoomOut.length;O<$;O++)y[w.zoomOut[O]]=-h},_addHooks:function(){Qe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var y=h.keyCode,w=this._map,O;if(y in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(O=this._panKeys[y],h.shiftKey&&(O=M(O).multiplyBy(3)),w.options.maxBounds&&(O=w._limitOffset(M(O),w.options.maxBounds)),w.options.worldCopyJump){var $=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(O)));w.panTo($)}else w.panBy(O)}else if(y in this._zoomKeys)w.setZoom(w.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;_f(h)}}});gt.addInitHook("addHandler","keyboard",$6),gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var T6=ys.extend({addHooks:function(){Qe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var y=t6(h),w=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var O=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),O),_f(h)},_performZoom:function(){var h=this._map,y=h.getZoom(),w=this._map.options.zoomSnap||0;h._stop();var O=this._delta/(this._map.options.wheelPxPerZoomLevel*4),$=4*Math.log(2/(1+Math.exp(-Math.abs(O))))/Math.LN2,I=w?Math.ceil($/w)*w:$,V=h._limitZoom(y+(this._delta>0?I:-I))-y;this._delta=0,this._startTime=null,V&&(h.options.scrollWheelZoom==="center"?h.setZoom(y+V):h.setZoomAround(this._lastMousePos,y+V))}});gt.addInitHook("addHandler","scrollWheelZoom",T6);var hpe=600;gt.mergeOptions({tapHold:Fe.touchNative&&Fe.safari&&Fe.mobile,tapTolerance:15});var N6=ys.extend({addHooks:function(){Qe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var y=h.touches[0];this._startPos=this._newPos=new B(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Qe(document,"touchend",yr),Qe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),hpe),Qe(document,"touchend touchcancel contextmenu",this._cancel,this),Qe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){Vt(document,"touchend",yr),Vt(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)},_onMove:function(h){var y=h.touches[0];this._newPos=new B(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,y){var w=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});w._simulated=!0,y.target.dispatchEvent(w)}});gt.addInitHook("addHandler","tapHold",N6),gt.mergeOptions({touchZoom:Fe.touch,bounceAtZoomLimits:!0});var M6=ys.extend({addHooks:function(){rt(this._map._container,"leaflet-touch-zoom"),Qe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Cn(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var y=this._map;if(!(!h.touches||h.touches.length!==2||y._animatingZoom||this._zooming)){var w=y.mouseEventToContainerPoint(h.touches[0]),O=y.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(w.add(O)._divideBy(2))),this._startDist=w.distanceTo(O),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),Qe(document,"touchmove",this._onTouchMove,this),Qe(document,"touchend touchcancel",this._onTouchEnd,this),yr(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var y=this._map,w=y.mouseEventToContainerPoint(h.touches[0]),O=y.mouseEventToContainerPoint(h.touches[1]),$=w.distanceTo(O)/this._startDist;if(this._zoom=y.getScaleZoom($,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&$<1||this._zoom>y.getMaxZoom()&&$>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,$===1)return}else{var I=w._add(O)._divideBy(2)._subtract(this._centerPoint);if($===1&&I.x===0&&I.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var V=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(V,this,!0),yr(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gt.addInitHook("addHandler","touchZoom",M6),gt.BoxZoom=C6,gt.DoubleClickZoom=O6,gt.Drag=P6,gt.Keyboard=$6,gt.ScrollWheelZoom=T6,gt.TapHold=N6,gt.TouchZoom=M6,n.Bounds=K,n.Browser=Fe,n.CRS=mt,n.Canvas=S6,n.Circle=pO,n.CircleMarker=ob,n.Class=R,n.Control=So,n.DivIcon=b6,n.DivOverlay=vs,n.DomEvent=The,n.DomUtil=Phe,n.Draggable=Lu,n.Evented=q,n.FeatureGroup=Al,n.GeoJSON=kl,n.GridLayer=f0,n.Handler=ys,n.Icon=Fh,n.ImageOverlay=fb,n.LatLng=le,n.LatLngBounds=U,n.Layer=Ao,n.LayerGroup=Dh,n.LineUtil=qhe,n.Map=gt,n.Marker=ab,n.Mixin=Ihe,n.Path=Iu,n.Point=B,n.PolyUtil=Rhe,n.Polygon=Lh,n.Polyline=El,n.Popup=db,n.PosAnimation=n6,n.Projection=Hhe,n.Rectangle=k6,n.Renderer=Cl,n.SVG=h0,n.SVGOverlay=x6,n.TileLayer=Rh,n.Tooltip=hb,n.Transformation=ze,n.Util=W,n.VideoOverlay=v6,n.bind=o,n.bounds=Z,n.canvas=A6,n.circle=Jhe,n.circleMarker=Qhe,n.control=l0,n.divIcon=lpe,n.extend=i,n.featureGroup=Zhe,n.geoJSON=y6,n.geoJson=npe,n.gridLayer=upe,n.icon=Yhe,n.imageOverlay=rpe,n.latLng=ve,n.latLngBounds=me,n.layerGroup=Xhe,n.map=Nhe,n.marker=Khe,n.point=M,n.polygon=tpe,n.polyline=epe,n.popup=ope,n.rectangle=dpe,n.setOptions=g,n.stamp=l,n.svg=E6,n.svgOverlay=ape,n.tileLayer=_6,n.tooltip=spe,n.transformation=oe,n.version=r,n.videoOverlay=ipe;var ppe=window.L;n.noConflict=function(){return window.L=ppe,this},window.L=n})})(mN,mN.exports);var pg=mN.exports;const I0e=kt(pg);function pK(e,t){const n=X.useRef(t);X.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function R0e(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const z0e=1;function B0e(e){return Object.freeze({__version:z0e,map:e})}function mK(e,t){return Object.freeze({...e,...t})}const gK=X.createContext(null),yK=gK.Provider;function UA(){const e=X.useContext(gK);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function vK(e){function t(n,r){const{instance:i,context:a}=e(n).current;return X.useImperativeHandle(r,()=>i),n.children==null?null:H.createElement(yK,{value:a},n.children)}return X.forwardRef(t)}function U0e(e){function t(n,r){const[i,a]=X.useState(!1),{instance:o}=e(n,a).current;X.useImperativeHandle(r,()=>o),X.useEffect(function(){i&&o.update()},[o,i,n.children]);const s=o._contentNode;return s?oK.createPortal(n.children,s):null}return X.forwardRef(t)}function W0e(e){function t(n,r){const{instance:i}=e(n).current;return X.useImperativeHandle(r,()=>i),null}return X.forwardRef(t)}function aF(e,t){const n=X.useRef();X.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function WA(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function q0e(e,t){return function(r,i){const a=UA(),o=e(WA(r,a),a);return pK(a.map,r.attribution),aF(o.current,r.eventHandlers),t(o.current,a,r,i),o}}function qA(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function HA(e,t){return t==null?function(r,i){const a=X.useRef();return a.current||(a.current=e(r,i)),a}:function(r,i){const a=X.useRef();a.current||(a.current=e(r,i));const o=X.useRef(r),{instance:s}=a.current;return X.useEffect(function(){o.current!==r&&(t(s,r,o.current),o.current=r)},[s,r,i]),a}}function xK(e,t){X.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function bK(e){return function(n){const r=UA(),i=e(WA(n,r),r);return pK(r.map,n.attribution),aF(i.current,n.eventHandlers),xK(i.current,r),i}}function H0e(e,t){const n=X.useRef();X.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function G0e(e){return function(n){const r=UA(),i=e(WA(n,r),r);return aF(i.current,n.eventHandlers),xK(i.current,r),H0e(i.current,n),i}}function V0e(e,t){const n=HA(e,t),r=bK(n);return vK(r)}function X0e(e,t){const n=HA(e),r=q0e(n,t);return U0e(r)}function Z0e(e,t){const n=HA(e,t),r=G0e(n);return vK(r)}function Y0e(e,t){const n=HA(e,t),r=bK(n);return W0e(r)}function K0e(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function _K(){return UA().map}const KB=Z0e(function({center:t,children:n,...r},i){const a=new pg.CircleMarker(t,r);return qA(a,mK(i,{overlayContainer:a}))},R0e);function gN(){return gN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gN.apply(this,arguments)}function Q0e({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:o,style:s,whenReady:l,zoom:u,...c},f){const[d]=X.useState({className:i,id:a,style:s}),[p,m]=X.useState(null);X.useImperativeHandle(f,()=>(p==null?void 0:p.map)??null,[p]);const g=X.useCallback(x=>{if(x!==null&&p===null){const b=new pg.Map(x,c);n!=null&&u!=null?b.setView(n,u):e!=null&&b.fitBounds(e,t),l!=null&&b.whenReady(l),m(B0e(b))}},[]);X.useEffect(()=>()=>{p==null||p.map.remove()},[p]);const v=p?H.createElement(yK,{value:p},r):o??null;return H.createElement("div",gN({},d,{ref:g}),v)}const wK=X.forwardRef(Q0e),J0e=V0e(function({position:t,...n},r){const i=new pg.Marker(t,n);return qA(i,mK(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),yN=X0e(function(t,n){const r=new pg.Popup(t,n.overlayContainer);return qA(r,n)},function(t,n,{position:r},i){X.useEffect(function(){const{instance:o}=t;function s(u){u.popup===o&&(o.update(),i(!0))}function l(u){u.popup===o&&i(!1)}return n.map.on({popupopen:s,popupclose:l}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var c;n.map.off({popupopen:s,popupclose:l}),(c=n.overlayContainer)==null||c.unbindPopup(),n.map.removeLayer(o)}},[t,n,i,r])}),SK=Y0e(function({url:t,...n},r){const i=new pg.TileLayer(t,WA(n,r));return qA(i,r)},function(t,n,r){K0e(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),eye=[{id:"alpha",name:"Project Alpha",lat:33.4512,lng:-112.0832,type:"Highway Construction",status:"on_track",variance:2.1,equipment:48,volume:42e4},{id:"beta",name:"Project Beta",lat:33.4287,lng:-112.1145,type:"Solar Farm Prep",status:"at_risk",variance:-.5,equipment:32,volume:28e4},{id:"gamma",name:"Project Gamma",lat:33.4701,lng:-112.0623,type:"Commercial Pad",status:"behind",variance:-8.2,equipment:24,volume:156e3},{id:"delta",name:"Project Delta",lat:33.4089,lng:-112.0901,type:"Reservoir Excavation",status:"on_track",variance:4.7,equipment:28,volume:34e4},{id:"echo",name:"Project Echo",lat:33.4398,lng:-112.1288,type:"Residential Mass Grading",status:"on_track",variance:1.2,equipment:20,volume:195e3}],AK=[33.44,-112.08],EK=12,tye=e=>{const n={on_track:"#22c55e",at_risk:"#f59e0b",behind:"#ef4444"}[e]||"#64748b";return I0e.divIcon({className:"custom-marker",html:`
      <div style="
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: ${n}30;
        border: 3px solid ${n};
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 12px ${n}60;
      ">
        <div style="
          width: 12px;
          height: 12px;
          border-radius: 50%;
          background: ${n};
        "></div>
      </div>
    `,iconSize:[32,32],iconAnchor:[16,16]})};function nye({selectedSite:e}){const t=_K();return X.useEffect(()=>{e?t.flyTo([e.lat,e.lng],14,{duration:1}):t.flyTo(AK,EK,{duration:1})},[e,t]),null}function QB(e){const[t]=X.useState(eye),[n,r]=X.useState(null),[i,a]=X.useState(!0),o=X.useRef(null);X.useEffect(()=>{const u=setTimeout(()=>a(!1),500);return()=>clearTimeout(u)},[]);const s=u=>{switch(u){case"on_track":return{bg:"bg-terra-green",text:"text-terra-green",border:"border-terra-green"};case"at_risk":return{bg:"bg-terra-amber",text:"text-terra-amber",border:"border-terra-amber"};case"behind":return{bg:"bg-terra-red",text:"text-terra-red",border:"border-terra-red"};default:return{bg:"bg-slate-500",text:"text-slate-500",border:"border-slate-500"}}},l={totalSites:t.length,totalEquipment:t.reduce((u,c)=>u+c.equipment,0),totalVolume:t.reduce((u,c)=>u+c.volume,0),avgCostPerYard:4.2,fleetUtilization:87};return i?_.jsx("div",{className:"p-6 flex items-center justify-center h-full",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"w-12 h-12 border-4 border-terra-amber border-t-transparent rounded-full animate-spin mx-auto mb-4"}),_.jsx("p",{className:"text-slate-400",children:"Loading regional data..."})]})}):_.jsxs("div",{className:"p-6 animated-grid-bg min-h-screen",children:[_.jsxs("div",{className:"mb-6",children:[_.jsxs("h1",{className:"text-2xl font-semibold text-slate-200 flex items-center gap-3",children:[_.jsx(By,{className:"text-terra-amber"}),"Regional Overview"]}),_.jsxs("p",{className:"text-slate-400",children:["Arizona Construction Corridor  ",t.length," Active Sites"]})]}),_.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[_.jsx("div",{className:"card p-4",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-terra-amber/20 flex items-center justify-center",children:_.jsx(Vw,{size:20,className:"text-terra-amber"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Active Sites"}),_.jsx("p",{className:"text-2xl font-semibold text-terra-amber",children:l.totalSites})]})]})}),_.jsx("div",{className:"card p-4",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-terra-cyan/20 flex items-center justify-center",children:_.jsx(Ed,{size:20,className:"text-terra-cyan"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Equipment Units"}),_.jsx("p",{className:"text-2xl font-semibold text-terra-cyan",children:l.totalEquipment})]})]})}),_.jsx("div",{className:"card p-4",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-terra-green/20 flex items-center justify-center",children:_.jsx(Rs,{size:20,className:"text-terra-green"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Volume Moved"}),_.jsxs("p",{className:"text-2xl font-semibold text-terra-green",children:[(l.totalVolume/1e6).toFixed(1),"M yd"]})]})]})}),_.jsx("div",{className:"card p-4",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-terra-purple/20 flex items-center justify-center",children:_.jsx(fK,{size:20,className:"text-terra-purple"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Cost per Yard"}),_.jsxs("p",{className:"text-2xl font-semibold text-terra-purple",children:["$",l.avgCostPerYard]})]})]})}),_.jsx("div",{className:"card p-4",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center",children:_.jsx(Rs,{size:20,className:"text-blue-400"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Fleet Utilization"}),_.jsxs("p",{className:"text-2xl font-semibold text-blue-400",children:[l.fleetUtilization,"%"]})]})]})})]}),_.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[_.jsx("div",{className:"col-span-8",children:_.jsxs("div",{className:"card h-[500px] relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-4 left-4 z-[1000] bg-navy-900/90 px-3 py-2 rounded-lg",children:_.jsxs("h3",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[_.jsx(By,{size:16,className:"text-terra-amber"}),"Site Locations - Phoenix, AZ"]})}),_.jsxs(wK,{center:AK,zoom:EK,style:{height:"100%",width:"100%"},ref:o,className:"rounded-lg",children:[_.jsx(SK,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),t.map(u=>_.jsx(J0e,{position:[u.lat,u.lng],icon:tye(u.status),eventHandlers:{click:()=>r(u)},children:_.jsx(yN,{className:"terra-popup",children:_.jsxs("div",{className:"bg-navy-800 border border-navy-600 rounded-lg p-3 min-w-[200px]",children:[_.jsx("h4",{className:"font-semibold text-slate-200",children:u.name}),_.jsx("p",{className:"text-xs text-slate-400 mb-2",children:u.type}),_.jsxs("div",{className:"flex items-center justify-between text-xs",children:[_.jsx("span",{className:"text-slate-400",children:"Variance:"}),_.jsxs("span",{className:u.variance>=0?"text-terra-green":"text-terra-red",children:[u.variance>=0?"+":"",u.variance,"%"]})]}),_.jsxs("div",{className:"flex items-center justify-between text-xs mt-1",children:[_.jsx("span",{className:"text-slate-400",children:"Equipment:"}),_.jsxs("span",{className:"text-terra-cyan",children:[u.equipment," units"]})]})]})})},u.id)),_.jsx(nye,{selectedSite:n})]}),_.jsxs("div",{className:"absolute bottom-4 left-4 z-[1000] bg-navy-800/90 rounded-lg p-3",children:[_.jsx("div",{className:"text-xs text-slate-400 mb-2",children:"Status"}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-terra-green"}),_.jsx("span",{className:"text-xs text-slate-300",children:"On Track"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-terra-amber"}),_.jsx("span",{className:"text-xs text-slate-300",children:"At Risk"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-terra-red"}),_.jsx("span",{className:"text-xs text-slate-300",children:"Behind"})]})]})]})]})}),_.jsxs("div",{className:"col-span-4 space-y-4",children:[n?_.jsxs("div",{className:"card p-4 animate-slide-up",children:[_.jsxs("div",{className:"flex items-start justify-between mb-4",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-200",children:n.name}),_.jsx("p",{className:"text-sm text-slate-400",children:n.type})]}),_.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${s(n.status).bg}/20 ${s(n.status).text}`,children:n.status.replace("_"," ")})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[_.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-3",children:[_.jsx("p",{className:"text-xs text-slate-500",children:"Schedule Variance"}),_.jsxs("p",{className:`text-xl font-mono font-bold ${n.variance>=0?"text-terra-green":"text-terra-red"}`,children:[n.variance>=0?"+":"",n.variance,"%"]})]}),_.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-3",children:[_.jsx("p",{className:"text-xs text-slate-500",children:"Equipment"}),_.jsx("p",{className:"text-xl font-mono font-bold text-terra-cyan",children:n.equipment})]}),_.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-3 col-span-2",children:[_.jsx("p",{className:"text-xs text-slate-500",children:"Volume Moved"}),_.jsxs("p",{className:"text-xl font-mono font-bold text-terra-amber",children:[n.volume.toLocaleString()," yd"]})]})]}),_.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Coordinates"}),_.jsxs("p",{className:"font-mono text-sm text-slate-400",children:[n.lat.toFixed(4),"N, ",Math.abs(n.lng).toFixed(4),"W"]}),_.jsxs("button",{className:"w-full mt-4 btn-primary flex items-center justify-center gap-2",onClick:()=>r(null),children:[_.jsx(s0e,{size:16}),"View Site Command"]})]}):_.jsxs("div",{className:"card p-6 text-center",children:[_.jsx(By,{size:48,className:"mx-auto text-slate-600 mb-4"}),_.jsx("p",{className:"text-slate-400",children:"Click a site on the map to view details"})]}),_.jsxs("div",{className:"card p-4",children:[_.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-4 flex items-center gap-2",children:[_.jsx(Rs,{size:16,className:"text-terra-amber"}),"Site Performance"]}),_.jsx("div",{className:"space-y-2",children:t.sort((u,c)=>c.variance-u.variance).map(u=>{const c=s(u.status);return _.jsxs("button",{onClick:()=>r(u),className:`w-full flex items-center justify-between p-3 rounded-lg hover:bg-navy-700/50 transition-colors
                        ${(n==null?void 0:n.id)===u.id?"bg-navy-700/50 ring-1 ring-terra-amber/30":""}`,children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:`w-2 h-2 rounded-full ${c.bg}`}),_.jsx("span",{className:"text-sm text-slate-200",children:u.name})]}),_.jsxs("span",{className:`font-mono text-sm ${u.variance>=0?"text-terra-green":"text-terra-red"}`,children:[u.variance>=0?"+":"",u.variance,"%"]})]},u.id)})})]}),_.jsxs("div",{className:"card p-4",children:[_.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-4 flex items-center gap-2",children:[_.jsx(hu,{size:16,className:"text-terra-amber"}),"Regional Alerts"]}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center justify-between p-2 bg-terra-amber/10 rounded-lg border border-terra-amber/20",children:[_.jsx("span",{className:"text-sm text-slate-300",children:"Ghost Cycles Detected"}),_.jsx("span",{className:"text-lg font-mono font-bold text-terra-amber",children:"3"})]}),_.jsxs("div",{className:"flex items-center justify-between p-2 bg-terra-orange/10 rounded-lg border border-terra-orange/20",children:[_.jsx("span",{className:"text-sm text-slate-300",children:"Choke Points Active"}),_.jsx("span",{className:"text-lg font-mono font-bold text-terra-orange",children:"2"})]}),_.jsxs("div",{className:"flex items-center justify-between p-2 bg-terra-red/10 rounded-lg border border-terra-red/20",children:[_.jsx("span",{className:"text-sm text-slate-300",children:"Sites Behind Schedule"}),_.jsx("span",{className:"text-lg font-mono font-bold text-terra-red",children:"1"})]})]})]})]})]})]})}function rye(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const iye=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,aye=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,oye={};function JB(e,t){return(oye.jsx?aye:iye).test(e)}const sye=/[ \t\n\f\r]/g;function lye(e){return typeof e=="object"?e.type==="text"?e8(e.value):!1:e8(e)}function e8(e){return e.replace(sye,"")===""}class X1{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}X1.prototype.normal={};X1.prototype.property={};X1.prototype.space=void 0;function kK(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new X1(n,r,t)}function vN(e){return e.toLowerCase()}let ea=class{constructor(t,n){this.attribute=n,this.property=t}};ea.prototype.attribute="";ea.prototype.booleanish=!1;ea.prototype.boolean=!1;ea.prototype.commaOrSpaceSeparated=!1;ea.prototype.commaSeparated=!1;ea.prototype.defined=!1;ea.prototype.mustUseProperty=!1;ea.prototype.number=!1;ea.prototype.overloadedBoolean=!1;ea.prototype.property="";ea.prototype.spaceSeparated=!1;ea.prototype.space=void 0;let uye=0;const tt=sh(),Fn=sh(),xN=sh(),ge=sh(),Xt=sh(),Rp=sh(),aa=sh();function sh(){return 2**++uye}const bN=Object.freeze(Object.defineProperty({__proto__:null,boolean:tt,booleanish:Fn,commaOrSpaceSeparated:aa,commaSeparated:Rp,number:ge,overloadedBoolean:xN,spaceSeparated:Xt},Symbol.toStringTag,{value:"Module"})),VO=Object.keys(bN);class oF extends ea{constructor(t,n,r,i){let a=-1;if(super(t,n),t8(this,"space",i),typeof r=="number")for(;++a<VO.length;){const o=VO[a];t8(this,VO[a],(r&bN[o])===bN[o])}}}oF.prototype.defined=!0;function t8(e,t,n){n&&(e[t]=n)}function mg(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new oF(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[vN(r)]=r,n[vN(a.attribute)]=r}return new X1(t,n,e.space)}const CK=mg({properties:{ariaActiveDescendant:null,ariaAtomic:Fn,ariaAutoComplete:null,ariaBusy:Fn,ariaChecked:Fn,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:Xt,ariaCurrent:null,ariaDescribedBy:Xt,ariaDetails:null,ariaDisabled:Fn,ariaDropEffect:Xt,ariaErrorMessage:null,ariaExpanded:Fn,ariaFlowTo:Xt,ariaGrabbed:Fn,ariaHasPopup:null,ariaHidden:Fn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xt,ariaLevel:ge,ariaLive:null,ariaModal:Fn,ariaMultiLine:Fn,ariaMultiSelectable:Fn,ariaOrientation:null,ariaOwns:Xt,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:Fn,ariaReadOnly:Fn,ariaRelevant:null,ariaRequired:Fn,ariaRoleDescription:Xt,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:Fn,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function OK(e,t){return t in e?e[t]:t}function PK(e,t){return OK(e,t.toLowerCase())}const cye=mg({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Rp,acceptCharset:Xt,accessKey:Xt,action:null,allow:null,allowFullScreen:tt,allowPaymentRequest:tt,allowUserMedia:tt,alt:null,as:null,async:tt,autoCapitalize:null,autoComplete:Xt,autoFocus:tt,autoPlay:tt,blocking:Xt,capture:null,charSet:null,checked:tt,cite:null,className:Xt,cols:ge,colSpan:null,content:null,contentEditable:Fn,controls:tt,controlsList:Xt,coords:ge|Rp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:tt,defer:tt,dir:null,dirName:null,disabled:tt,download:xN,draggable:Fn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:tt,formTarget:null,headers:Xt,height:ge,hidden:xN,high:ge,href:null,hrefLang:null,htmlFor:Xt,httpEquiv:Xt,id:null,imageSizes:null,imageSrcSet:null,inert:tt,inputMode:null,integrity:null,is:null,isMap:tt,itemId:null,itemProp:Xt,itemRef:Xt,itemScope:tt,itemType:Xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:tt,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:tt,muted:tt,name:null,nonce:null,noModule:tt,noValidate:tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:tt,optimum:ge,pattern:null,ping:Xt,placeholder:null,playsInline:tt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:tt,referrerPolicy:null,rel:Xt,required:tt,reversed:tt,rows:ge,rowSpan:ge,sandbox:Xt,scope:null,scoped:tt,seamless:tt,selected:tt,shadowRootClonable:tt,shadowRootDelegatesFocus:tt,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:Fn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:tt,useMap:null,value:Fn,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xt,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:tt,declare:tt,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:tt,noHref:tt,noShade:tt,noWrap:tt,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:Fn,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:tt,disableRemotePlayback:tt,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:PK}),fye=mg({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:aa,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:Xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Rp,g2:Rp,glyphName:Rp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:aa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:aa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:aa,rev:aa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:aa,requiredFeatures:aa,requiredFonts:aa,requiredFormats:aa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:aa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:aa,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:aa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:OK}),$K=mg({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),TK=mg({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:PK}),NK=mg({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),dye={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hye=/[A-Z]/g,n8=/-[a-z]/g,pye=/^data[-\w.:]+$/i;function mye(e,t){const n=vN(t);let r=t,i=ea;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&pye.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(n8,yye);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!n8.test(a)){let o=a.replace(hye,gye);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=oF}return new i(r,t)}function gye(e){return"-"+e.toLowerCase()}function yye(e){return e.charAt(1).toUpperCase()}const vye=kK([CK,cye,$K,TK,NK],"html"),sF=kK([CK,fye,$K,TK,NK],"svg");function xye(e){return e.join(" ").trim()}var lF={},r8=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,bye=/\n/g,_ye=/^\s*/,wye=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Sye=/^:\s*/,Aye=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Eye=/^[;\s]*/,kye=/^\s+|\s+$/g,Cye=`
`,i8="/",a8="*",Wf="",Oye="comment",Pye="declaration";function $ye(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var g=m.match(bye);g&&(n+=g.length);var v=m.lastIndexOf(Cye);r=~v?m.length-v:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new o(m),u(),g}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(m){var g=new Error(t.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(m){var g=m.exec(e);if(g){var v=g[0];return i(v),e=e.slice(v.length),g}}function u(){l(_ye)}function c(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=a();if(!(i8!=e.charAt(0)||a8!=e.charAt(1))){for(var g=2;Wf!=e.charAt(g)&&(a8!=e.charAt(g)||i8!=e.charAt(g+1));)++g;if(g+=2,Wf===e.charAt(g-1))return s("End of comment missing");var v=e.slice(2,g-2);return r+=2,i(v),e=e.slice(g),r+=2,m({type:Oye,comment:v})}}function d(){var m=a(),g=l(wye);if(g){if(f(),!l(Sye))return s("property missing ':'");var v=l(Aye),x=m({type:Pye,property:o8(g[0].replace(r8,Wf)),value:v?o8(v[0].replace(r8,Wf)):Wf});return l(Eye),x}}function p(){var m=[];c(m);for(var g;g=d();)g!==!1&&(m.push(g),c(m));return m}return u(),p()}function o8(e){return e?e.replace(kye,Wf):Wf}var Tye=$ye,Nye=Wl&&Wl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lF,"__esModule",{value:!0});lF.default=jye;const Mye=Nye(Tye);function jye(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Mye.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:o,value:s}=a;i?t(o,s,a):s&&(n=n||{},n[o]=s)}),n}var GA={};Object.defineProperty(GA,"__esModule",{value:!0});GA.camelCase=void 0;var Dye=/^--[a-zA-Z0-9_-]+$/,Fye=/-([a-z])/g,Lye=/^[^-]+$/,Iye=/^-(webkit|moz|ms|o|khtml)-/,Rye=/^-(ms)-/,zye=function(e){return!e||Lye.test(e)||Dye.test(e)},Bye=function(e,t){return t.toUpperCase()},s8=function(e,t){return"".concat(t,"-")},Uye=function(e,t){return t===void 0&&(t={}),zye(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Rye,s8):e=e.replace(Iye,s8),e.replace(Fye,Bye))};GA.camelCase=Uye;var Wye=Wl&&Wl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},qye=Wye(lF),Hye=GA;function _N(e,t){var n={};return!e||typeof e!="string"||(0,qye.default)(e,function(r,i){r&&i&&(n[(0,Hye.camelCase)(r,t)]=i)}),n}_N.default=_N;var Gye=_N;const Vye=kt(Gye),MK=jK("end"),uF=jK("start");function jK(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Xye(e){const t=uF(e),n=MK(e);if(t&&n)return{start:t,end:n}}function Uy(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?l8(e.position):"start"in e||"end"in e?l8(e):"line"in e||"column"in e?wN(e):""}function wN(e){return u8(e&&e.line)+":"+u8(e&&e.column)}function l8(e){return wN(e&&e.start)+"-"+wN(e&&e.end)}function u8(e){return e&&typeof e=="number"?e:1}class ni extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Uy(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ni.prototype.file="";ni.prototype.name="";ni.prototype.reason="";ni.prototype.message="";ni.prototype.stack="";ni.prototype.column=void 0;ni.prototype.line=void 0;ni.prototype.ancestors=void 0;ni.prototype.cause=void 0;ni.prototype.fatal=void 0;ni.prototype.place=void 0;ni.prototype.ruleId=void 0;ni.prototype.source=void 0;const cF={}.hasOwnProperty,Zye=new Map,Yye=/[A-Z]/g,Kye=new Set(["table","tbody","thead","tfoot","tr"]),Qye=new Set(["td","th"]),DK="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Jye(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=sve(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=ove(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?sF:vye,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=FK(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function FK(e,t,n){if(t.type==="element")return eve(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return tve(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return rve(e,t,n);if(t.type==="mdxjsEsm")return nve(e,t);if(t.type==="root")return ive(e,t,n);if(t.type==="text")return ave(e,t)}function eve(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=sF,e.schema=i),e.ancestors.push(t);const a=IK(e,t.tagName,!1),o=lve(e,t);let s=dF(e,t);return Kye.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!lye(l):!0})),LK(e,o,a,t),fF(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function tve(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Tv(e,t.position)}function nve(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Tv(e,t.position)}function rve(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=sF,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:IK(e,t.name,!0),o=uve(e,t),s=dF(e,t);return LK(e,o,a,t),fF(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function ive(e,t,n){const r={};return fF(r,dF(e,t)),e.create(t,e.Fragment,r,n)}function ave(e,t){return t.value}function LK(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function fF(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ove(e,t,n){return r;function r(i,a,o,s){const u=Array.isArray(o.children)?n:t;return s?u(a,o,s):u(a,o)}}function sve(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=uF(r);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function lve(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&cF.call(t.properties,i)){const a=cve(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Qye.has(t.tagName)?r=s:n[o]=s}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function uve(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Tv(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else Tv(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function dF(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Zye;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const s=FK(e,a,o);s!==void 0&&n.push(s)}return n}function cve(e,t,n){const r=mye(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?rye(n):xye(n)),r.property==="style"){let i=typeof n=="object"?n:fve(e,String(n));return e.stylePropertyNameCase==="css"&&(i=dve(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?dye[r.property]||r.property:r.attribute,n]}}function fve(e,t){try{return Vye(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ni("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=DK+"#cannot-parse-style-attribute",i}}function IK(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=JB(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}r=o}else r=JB(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return cF.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Tv(e)}function Tv(e,t){const n=new ni("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=DK+"#cannot-handle-mdx-estrees-without-createevaluater",n}function dve(e){const t={};let n;for(n in e)cF.call(e,n)&&(t[hve(n)]=e[n]);return t}function hve(e){let t=e.replace(Yye,pve);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function pve(e){return"-"+e.toLowerCase()}const XO={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},mve={};function gve(e,t){const n=mve,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return RK(e,r,i)}function RK(e,t,n){if(yve(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return c8(e.children,t,n)}return Array.isArray(e)?c8(e,t,n):""}function c8(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=RK(e[i],t,n);return r.join("")}function yve(e){return!!(e&&typeof e=="object")}const f8=document.createElement("i");function hF(e){const t="&"+e+";";f8.innerHTML=t;const n=f8.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ys(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Va(e,t){return e.length>0?(Ys(e,e.length,0,t),e):t}const d8={}.hasOwnProperty;function vve(e){const t={};let n=-1;for(;++n<e.length;)xve(t,e[n]);return t}function xve(e,t){let n;for(n in t){const i=(d8.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){d8.call(i,o)||(i[o]=[]);const s=a[o];bve(i[o],Array.isArray(s)?s:s?[s]:[])}}}function bve(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ys(e,0,0,r)}function zK(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function zp(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ps=Kc(/[A-Za-z]/),ya=Kc(/[\dA-Za-z]/),_ve=Kc(/[#-'*+\--9=?A-Z^-~]/);function SN(e){return e!==null&&(e<32||e===127)}const AN=Kc(/\d/),wve=Kc(/[\dA-Fa-f]/),Sve=Kc(/[!-/:-@[-`{-~]/);function Ge(e){return e!==null&&e<-2}function Hi(e){return e!==null&&(e<0||e===32)}function Ot(e){return e===-2||e===-1||e===32}const Ave=Kc(new RegExp("\\p{P}|\\p{S}","u")),Eve=Kc(/\s/);function Kc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function gg(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&ya(e.charCodeAt(n+1))&&ya(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Kt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Ot(l)?(e.enter(n),s(l)):t(l)}function s(l){return Ot(l)&&a++<i?(e.consume(l),s):(e.exit(n),t(l))}}const kve={tokenize:Cve};function Cve(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Kt(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Ge(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const Ove={tokenize:Pve},h8={tokenize:$ve};function Pve(e){const t=this,n=[];let r=0,i,a,o;return s;function s(S){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,l,u)(S)}return u(S)}function l(S){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const k=t.events.length;let A=k,E;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){E=t.events[A][1].end;break}x(r);let C=k;for(;C<t.events.length;)t.events[C][1].end={...E},C++;return Ys(t.events,A+1,0,t.events.slice(k)),t.events.length=C,u(S)}return s(S)}function u(S){if(r===n.length){if(!i)return d(S);if(i.currentConstruct&&i.currentConstruct.concrete)return m(S);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(h8,c,f)(S)}function c(S){return i&&b(),x(r),d(S)}function f(S){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(S)}function d(S){return t.containerState={},e.attempt(h8,p,m)(S)}function p(S){return r++,n.push([t.currentConstruct,t.containerState]),d(S)}function m(S){if(S===null){i&&b(),x(0),e.consume(S);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(S)}function g(S){if(S===null){v(e.exit("chunkFlow"),!0),x(0),e.consume(S);return}return Ge(S)?(e.consume(S),v(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(S),g)}function v(S,k){const A=t.sliceStream(S);if(k&&A.push(null),S.previous=a,a&&(a.next=S),a=S,i.defineSkip(S.start),i.write(A),t.parser.lazy[S.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<o&&(!i.events[E][1].end||i.events[E][1].end.offset>o))return;const C=t.events.length;let P=C,T,j;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(T){j=t.events[P][1].end;break}T=!0}for(x(r),E=C;E<t.events.length;)t.events[E][1].end={...j},E++;Ys(t.events,P+1,0,t.events.slice(C)),t.events.length=E}}function x(S){let k=n.length;for(;k-- >S;){const A=n[k];t.containerState=A[1],A[0].exit.call(t,e)}n.length=S}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function $ve(e,t,n){return Kt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function p8(e){if(e===null||Hi(e)||Eve(e))return 1;if(Ave(e))return 2}function pF(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const EN={name:"attention",resolveAll:Tve,tokenize:Nve};function Tve(e,t){let n=-1,r,i,a,o,s,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},d={...e[n][1].start};m8(f,-l),m8(d,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:d},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Va(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Va(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),u=Va(u,pF(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Va(u,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Va(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Ys(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Nve(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=p8(r);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const u=e.exit("attentionSequence"),c=p8(l),f=!c||c===2&&i||n.includes(l),d=!i||i===2&&c||n.includes(r);return u._open=!!(a===42?f:f&&(i||!d)),u._close=!!(a===42?d:d&&(c||!f)),t(l)}}function m8(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Mve={name:"autolink",tokenize:jve};function jve(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return Ps(p)?(e.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||ya(p)?(r=1,s(p)):u(p)}function s(p){return p===58?(e.consume(p),r=0,l):(p===43||p===45||p===46||ya(p))&&r++<32?(e.consume(p),s):(r=0,u(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||SN(p)?n(p):(e.consume(p),l)}function u(p){return p===64?(e.consume(p),c):_ve(p)?(e.consume(p),u):n(p)}function c(p){return ya(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):d(p)}function d(p){if((p===45||ya(p))&&r++<63){const m=p===45?d:f;return e.consume(p),m}return n(p)}}const VA={partial:!0,tokenize:Dve};function Dve(e,t,n){return r;function r(a){return Ot(a)?Kt(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ge(a)?t(a):n(a)}}const BK={continuation:{tokenize:Lve},exit:Ive,name:"blockQuote",tokenize:Fve};function Fve(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Ot(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Lve(e,t,n){const r=this;return i;function i(o){return Ot(o)?Kt(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(BK,t,n)(o)}}function Ive(e){e.exit("blockQuote")}const UK={name:"characterEscape",tokenize:Rve};function Rve(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Sve(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const WK={name:"characterReference",tokenize:zve};function zve(e,t,n){const r=this;let i=0,a,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,o=ya,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=wve,c):(e.enter("characterReferenceValue"),a=7,o=AN,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return o===ya&&!hF(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<a?(e.consume(f),c):n(f)}}const g8={partial:!0,tokenize:Uve},y8={concrete:!0,name:"codeFenced",tokenize:Bve};function Bve(e,t,n){const r=this,i={partial:!0,tokenize:A};let a=0,o=0,s;return l;function l(E){return u(E)}function u(E){const C=r.events[r.events.length-1];return a=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,s=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(E)}function c(E){return E===s?(o++,e.consume(E),c):o<3?n(E):(e.exit("codeFencedFenceSequence"),Ot(E)?Kt(e,f,"whitespace")(E):f(E))}function f(E){return E===null||Ge(E)?(e.exit("codeFencedFence"),r.interrupt?t(E):e.check(g8,g,k)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(E))}function d(E){return E===null||Ge(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(E)):Ot(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Kt(e,p,"whitespace")(E)):E===96&&E===s?n(E):(e.consume(E),d)}function p(E){return E===null||Ge(E)?f(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||Ge(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(E)):E===96&&E===s?n(E):(e.consume(E),m)}function g(E){return e.attempt(i,k,v)(E)}function v(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),x}function x(E){return a>0&&Ot(E)?Kt(e,b,"linePrefix",a+1)(E):b(E)}function b(E){return E===null||Ge(E)?e.check(g8,g,k)(E):(e.enter("codeFlowValue"),S(E))}function S(E){return E===null||Ge(E)?(e.exit("codeFlowValue"),b(E)):(e.consume(E),S)}function k(E){return e.exit("codeFenced"),t(E)}function A(E,C,P){let T=0;return j;function j(N){return E.enter("lineEnding"),E.consume(N),E.exit("lineEnding"),D}function D(N){return E.enter("codeFencedFence"),Ot(N)?Kt(E,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):F(N)}function F(N){return N===s?(E.enter("codeFencedFenceSequence"),W(N)):P(N)}function W(N){return N===s?(T++,E.consume(N),W):T>=o?(E.exit("codeFencedFenceSequence"),Ot(N)?Kt(E,R,"whitespace")(N):R(N)):P(N)}function R(N){return N===null||Ge(N)?(E.exit("codeFencedFence"),C(N)):P(N)}}}function Uve(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const ZO={name:"codeIndented",tokenize:qve},Wve={partial:!0,tokenize:Hve};function qve(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Kt(e,a,"linePrefix",5)(u)}function a(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Ge(u)?e.attempt(Wve,o,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||Ge(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function Hve(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Ge(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Kt(e,a,"linePrefix",5)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Ge(o)?i(o):n(o)}}const Gve={name:"codeText",previous:Xve,resolve:Vve,tokenize:Zve};function Vve(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Xve(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Zve(e,t,n){let r=0,i,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,c(f)):Ge(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Ge(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class Yve{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&w0(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),w0(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),w0(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);w0(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);w0(this.left,n.reverse())}}}function w0(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function qK(e){const t={};let n=-1,r,i,a,o,s,l,u;const c=new Yve(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Kve(c,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=c.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},s=c.slice(i,n),s.unshift(r),c.splice(i,n-i+1,s))}}return Ys(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function Kve(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],u={};let c,f,d=-1,p=n,m=0,g=0;const v=[g];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),f&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++d<s.length;)s[d][0]==="exit"&&s[d-1][0]==="enter"&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(g=d+1,v.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):v.pop(),d=v.length;d--;){const x=s.slice(v[d],v[d+1]),b=a.pop();l.push([b,b+x.length-1]),e.splice(b,2,x)}for(l.reverse(),d=-1;++d<l.length;)u[m+l[d][0]]=m+l[d][1],m+=l[d][1]-l[d][0]-1;return u}const Qve={resolve:e1e,tokenize:t1e},Jve={partial:!0,tokenize:n1e};function e1e(e){return qK(e),e}function t1e(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):Ge(s)?e.check(Jve,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function n1e(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Kt(e,a,"linePrefix")}function a(o){if(o===null||Ge(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function HK(e,t,n,r,i,a,o,s,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),d):x===null||x===32||x===41||SN(x)?n(x):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),g(x))}function d(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===62?(e.exit("chunkString"),e.exit(s),d(x)):x===null||x===60||Ge(x)?n(x):(e.consume(x),x===92?m:p)}function m(x){return x===60||x===62||x===92?(e.consume(x),p):p(x)}function g(x){return!c&&(x===null||x===41||Hi(x))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(x)):c<u&&x===40?(e.consume(x),c++,g):x===41?(e.consume(x),c--,g):x===null||x===32||x===40||SN(x)?n(x):(e.consume(x),x===92?v:g)}function v(x){return x===40||x===41||x===92?(e.consume(x),g):g(x)}}function GK(e,t,n,r,i,a){const o=this;let s=0,l;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(a),c}function c(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):Ge(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||Ge(p)||s++>999?(e.exit("chunkString"),c(p)):(e.consume(p),l||(l=!Ot(p)),p===92?d:f)}function d(p){return p===91||p===92||p===93?(e.consume(p),s++,f):f(p)}}function VK(e,t,n,r,i,a){let o;return s;function s(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,l):n(d)}function l(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(a),u(d))}function u(d){return d===o?(e.exit(a),l(o)):d===null?n(d):Ge(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Kt(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||Ge(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function Wy(e,t){let n;return r;function r(i){return Ge(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ot(i)?Kt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const r1e={name:"definition",tokenize:a1e},i1e={partial:!0,tokenize:o1e};function a1e(e,t,n){const r=this;let i;return a;function a(p){return e.enter("definition"),o(p)}function o(p){return GK.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=zp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return Hi(p)?Wy(e,u)(p):u(p)}function u(p){return HK(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return e.attempt(i1e,f,f)(p)}function f(p){return Ot(p)?Kt(e,d,"whitespace")(p):d(p)}function d(p){return p===null||Ge(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function o1e(e,t,n){return r;function r(s){return Hi(s)?Wy(e,i)(s):n(s)}function i(s){return VK(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Ot(s)?Kt(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Ge(s)?t(s):n(s)}}const s1e={name:"hardBreakEscape",tokenize:l1e};function l1e(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Ge(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const u1e={name:"headingAtx",resolve:c1e,tokenize:f1e};function c1e(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ys(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function f1e(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),a(c)}function a(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||Hi(c)?(e.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||Ge(c)?(e.exit("atxHeading"),t(c)):Ot(c)?Kt(e,s,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||Hi(c)?(e.exit("atxHeadingText"),s(c)):(e.consume(c),u)}}const d1e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],v8=["pre","script","style","textarea"],h1e={concrete:!0,name:"htmlFlow",resolveTo:g1e,tokenize:y1e},p1e={partial:!0,tokenize:x1e},m1e={partial:!0,tokenize:v1e};function g1e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function y1e(e,t,n){const r=this;let i,a,o,s,l;return u;function u(U){return c(U)}function c(U){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(U),f}function f(U){return U===33?(e.consume(U),d):U===47?(e.consume(U),a=!0,g):U===63?(e.consume(U),i=3,r.interrupt?t:M):Ps(U)?(e.consume(U),o=String.fromCharCode(U),v):n(U)}function d(U){return U===45?(e.consume(U),i=2,p):U===91?(e.consume(U),i=5,s=0,m):Ps(U)?(e.consume(U),i=4,r.interrupt?t:M):n(U)}function p(U){return U===45?(e.consume(U),r.interrupt?t:M):n(U)}function m(U){const me="CDATA[";return U===me.charCodeAt(s++)?(e.consume(U),s===me.length?r.interrupt?t:F:m):n(U)}function g(U){return Ps(U)?(e.consume(U),o=String.fromCharCode(U),v):n(U)}function v(U){if(U===null||U===47||U===62||Hi(U)){const me=U===47,le=o.toLowerCase();return!me&&!a&&v8.includes(le)?(i=1,r.interrupt?t(U):F(U)):d1e.includes(o.toLowerCase())?(i=6,me?(e.consume(U),x):r.interrupt?t(U):F(U)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(U):a?b(U):S(U))}return U===45||ya(U)?(e.consume(U),o+=String.fromCharCode(U),v):n(U)}function x(U){return U===62?(e.consume(U),r.interrupt?t:F):n(U)}function b(U){return Ot(U)?(e.consume(U),b):j(U)}function S(U){return U===47?(e.consume(U),j):U===58||U===95||Ps(U)?(e.consume(U),k):Ot(U)?(e.consume(U),S):j(U)}function k(U){return U===45||U===46||U===58||U===95||ya(U)?(e.consume(U),k):A(U)}function A(U){return U===61?(e.consume(U),E):Ot(U)?(e.consume(U),A):S(U)}function E(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(e.consume(U),l=U,C):Ot(U)?(e.consume(U),E):P(U)}function C(U){return U===l?(e.consume(U),l=null,T):U===null||Ge(U)?n(U):(e.consume(U),C)}function P(U){return U===null||U===34||U===39||U===47||U===60||U===61||U===62||U===96||Hi(U)?A(U):(e.consume(U),P)}function T(U){return U===47||U===62||Ot(U)?S(U):n(U)}function j(U){return U===62?(e.consume(U),D):n(U)}function D(U){return U===null||Ge(U)?F(U):Ot(U)?(e.consume(U),D):n(U)}function F(U){return U===45&&i===2?(e.consume(U),z):U===60&&i===1?(e.consume(U),q):U===62&&i===4?(e.consume(U),K):U===63&&i===3?(e.consume(U),M):U===93&&i===5?(e.consume(U),G):Ge(U)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(p1e,Z,W)(U)):U===null||Ge(U)?(e.exit("htmlFlowData"),W(U)):(e.consume(U),F)}function W(U){return e.check(m1e,R,Z)(U)}function R(U){return e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),N}function N(U){return U===null||Ge(U)?W(U):(e.enter("htmlFlowData"),F(U))}function z(U){return U===45?(e.consume(U),M):F(U)}function q(U){return U===47?(e.consume(U),o="",B):F(U)}function B(U){if(U===62){const me=o.toLowerCase();return v8.includes(me)?(e.consume(U),K):F(U)}return Ps(U)&&o.length<8?(e.consume(U),o+=String.fromCharCode(U),B):F(U)}function G(U){return U===93?(e.consume(U),M):F(U)}function M(U){return U===62?(e.consume(U),K):U===45&&i===2?(e.consume(U),M):F(U)}function K(U){return U===null||Ge(U)?(e.exit("htmlFlowData"),Z(U)):(e.consume(U),K)}function Z(U){return e.exit("htmlFlow"),t(U)}}function v1e(e,t,n){const r=this;return i;function i(o){return Ge(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function x1e(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(VA,t,n)}}const b1e={name:"htmlText",tokenize:_1e};function _1e(e,t,n){const r=this;let i,a,o;return s;function s(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),l}function l(M){return M===33?(e.consume(M),u):M===47?(e.consume(M),A):M===63?(e.consume(M),S):Ps(M)?(e.consume(M),P):n(M)}function u(M){return M===45?(e.consume(M),c):M===91?(e.consume(M),a=0,m):Ps(M)?(e.consume(M),b):n(M)}function c(M){return M===45?(e.consume(M),p):n(M)}function f(M){return M===null?n(M):M===45?(e.consume(M),d):Ge(M)?(o=f,q(M)):(e.consume(M),f)}function d(M){return M===45?(e.consume(M),p):f(M)}function p(M){return M===62?z(M):M===45?d(M):f(M)}function m(M){const K="CDATA[";return M===K.charCodeAt(a++)?(e.consume(M),a===K.length?g:m):n(M)}function g(M){return M===null?n(M):M===93?(e.consume(M),v):Ge(M)?(o=g,q(M)):(e.consume(M),g)}function v(M){return M===93?(e.consume(M),x):g(M)}function x(M){return M===62?z(M):M===93?(e.consume(M),x):g(M)}function b(M){return M===null||M===62?z(M):Ge(M)?(o=b,q(M)):(e.consume(M),b)}function S(M){return M===null?n(M):M===63?(e.consume(M),k):Ge(M)?(o=S,q(M)):(e.consume(M),S)}function k(M){return M===62?z(M):S(M)}function A(M){return Ps(M)?(e.consume(M),E):n(M)}function E(M){return M===45||ya(M)?(e.consume(M),E):C(M)}function C(M){return Ge(M)?(o=C,q(M)):Ot(M)?(e.consume(M),C):z(M)}function P(M){return M===45||ya(M)?(e.consume(M),P):M===47||M===62||Hi(M)?T(M):n(M)}function T(M){return M===47?(e.consume(M),z):M===58||M===95||Ps(M)?(e.consume(M),j):Ge(M)?(o=T,q(M)):Ot(M)?(e.consume(M),T):z(M)}function j(M){return M===45||M===46||M===58||M===95||ya(M)?(e.consume(M),j):D(M)}function D(M){return M===61?(e.consume(M),F):Ge(M)?(o=D,q(M)):Ot(M)?(e.consume(M),D):T(M)}function F(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),i=M,W):Ge(M)?(o=F,q(M)):Ot(M)?(e.consume(M),F):(e.consume(M),R)}function W(M){return M===i?(e.consume(M),i=void 0,N):M===null?n(M):Ge(M)?(o=W,q(M)):(e.consume(M),W)}function R(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||Hi(M)?T(M):(e.consume(M),R)}function N(M){return M===47||M===62||Hi(M)?T(M):n(M)}function z(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function q(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),B}function B(M){return Ot(M)?Kt(e,G,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):G(M)}function G(M){return e.enter("htmlTextData"),o(M)}}const mF={name:"labelEnd",resolveAll:E1e,resolveTo:k1e,tokenize:C1e},w1e={tokenize:O1e},S1e={tokenize:P1e},A1e={tokenize:$1e};function E1e(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ys(e,0,e.length,n),e}function k1e(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",u,t]],s=Va(s,e.slice(a+1,a+r+3)),s=Va(s,[["enter",c,t]]),s=Va(s,pF(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=Va(s,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),s=Va(s,e.slice(o+1)),s=Va(s,[["exit",l,t]]),Ys(e,a,e.length,s),e}function C1e(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(d){return a?a._inactive?f(d):(o=r.parser.defined.includes(zp(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),l):n(d)}function l(d){return d===40?e.attempt(w1e,c,o?c:f)(d):d===91?e.attempt(S1e,c,o?u:f)(d):o?c(d):f(d)}function u(d){return e.attempt(A1e,c,f)(d)}function c(d){return t(d)}function f(d){return a._balanced=!0,n(d)}}function O1e(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Hi(f)?Wy(e,a)(f):a(f)}function a(f){return f===41?c(f):HK(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Hi(f)?Wy(e,l)(f):c(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?VK(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return Hi(f)?Wy(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function P1e(e,t,n){const r=this;return i;function i(s){return GK.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(zp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function $1e(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const T1e={name:"labelStartImage",resolveAll:mF.resolveAll,tokenize:N1e};function N1e(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const M1e={name:"labelStartLink",resolveAll:mF.resolveAll,tokenize:j1e};function j1e(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const YO={name:"lineEnding",tokenize:D1e};function D1e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Kt(e,t,"linePrefix")}}const G_={name:"thematicBreak",tokenize:F1e};function F1e(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Ge(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Ot(u)?Kt(e,s,"whitespace")(u):s(u))}}const Ti={continuation:{tokenize:z1e},exit:U1e,name:"list",tokenize:R1e},L1e={partial:!0,tokenize:W1e},I1e={partial:!0,tokenize:B1e};function R1e(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:AN(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(G_,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return AN(p)&&++o<10?(e.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(VA,r.interrupt?n:c,e.attempt(L1e,d,f))}function c(p){return r.containerState.initialBlankLine=!0,a++,d(p)}function f(p){return Ot(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),d):n(p)}function d(p){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function z1e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(VA,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Kt(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!Ot(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(I1e,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Kt(e,e.attempt(Ti,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function B1e(e,t,n){const r=this;return Kt(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function U1e(e){e.exit(this.containerState.type)}function W1e(e,t,n){const r=this;return Kt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Ot(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const x8={name:"setextUnderline",resolveTo:q1e,tokenize:H1e};function q1e(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function H1e(e,t,n){const r=this;let i;return a;function a(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),Ot(u)?Kt(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Ge(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const G1e={tokenize:V1e};function V1e(e){const t=this,n=e.attempt(VA,r,e.attempt(this.parser.constructs.flowInitial,i,Kt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Qve,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const X1e={resolveAll:ZK()},Z1e=XK("string"),Y1e=XK("text");function XK(e){return{resolveAll:ZK(e==="text"?K1e:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(c){return u(c)?a(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),a(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const p=f[d];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function ZK(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function K1e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)l=!0,s++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Q1e={42:Ti,43:Ti,45:Ti,48:Ti,49:Ti,50:Ti,51:Ti,52:Ti,53:Ti,54:Ti,55:Ti,56:Ti,57:Ti,62:BK},J1e={91:r1e},exe={[-2]:ZO,[-1]:ZO,32:ZO},txe={35:u1e,42:G_,45:[x8,G_],60:h1e,61:x8,95:G_,96:y8,126:y8},nxe={38:WK,92:UK},rxe={[-5]:YO,[-4]:YO,[-3]:YO,33:T1e,38:WK,42:EN,60:[Mve,b1e],91:M1e,92:[s1e,UK],93:mF,95:EN,96:Gve},ixe={null:[EN,X1e]},axe={null:[42,95]},oxe={null:[]},sxe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:axe,contentInitial:J1e,disable:oxe,document:Q1e,flow:txe,flowInitial:exe,insideSpan:ixe,string:nxe,text:rxe},Symbol.toStringTag,{value:"Module"}));function lxe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],s=[];const l={attempt:C(A),check:C(E),consume:b,enter:S,exit:k,interrupt:C(E,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:d,sliceStream:p,write:f};let c=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function f(D){return o=Va(o,D),v(),o[o.length-1]!==null?[]:(P(t,0),u.events=pF(a,u.events,u),u.events)}function d(D,F){return cxe(p(D),F)}function p(D){return uxe(o,D)}function m(){const{_bufferIndex:D,_index:F,line:W,column:R,offset:N}=r;return{_bufferIndex:D,_index:F,line:W,column:R,offset:N}}function g(D){i[D.line]=D.column,j()}function v(){let D;for(;r._index<o.length;){const F=o[r._index];if(typeof F=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<F.length;)x(F.charCodeAt(r._bufferIndex));else x(F)}}function x(D){c=c(D)}function b(D){Ge(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,j()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=D}function S(D,F){const W=F||{};return W.type=D,W.start=m(),u.events.push(["enter",W,u]),s.push(W),W}function k(D){const F=s.pop();return F.end=m(),u.events.push(["exit",F,u]),F}function A(D,F){P(D,F.from)}function E(D,F){F.restore()}function C(D,F){return W;function W(R,N,z){let q,B,G,M;return Array.isArray(R)?Z(R):"tokenize"in R?Z([R]):K(R);function K(ve){return mt;function mt(it){const be=it!==null&&ve[it],De=it!==null&&ve.null,ze=[...Array.isArray(be)?be:be?[be]:[],...Array.isArray(De)?De:De?[De]:[]];return Z(ze)(it)}}function Z(ve){return q=ve,B=0,ve.length===0?z:U(ve[B])}function U(ve){return mt;function mt(it){return M=T(),G=ve,ve.partial||(u.currentConstruct=ve),ve.name&&u.parser.constructs.disable.null.includes(ve.name)?le():ve.tokenize.call(F?Object.assign(Object.create(u),F):u,l,me,le)(it)}}function me(ve){return D(G,M),N}function le(ve){return M.restore(),++B<q.length?U(q[B]):z}}}function P(D,F){D.resolveAll&&!a.includes(D)&&a.push(D),D.resolve&&Ys(u.events,F,u.events.length-F,D.resolve(u.events.slice(F),u)),D.resolveTo&&(u.events=D.resolveTo(u.events,u))}function T(){const D=m(),F=u.previous,W=u.currentConstruct,R=u.events.length,N=Array.from(s);return{from:R,restore:z};function z(){r=D,u.previous=F,u.currentConstruct=W,u.events.length=R,s=N,j()}}function j(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function uxe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function cxe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function fxe(e){const r={constructs:vve([sxe,...(e||{}).extensions||[]]),content:i(kve),defined:[],document:i(Ove),flow:i(G1e),lazy:{},string:i(Z1e),text:i(Y1e)};return r;function i(a){return o;function o(s){return lxe(r,a,s)}}}function dxe(e){for(;!qK(e););return e}const b8=/[\0\t\n\r]/g;function hxe(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const l=[];let u,c,f,d,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(b8.lastIndex=f,u=b8.exec(a),d=u&&u.index!==void 0?u.index:a.length,p=a.charCodeAt(d),!u){t=a.slice(f);break}if(p===10&&f===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<d&&(l.push(a.slice(f,d)),e+=d-f),p){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const pxe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function mxe(e){return e.replace(pxe,gxe)}function gxe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return zK(n.slice(a?2:1),a?16:10)}return hF(n)||e}const YK={}.hasOwnProperty;function yxe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),vxe(n)(dxe(fxe(n).document().write(hxe()(e,t,!0))))}function vxe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(_o),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(Rt),blockQuote:a(De),characterEscape:T,characterReference:T,codeFenced:a(ze),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(ze,o),codeText:a(oe,o),codeTextData:T,data:T,codeFlowValue:T,definition:a(Ct),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(nt),hardBreakEscape:a($t),hardBreakTrailing:a($t),htmlFlow:a(ln,o),htmlFlowData:T,htmlText:a(ln,o),htmlTextData:T,image:a(gr),label:o,link:a(_o),listItem:a(ia),listItemValue:d,listOrdered:a(ps,f),listUnordered:a(ps),paragraph:a(Ma),reference:U,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(Rt),strong:a(Du),thematicBreak:a(Th)},exit:{atxHeading:l(),atxHeadingSequence:A,autolink:l(),autolinkEmail:be,autolinkProtocol:it,blockQuote:l(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:ve,characterReference:mt,codeFenced:l(v),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:j,codeIndented:l(x),codeText:l(N),codeTextData:j,data:j,definition:l(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:S,emphasis:l(),hardBreakEscape:l(F),hardBreakTrailing:l(F),htmlFlow:l(W),htmlFlowData:j,htmlText:l(R),htmlTextData:j,image:l(q),label:G,labelText:B,lineEnding:D,link:l(z),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:me,resourceDestinationString:M,resourceTitleString:K,resource:Z,setextHeading:l(P),setextHeadingLineSequence:C,setextHeadingText:E,strong:l(),thematicBreak:l()}};KK(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ie){let we={type:"root",children:[]};const Xe={stack:[we],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:c,data:n},ut=[];let Tt=-1;for(;++Tt<ie.length;)if(ie[Tt][1].type==="listOrdered"||ie[Tt][1].type==="listUnordered")if(ie[Tt][0]==="enter")ut.push(Tt);else{const Pi=ut.pop();Tt=i(ie,Pi,Tt)}for(Tt=-1;++Tt<ie.length;){const Pi=t[ie[Tt][0]];YK.call(Pi,ie[Tt][1].type)&&Pi[ie[Tt][1].type].call(Object.assign({sliceSerialize:ie[Tt][2].sliceSerialize},Xe),ie[Tt][1])}if(Xe.tokenStack.length>0){const Pi=Xe.tokenStack[Xe.tokenStack.length-1];(Pi[1]||_8).call(Xe,void 0,Pi[0])}for(we.position={start:zu(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:zu(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},Tt=-1;++Tt<t.transforms.length;)we=t.transforms[Tt](we)||we;return we}function i(ie,we,Xe){let ut=we-1,Tt=-1,Pi=!1,wl,ja,Sl,Fu;for(;++ut<=Xe;){const ri=ie[ut];switch(ri[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ri[0]==="enter"?Tt++:Tt--,Fu=void 0;break}case"lineEndingBlank":{ri[0]==="enter"&&(wl&&!Fu&&!Tt&&!Sl&&(Sl=ut),Fu=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Fu=void 0}if(!Tt&&ri[0]==="enter"&&ri[1].type==="listItemPrefix"||Tt===-1&&ri[0]==="exit"&&(ri[1].type==="listUnordered"||ri[1].type==="listOrdered")){if(wl){let Da=ut;for(ja=void 0;Da--;){const wo=ie[Da];if(wo[1].type==="lineEnding"||wo[1].type==="lineEndingBlank"){if(wo[0]==="exit")continue;ja&&(ie[ja][1].type="lineEndingBlank",Pi=!0),wo[1].type="lineEnding",ja=Da}else if(!(wo[1].type==="linePrefix"||wo[1].type==="blockQuotePrefix"||wo[1].type==="blockQuotePrefixWhitespace"||wo[1].type==="blockQuoteMarker"||wo[1].type==="listItemIndent"))break}Sl&&(!ja||Sl<ja)&&(wl._spread=!0),wl.end=Object.assign({},ja?ie[ja][1].start:ri[1].end),ie.splice(ja||ut,0,["exit",wl,ri[2]]),ut++,Xe++}if(ri[1].type==="listItemPrefix"){const Da={type:"listItem",_spread:!1,start:Object.assign({},ri[1].start),end:void 0};wl=Da,ie.splice(ut,0,["enter",Da,ri[2]]),ut++,Xe++,Sl=void 0,Fu=!0}}}return ie[we][1]._spread=Pi,Xe}function a(ie,we){return Xe;function Xe(ut){s.call(this,ie(ut),ut),we&&we.call(this,ut)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(ie,we,Xe){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([we,Xe||void 0]),ie.position={start:zu(we.start),end:void 0}}function l(ie){return we;function we(Xe){ie&&ie.call(this,Xe),u.call(this,Xe)}}function u(ie,we){const Xe=this.stack.pop(),ut=this.tokenStack.pop();if(ut)ut[0].type!==ie.type&&(we?we.call(this,ie,ut[0]):(ut[1]||_8).call(this,ie,ut[0]));else throw new Error("Cannot close `"+ie.type+"` ("+Uy({start:ie.start,end:ie.end})+"): its not open");Xe.position.end=zu(ie.end)}function c(){return gve(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(ie){if(this.data.expectingFirstListItemValue){const we=this.stack[this.stack.length-2];we.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.lang=ie}function m(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.meta=ie}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.value=ie.replace(/(\r?\n|\r)$/g,"")}function b(ie){const we=this.resume(),Xe=this.stack[this.stack.length-1];Xe.label=we,Xe.identifier=zp(this.sliceSerialize(ie)).toLowerCase()}function S(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.title=ie}function k(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.url=ie}function A(ie){const we=this.stack[this.stack.length-1];if(!we.depth){const Xe=this.sliceSerialize(ie).length;we.depth=Xe}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function C(ie){const we=this.stack[this.stack.length-1];we.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function T(ie){const Xe=this.stack[this.stack.length-1].children;let ut=Xe[Xe.length-1];(!ut||ut.type!=="text")&&(ut=$h(),ut.position={start:zu(ie.start),end:void 0},Xe.push(ut)),this.stack.push(ut)}function j(ie){const we=this.stack.pop();we.value+=this.sliceSerialize(ie),we.position.end=zu(ie.end)}function D(ie){const we=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Xe=we.children[we.children.length-1];Xe.position.end=zu(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(we.type)&&(T.call(this,ie),j.call(this,ie))}function F(){this.data.atHardBreak=!0}function W(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.value=ie}function R(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.value=ie}function N(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.value=ie}function z(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=we,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function q(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=we,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function B(ie){const we=this.sliceSerialize(ie),Xe=this.stack[this.stack.length-2];Xe.label=mxe(we),Xe.identifier=zp(we).toLowerCase()}function G(){const ie=this.stack[this.stack.length-1],we=this.resume(),Xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Xe.type==="link"){const ut=ie.children;Xe.children=ut}else Xe.alt=we}function M(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.url=ie}function K(){const ie=this.resume(),we=this.stack[this.stack.length-1];we.title=ie}function Z(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function me(ie){const we=this.resume(),Xe=this.stack[this.stack.length-1];Xe.label=we,Xe.identifier=zp(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function le(ie){this.data.characterReferenceType=ie.type}function ve(ie){const we=this.sliceSerialize(ie),Xe=this.data.characterReferenceType;let ut;Xe?(ut=zK(we,Xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ut=hF(we);const Tt=this.stack[this.stack.length-1];Tt.value+=ut}function mt(ie){const we=this.stack.pop();we.position.end=zu(ie.end)}function it(ie){j.call(this,ie);const we=this.stack[this.stack.length-1];we.url=this.sliceSerialize(ie)}function be(ie){j.call(this,ie);const we=this.stack[this.stack.length-1];we.url="mailto:"+this.sliceSerialize(ie)}function De(){return{type:"blockquote",children:[]}}function ze(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function Ct(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function nt(){return{type:"emphasis",children:[]}}function Rt(){return{type:"heading",depth:0,children:[]}}function $t(){return{type:"break"}}function ln(){return{type:"html",value:""}}function gr(){return{type:"image",title:null,url:"",alt:null}}function _o(){return{type:"link",title:null,url:"",children:[]}}function ps(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function ia(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function Ma(){return{type:"paragraph",children:[]}}function Du(){return{type:"strong",children:[]}}function $h(){return{type:"text",value:""}}function Th(){return{type:"thematicBreak"}}}function zu(e){return{line:e.line,column:e.column,offset:e.offset}}function KK(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?KK(e,r):xxe(e,r)}}function xxe(e,t){let n;for(n in t)if(YK.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function _8(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Uy({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Uy({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Uy({start:t.start,end:t.end})+") is still open")}function bxe(e){const t=this;t.parser=n;function n(r){return yxe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function _xe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function wxe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Sxe(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function Axe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Exe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kxe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=gg(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function Cxe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Oxe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function QK(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Pxe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return QK(e,t);const i={src:gg(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function $xe(e,t){const n={src:gg(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Txe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Nxe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return QK(e,t);const i={href:gg(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Mxe(e,t){const n={href:gg(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function jxe(e,t,n){const r=e.all(t),i=n?Dxe(n):JK(t),a={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const c=r[s];(i||s!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,u),e.applyData(t,u)}function Dxe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=JK(n[r])}return t}function JK(e){const t=e.spread;return t??e.children.length>1}function Fxe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Lxe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ixe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Rxe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zxe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=uF(t.children[1]),l=MK(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Bxe(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<s;){const f=t.children[l],d={},p=o?o[l]:void 0;p&&(d.align=p);let m={type:"element",tagName:a,properties:d,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Uxe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const w8=9,S8=32;function Wxe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(A8(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(A8(t.slice(i),i>0,!1)),a.join("")}function A8(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===w8||a===S8;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===w8||a===S8;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function qxe(e,t){const n={type:"text",value:Wxe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Hxe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Gxe={blockquote:_xe,break:wxe,code:Sxe,delete:Axe,emphasis:Exe,footnoteReference:kxe,heading:Cxe,html:Oxe,imageReference:Pxe,image:$xe,inlineCode:Txe,linkReference:Nxe,link:Mxe,listItem:jxe,list:Fxe,paragraph:Lxe,root:Ixe,strong:Rxe,table:zxe,tableCell:Uxe,tableRow:Bxe,text:qxe,thematicBreak:Hxe,toml:Mb,yaml:Mb,definition:Mb,footnoteDefinition:Mb};function Mb(){}const eQ=-1,XA=0,qy=1,Yw=2,gF=3,yF=4,vF=5,xF=6,tQ=7,nQ=8,E8=typeof self=="object"?self:globalThis,Vxe=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case XA:case eQ:return n(o,i);case qy:{const s=n([],i);for(const l of o)s.push(r(l));return s}case Yw:{const s=n({},i);for(const[l,u]of o)s[r(l)]=r(u);return s}case gF:return n(new Date(o),i);case yF:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case vF:{const s=n(new Map,i);for(const[l,u]of o)s.set(r(l),r(u));return s}case xF:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case tQ:{const{name:s,message:l}=o;return n(new E8[s](l),i)}case nQ:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new E8[a](o),i)};return r},k8=e=>Vxe(new Map,e)(0),Uh="",{toString:Xxe}={},{keys:Zxe}=Object,S0=e=>{const t=typeof e;if(t!=="object"||!e)return[XA,t];const n=Xxe.call(e).slice(8,-1);switch(n){case"Array":return[qy,Uh];case"Object":return[Yw,Uh];case"Date":return[gF,Uh];case"RegExp":return[yF,Uh];case"Map":return[vF,Uh];case"Set":return[xF,Uh];case"DataView":return[qy,n]}return n.includes("Array")?[qy,n]:n.includes("Error")?[tQ,n]:[Yw,n]},jb=([e,t])=>e===XA&&(t==="function"||t==="symbol"),Yxe=(e,t,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=S0(o);switch(s){case XA:{let c=o;switch(l){case"bigint":s=nQ,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([eQ],o)}return i([s,c],o)}case qy:{if(l){let d=o;return l==="DataView"?d=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(o)),i([l,[...d]],o)}const c=[],f=i([s,c],o);for(const d of o)c.push(a(d));return f}case Yw:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const c=[],f=i([s,c],o);for(const d of Zxe(o))(e||!jb(S0(o[d])))&&c.push([a(d),a(o[d])]);return f}case gF:return i([s,o.toISOString()],o);case yF:{const{source:c,flags:f}=o;return i([s,{source:c,flags:f}],o)}case vF:{const c=[],f=i([s,c],o);for(const[d,p]of o)(e||!(jb(S0(d))||jb(S0(p))))&&c.push([a(d),a(p)]);return f}case xF:{const c=[],f=i([s,c],o);for(const d of o)(e||!jb(S0(d)))&&c.push(a(d));return f}}const{message:u}=o;return i([s,{name:l,message:u}],o)};return a},C8=(e,{json:t,lossy:n}={})=>{const r=[];return Yxe(!(t||n),!!t,new Map,r)(e),r},Kw=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?k8(C8(e,t)):structuredClone(e):(e,t)=>k8(C8(e,t));function Kxe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Qxe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Jxe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Kxe,r=e.options.footnoteBackLabel||Qxe,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),f=String(u.identifier).toUpperCase(),d=gg(f.toLowerCase());let p=0;const m=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,p);typeof b=="string"&&(b={type:"text",value:b}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const v=c[c.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const b=v.children[v.children.length-1];b&&b.type==="text"?b.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...m)}else c.push(...m);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(c,!0)};e.patch(u,x),s.push(x)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Kw(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const rQ=function(e){if(e==null)return rbe;if(typeof e=="function")return ZA(e);if(typeof e=="object")return Array.isArray(e)?ebe(e):tbe(e);if(typeof e=="string")return nbe(e);throw new Error("Expected function, string, or object as test")};function ebe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=rQ(e[n]);return ZA(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function tbe(e){const t=e;return ZA(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function nbe(e){return ZA(t);function t(n){return n&&n.type===e}}function ZA(e){return t;function t(n,r,i){return!!(ibe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function rbe(){return!0}function ibe(e){return e!==null&&typeof e=="object"&&"type"in e}const iQ=[],abe=!0,O8=!1,obe="skip";function sbe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=rQ(i),o=r?-1:1;s(e,void 0,[])();function s(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return d;function d(){let p=iQ,m,g,v;if((!t||a(l,u,c[c.length-1]||void 0))&&(p=lbe(n(l,c)),p[0]===O8))return p;if("children"in l&&l.children){const x=l;if(x.children&&p[0]!==obe)for(g=(r?x.children.length:-1)+o,v=c.concat(x);g>-1&&g<x.children.length;){const b=x.children[g];if(m=s(b,g,v)(),m[0]===O8)return m;g=typeof m[1]=="number"?m[1]:g+o}}return p}}}function lbe(e){return Array.isArray(e)?e:typeof e=="number"?[abe,e]:e==null?iQ:[e]}function aQ(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),sbe(e,a,s,i);function s(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return o(l,f,c)}}const kN={}.hasOwnProperty,ube={};function cbe(e,t){const n=t||ube,r=new Map,i=new Map,a=new Map,o={...Gxe,...n.handlers},s={all:u,applyData:dbe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:fbe,wrap:pbe};return aQ(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();f.has(d)||f.set(d,c)}}),s;function l(c,f){const d=c.type,p=s.handlers[d];if(kN.call(s.handlers,d)&&p)return p(s,c,f);if(s.options.passThrough&&s.options.passThrough.includes(d)){if("children"in c){const{children:g,...v}=c,x=Kw(v);return x.children=s.all(c),x}return Kw(c)}return(s.options.unknownHandler||hbe)(s,c,f)}function u(c){const f=[];if("children"in c){const d=c.children;let p=-1;for(;++p<d.length;){const m=s.one(d[p],c);if(m){if(p&&d[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=P8(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=P8(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function fbe(e,t){e.position&&(t.position=Xye(e))}function dbe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Kw(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function hbe(e,t){const n=t.data||{},r="value"in t&&!(kN.call(n,"hProperties")||kN.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function pbe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function P8(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function $8(e,t){const n=cbe(e,t),r=n.one(e,void 0),i=Jxe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function mbe(e,t){return e&&"run"in e?async function(n,r){const i=$8(n,{file:r,...t});await e.run(i,r)}:function(n,r){return $8(n,{file:r,...e||t})}}function T8(e){if(e)throw e}var V_=Object.prototype.hasOwnProperty,oQ=Object.prototype.toString,N8=Object.defineProperty,M8=Object.getOwnPropertyDescriptor,j8=function(t){return typeof Array.isArray=="function"?Array.isArray(t):oQ.call(t)==="[object Array]"},D8=function(t){if(!t||oQ.call(t)!=="[object Object]")return!1;var n=V_.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&V_.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||V_.call(t,i)},F8=function(t,n){N8&&n.name==="__proto__"?N8(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},L8=function(t,n){if(n==="__proto__")if(V_.call(t,n)){if(M8)return M8(t,n).value}else return;return t[n]},gbe=function e(){var t,n,r,i,a,o,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=L8(s,n),i=L8(t,n),s!==i&&(c&&i&&(D8(i)||(a=j8(i)))?(a?(a=!1,o=r&&j8(r)?r:[]):o=r&&D8(r)?r:{},F8(s,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&F8(s,{name:n,newValue:i}));return s};const KO=kt(gbe);function CN(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ybe(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...u){const c=e[++a];let f=-1;if(l){o(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?vbe(c,s)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function vbe(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(s&&n)throw c;return i(c)}s||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const Ss={basename:xbe,dirname:bbe,extname:_be,join:wbe,sep:"/"};function xbe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Z1(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function bbe(e){if(Z1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function _be(e){Z1(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function wbe(...e){let t=-1,n;for(;++t<e.length;)Z1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Sbe(n)}function Sbe(e){Z1(e);const t=e.codePointAt(0)===47;let n=Abe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Abe(e,t){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Z1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Ebe={cwd:kbe};function kbe(){return"/"}function ON(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Cbe(e){if(typeof e=="string")e=new URL(e);else if(!ON(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Obe(e)}function Obe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const QO=["history","path","basename","stem","extname","dirname"];class sQ{constructor(t){let n;t?ON(t)?n={path:t}:typeof t=="string"||Pbe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Ebe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<QO.length;){const a=QO[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)QO.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ss.basename(this.path):void 0}set basename(t){eP(t,"basename"),JO(t,"basename"),this.path=Ss.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ss.dirname(this.path):void 0}set dirname(t){I8(this.basename,"dirname"),this.path=Ss.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ss.extname(this.path):void 0}set extname(t){if(JO(t,"extname"),I8(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ss.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ON(t)&&(t=Cbe(t)),eP(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ss.basename(this.path,this.extname):void 0}set stem(t){eP(t,"stem"),JO(t,"stem"),this.path=Ss.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ni(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function JO(e,t){if(e&&e.includes(Ss.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ss.sep+"`")}function eP(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function I8(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Pbe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $be=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Tbe={}.hasOwnProperty;class bF extends $be{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ybe()}copy(){const t=new bF;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(KO(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(rP("data",this.frozen),this.namespace[t]=n,this):Tbe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(rP("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Db(t),r=this.parser||this.Parser;return tP("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),tP("process",this.parser||this.Parser),nP("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=Db(t),l=r.parse(s);r.run(l,s,function(c,f,d){if(c||!f||!d)return u(c);const p=f,m=r.stringify(p,d);jbe(m)?d.value=m:d.result=m,u(c,d)});function u(c,f){c||!f?o(c):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),tP("processSync",this.parser||this.Parser),nP("processSync",this.compiler||this.Compiler),this.process(t,i),z8("processSync","process",n),r;function i(a,o){n=!0,T8(a),r=o}}run(t,n,r){R8(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=Db(n);i.run(t,l,u);function u(c,f,d){const p=f||t;c?s(c):o?o(p):r(void 0,p,d)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),z8("runSync","run",r),i;function a(o,s){T8(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=Db(n),i=this.compiler||this.Compiler;return nP("stringify",i),R8(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(rP("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;l(c,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=KO(!0,i.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===u){d=f;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[p,...m]=c;const g=r[d][1];CN(g)&&CN(p)&&(p=KO(!0,g,p)),r[d]=[u,p,...m]}}}}const Nbe=new bF().freeze();function tP(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function nP(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function rP(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function R8(e){if(!CN(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function z8(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Db(e){return Mbe(e)?e:new sQ(e)}function Mbe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function jbe(e){return typeof e=="string"||Dbe(e)}function Dbe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Fbe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",B8=[],U8={allowDangerousHtml:!0},Lbe=/^(https?|ircs?|mailto|xmpp)$/i,Ibe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Rbe(e){const t=zbe(e),n=Bbe(e);return Ube(t.runSync(t.parse(n),n),e)}function zbe(e){const t=e.rehypePlugins||B8,n=e.remarkPlugins||B8,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...U8}:U8;return Nbe().use(bxe).use(n).use(mbe,r).use(t)}function Bbe(e){const t=e.children||"",n=new sQ;return typeof t=="string"&&(n.value=t),n}function Ube(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Wbe;for(const c of Ibe)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+Fbe+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),aQ(e,u),Jye(e,{Fragment:_.Fragment,components:i,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function u(c,f,d){if(c.type==="raw"&&d&&typeof f=="number")return o?d.children.splice(f,1):d.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let p;for(p in XO)if(Object.hasOwn(XO,p)&&Object.hasOwn(c.properties,p)){const m=c.properties[p],g=XO[p];(g===null||g.includes(c.tagName))&&(c.properties[p]=l(String(m||""),p,c))}}if(c.type==="element"){let p=n?!n.includes(c.tagName):a?a.includes(c.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(c,f,d)),p&&d&&typeof f=="number")return s&&c.children?d.children.splice(f,1,...c.children):d.children.splice(f,1),f}}}function Wbe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Lbe.test(e.slice(0,t))?e:""}const qbe=/("(?:[^\\"]|\\.)*")|[:,]/g;function iP(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function a(o,s,l){o&&typeof o.toJSON=="function"&&(o=o.toJSON());const u=JSON.stringify(o,i);if(u===void 0)return u;const c=r-s.length-l;if(u.length<=c){const f=u.replace(qbe,(d,p)=>p||`${d} `);if(f.length<=c)return f}if(i!=null&&(o=JSON.parse(u),i=void 0),typeof o=="object"&&o!==null){const f=s+n,d=[];let p=0,m,g;if(Array.isArray(o)){m="[",g="]";const{length:v}=o;for(;p<v;p++)d.push(a(o[p],f,p===v-1?0:1)||"null")}else{m="{",g="}";const v=Object.keys(o),{length:x}=v;for(;p<x;p++){const b=v[p],S=`${JSON.stringify(b)}: `,k=a(o[b],f,S.length+(p===x-1?0:1));k!==void 0&&d.push(S+k)}}if(d.length>0)return[m,n+d.join(`,
${f}`),g].join(`
${s}`)}return u}(e,"",0)}function ta(e,t,n){return e.fields=t||[],e.fname=n,e}function kn(e){return e==null?null:e.fname}function Vr(e){return e==null?null:e.fields}function lQ(e){return e.length===1?Hbe(e[0]):Gbe(e)}const Hbe=e=>function(t){return t[e]},Gbe=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function ee(e){throw Error(e)}function sl(e){const t=[],n=e.length;let r=null,i=0,a="",o,s,l;e=e+"";function u(){t.push(a+e.substring(o,s)),a="",o=s+1}for(o=s=0;s<n;++s)if(l=e[s],l==="\\")a+=e.substring(o,s++),o=s;else if(l===r)u(),r=null,i=-1;else{if(r)continue;o===i&&l==='"'||o===i&&l==="'"?(o=s+1,r=l):l==="."&&!i?s>o?u():o=s+1:l==="["?(s>o&&u(),i=o=s+1):l==="]"&&(i||ee("Access path missing open bracket: "+e),i>0&&u(),i=0,o=s+1)}return i&&ee("Access path missing closing bracket: "+e),r&&ee("Access path missing closing quote: "+e),s>o&&(s++,u()),t}function so(e,t,n){const r=sl(e);return e=r.length===1?r[0]:e,ta((n&&n.get||lQ)(r),[e],t||e)}const Y1=so("id"),ei=ta(e=>e,[],"identity"),nc=ta(()=>0,[],"zero"),yg=ta(()=>1,[],"one"),lo=ta(()=>!0,[],"true"),Uu=ta(()=>!1,[],"false"),_F=new Set(Object.getOwnPropertyNames(Object.prototype));function Vbe(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const uQ=0,wF=1,SF=2,cQ=3,fQ=4;function AF(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vbe,r=e||uQ;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=wF&&n(t||"error","ERROR",arguments),this},warn(){return r>=SF&&n(t||"warn","WARN",arguments),this},info(){return r>=cQ&&n(t||"log","INFO",arguments),this},debug(){return r>=fQ&&n(t||"log","DEBUG",arguments),this}}}var ae=Array.isArray;function Se(e){return e===Object(e)}const W8=e=>e!=="__proto__";function vg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const a in i)if(a==="signals")r.signals=Xbe(r.signals,i.signals);else{const o=a==="legend"?{layout:1}:a==="style"?!0:null;xg(r,a,i[a],o)}return r},{})}function xg(e,t,n,r){if(!W8(t))return;let i,a;if(Se(n)&&!ae(n)){a=Se(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?xg(a,i,n[i]):W8(i)&&(a[i]=n[i])}else e[t]=n}function Xbe(e,t){if(e==null)return t;const n={},r=[];function i(a){n[a.name]||(n[a.name]=1,r.push(a))}return t.forEach(i),e.forEach(i),r}function pt(e){return e[e.length-1]}function Hr(e){return e==null||e===""?null:+e}const dQ=e=>t=>e*Math.exp(t),hQ=e=>t=>Math.log(e*t),pQ=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),mQ=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,Qw=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function YA(e,t,n,r){const i=n(e[0]),a=n(pt(e)),o=(a-i)*t;return[r(i-o),r(a-o)]}function gQ(e,t){return YA(e,t,Hr,ei)}function yQ(e,t){var n=Math.sign(e[0]);return YA(e,t,hQ(n),dQ(n))}function vQ(e,t,n){return YA(e,t,Qw(n),Qw(1/n))}function xQ(e,t,n){return YA(e,t,pQ(n),mQ(n))}function KA(e,t,n,r,i){const a=r(e[0]),o=r(pt(e)),s=t!=null?r(t):(a+o)/2;return[i(s+(a-s)*n),i(s+(o-s)*n)]}function EF(e,t,n){return KA(e,t,n,Hr,ei)}function kF(e,t,n){const r=Math.sign(e[0]);return KA(e,t,n,hQ(r),dQ(r))}function Jw(e,t,n,r){return KA(e,t,n,Qw(r),Qw(1/r))}function CF(e,t,n,r){return KA(e,t,n,pQ(r),mQ(r))}function bQ(e){return 1+~~(new Date(e).getMonth()/3)}function _Q(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Ee(e){return e!=null?ae(e)?e:[e]:[]}function wQ(e,t,n){let r=e[0],i=e[1],a;return i<r&&(a=i,i=r,r=a),a=i-r,a>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-a),r+a]}function et(e){return typeof e=="function"}const Zbe="descending";function OF(e,t,n){n=n||{},t=Ee(t)||[];const r=[],i=[],a={},o=n.comparator||Ybe;return Ee(e).forEach((s,l)=>{s!=null&&(r.push(t[l]===Zbe?-1:1),i.push(s=et(s)?s:so(s,null,n)),(Vr(s)||[]).forEach(u=>a[u]=1))}),i.length===0?null:ta(o(i,r),Object.keys(a))}const bg=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),Ybe=(e,t)=>e.length===1?Kbe(e[0],t[0]):Qbe(e,t,e.length),Kbe=(e,t)=>function(n,r){return bg(e(n),e(r))*t},Qbe=(e,t,n)=>(t.push(0),function(r,i){let a,o=0,s=-1;for(;o===0&&++s<n;)a=e[s],o=bg(a(r),a(i));return o*t[s]});function ti(e){return et(e)?e:()=>e}function PF(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Je(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Ks(e,t){let n=0,r,i,a,o;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(a=o=i;n<r;++n)i=e[n],i!=null&&(i<a&&(a=i),i>o&&(o=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(a=o=i;n<r;++n)i=t(e[n]),i!=null&&(i<a&&(a=i),i>o&&(o=i))}return[a,o]}function SQ(e,t){const n=e.length;let r=-1,i,a,o,s,l;if(t==null){for(;++r<n;)if(a=e[r],a!=null&&a>=a){i=o=a;break}if(r===n)return[-1,-1];for(s=l=r;++r<n;)a=e[r],a!=null&&(i>a&&(i=a,s=r),o<a&&(o=a,l=r))}else{for(;++r<n;)if(a=t(e[r],r,e),a!=null&&a>=a){i=o=a;break}if(r===n)return[-1,-1];for(s=l=r;++r<n;)a=t(e[r],r,e),a!=null&&(i>a&&(i=a,s=r),o<a&&(o=a,l=r))}return[s,l]}function ke(e,t){return Object.hasOwn(e,t)}const Fb={};function _g(e){let t={},n;function r(a){return ke(t,a)&&t[a]!==Fb}const i={size:0,empty:0,object:t,has:r,get(a){return r(a)?t[a]:void 0},set(a,o){return r(a)||(++i.size,t[a]===Fb&&--i.empty),t[a]=o,this},delete(a){return r(a)&&(--i.size,++i.empty,t[a]=Fb),this},clear(){i.size=i.empty=0,i.object=t={}},test(a){return arguments.length?(n=a,i):n},clean(){const a={};let o=0;for(const s in t){const l=t[s];l!==Fb&&(!n||!n(l))&&(a[s]=l,++o)}i.size=o,i.empty=0,i.object=t=a}};return e&&Object.keys(e).forEach(a=>{i.set(a,e[a])}),i}function AQ(e,t,n,r,i,a){if(!n&&n!==0)return a;const o=+n;let s=e[0],l=pt(e),u;l<s&&(u=s,s=l,l=u),u=Math.abs(t-s);const c=Math.abs(l-t);return u<c&&u<=o?r:c<=o?i:a}function xe(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Je(r,n)}function bp(e,t,n,r){let i=t[0],a=t[t.length-1],o;return i>a&&(o=i,i=a,a=o),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=a:e<a)}function Qc(e){return typeof e=="boolean"}function Ec(e){return Object.prototype.toString.call(e)==="[object Date]"}function EQ(e){return e&&et(e[Symbol.iterator])}function St(e){return typeof e=="number"}function $F(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ae(e){return typeof e=="string"}function TF(e,t,n){e&&(e=t?Ee(e).map(s=>s.replace(/\\(.)/g,"$1")):Ee(e));const r=e&&e.length,i=n&&n.get||lQ,a=s=>i(t?[s]:sl(s));let o;if(!r)o=function(){return""};else if(r===1){const s=a(e[0]);o=function(l){return""+s(l)}}else{const s=e.map(a);o=function(l){let u=""+s[0](l),c=0;for(;++c<r;)u+="|"+s[c](l);return u}}return ta(o,e,"key")}function kQ(e,t){const n=e[0],r=pt(e),i=+t;return i?i===1?r:n+i*(r-n):n}const Jbe=1e4;function CQ(e){e=+e||Jbe;let t,n,r;const i=()=>{t={},n={},r=0},a=(o,s)=>(++r>e&&(n=t,t={},r=1),t[o]=s);return i(),{clear:i,has:o=>ke(t,o)||ke(n,o),get:o=>ke(t,o)?t[o]:ke(n,o)?a(o,n[o]):void 0,set:(o,s)=>ke(t,o)?t[o]=s:a(o,s)}}function OQ(e,t,n,r){const i=t.length,a=n.length;if(!a)return t;if(!i)return n;const o=r||new t.constructor(i+a);let s=0,l=0,u=0;for(;s<i&&l<a;++u)o[u]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<i;++s,++u)o[u]=t[s];for(;l<a;++l,++u)o[u]=n[l];return o}function ay(e,t){let n="";for(;--t>=0;)n+=e;return n}function PQ(e,t,n,r){const i=n||" ",a=e+"",o=t-a.length;return o<=0?a:r==="left"?ay(i,o)+a:r==="center"?ay(i,~~(o/2))+a+ay(i,Math.ceil(o/2)):a+ay(i,o)}function K1(e){return e&&pt(e)-e[0]||0}function ye(e){return ae(e)?"["+e.map(ye)+"]":Se(e)||Ae(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function NF(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const e_e=e=>St(e)||Ec(e)?e:Date.parse(e);function MF(e,t){return t=t||e_e,e==null||e===""?null:t(e)}function jF(e){return e==null||e===""?null:e+""}function Ko(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function $Q(e,t,n,r){const i=r??"",a=e+"",o=a.length,s=Math.max(0,t-i.length);return o<=t?a:n==="left"?i+a.slice(o-s):n==="center"?a.slice(0,Math.ceil(s/2))+i+a.slice(o-~~(s/2)):a.slice(0,s)+i}function Xu(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const a=t(e[i]);a&&n(a,i,e)}}else e.forEach(n)}var q8={},aP={},oP=34,A0=10,sP=13;function TQ(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function t_e(e,t){var n=TQ(e);return function(r,i){return t(n(r),i,e)}}function H8(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Ni(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function n_e(e){return e<0?"-"+Ni(-e,6):e>9999?"+"+Ni(e,6):Ni(e,4)}function r_e(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":n_e(e.getUTCFullYear())+"-"+Ni(e.getUTCMonth()+1,2)+"-"+Ni(e.getUTCDate(),2)+(i?"T"+Ni(t,2)+":"+Ni(n,2)+":"+Ni(r,2)+"."+Ni(i,3)+"Z":r?"T"+Ni(t,2)+":"+Ni(n,2)+":"+Ni(r,2)+"Z":n||t?"T"+Ni(t,2)+":"+Ni(n,2)+"Z":"")}function i_e(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var p,m,g=i(f,function(v,x){if(p)return p(v,x-1);m=v,p=d?t_e(v,d):TQ(v)});return g.columns=m||[],g}function i(f,d){var p=[],m=f.length,g=0,v=0,x,b=m<=0,S=!1;f.charCodeAt(m-1)===A0&&--m,f.charCodeAt(m-1)===sP&&--m;function k(){if(b)return aP;if(S)return S=!1,q8;var E,C=g,P;if(f.charCodeAt(C)===oP){for(;g++<m&&f.charCodeAt(g)!==oP||f.charCodeAt(++g)===oP;);return(E=g)>=m?b=!0:(P=f.charCodeAt(g++))===A0?S=!0:P===sP&&(S=!0,f.charCodeAt(g)===A0&&++g),f.slice(C+1,E-1).replace(/""/g,'"')}for(;g<m;){if((P=f.charCodeAt(E=g++))===A0)S=!0;else if(P===sP)S=!0,f.charCodeAt(g)===A0&&++g;else if(P!==n)continue;return f.slice(C,E)}return b=!0,f.slice(C,m)}for(;(x=k())!==aP;){for(var A=[];x!==q8&&x!==aP;)A.push(x),x=k();d&&(A=d(A,v++))==null||p.push(A)}return p}function a(f,d){return f.map(function(p){return d.map(function(m){return c(p[m])}).join(e)})}function o(f,d){return d==null&&(d=H8(f)),[d.map(c).join(e)].concat(a(f,d)).join(`
`)}function s(f,d){return d==null&&(d=H8(f)),a(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?r_e(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:u,formatValue:c}}function a_e(e){return e}function o_e(e){if(e==null)return a_e;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(s,l){l||(t=n=0);var u=2,c=s.length,f=new Array(c);for(f[0]=(t+=s[0])*r+a,f[1]=(n+=s[1])*i+o;u<c;)f[u]=s[u],++u;return f}}function s_e(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function l_e(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return G8(e,n)})}:G8(e,t)}function G8(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,a=NQ(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function NQ(e,t){var n=o_e(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],p=0,m=d.length;p<m;++p)f.push(n(d[p],p));c<0&&s_e(f,m)}function a(c){return n(c)}function o(c){for(var f=[],d=0,p=c.length;d<p;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function s(c){for(var f=o(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(s)}function u(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":d=a(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(a);break;case"LineString":d=o(c.arcs);break;case"MultiLineString":d=c.arcs.map(o);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return u(t)}function u_e(e,t){var n={},r={},i={},a=[],o=-1;t.forEach(function(u,c){var f=e.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++o],t[o]=u,t[c]=d)}),t.forEach(function(u){var c=s(u),f=c[0],d=c[1],p,m;if(p=i[f])if(delete i[p.end],p.push(u),p.end=d,m=r[d]){delete r[m.start];var g=m===p?p:p.concat(m);r[g.start=p.start]=i[g.end=m.end]=g}else r[p.start]=i[p.end]=p;else if(p=r[d])if(delete r[p.start],p.unshift(u),p.start=f,m=i[f]){delete i[m.end];var v=m===p?p:m.concat(p);r[v.start=m.start]=i[v.end=p.end]=v}else r[p.start]=i[p.end]=p;else p=[u],r[p.start=f]=i[p.end=d]=p});function s(u){var c=e.arcs[u<0?~u:u],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(p){d[0]+=p[0],d[1]+=p[1]})):d=c[c.length-1],u<0?[d,f]:[f,d]}function l(u,c){for(var f in u){var d=u[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(p){n[p<0?~p:p]=1}),a.push(d)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||a.push([u])}),a}function c_e(e){return NQ(e,f_e.apply(this,arguments))}function f_e(e,t,n){var r,i,a;if(arguments.length>1)r=d_e(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:u_e(e,r)}}function d_e(e,t,n){var r=[],i=[],a;function o(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:a})}function s(f){f.forEach(o)}function l(f){f.forEach(s)}function u(f){f.forEach(l)}function c(f){switch(a=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":s(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function zs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h_e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wg(e){let t,n,r;e.length!==2?(t=zs,n=(s,l)=>zs(e(s),l),r=(s,l)=>e(s)-l):(t=e===zs||e===h_e?e:p_e,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function p_e(){return 0}function MQ(e){return e===null?NaN:+e}function*m_e(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const jQ=wg(zs),pu=jQ.right,g_e=jQ.left;wg(MQ).center;function y_e(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function v_e(e,t){const n=y_e(e,t);return n&&Math.sqrt(n)}class bi{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=t+a,s=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);s&&(n[r++]=s),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class V8 extends Map{constructor(t,n=LQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(PN(this,t))}has(t){return super.has(PN(this,t))}set(t,n){return super.set(DQ(this,t),n)}delete(t){return super.delete(FQ(this,t))}}class e2 extends Set{constructor(t,n=LQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(PN(this,t))}add(t){return super.add(DQ(this,t))}delete(t){return super.delete(FQ(this,t))}}function PN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function DQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function FQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function LQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function x_e(e,t){return Array.from(t,n=>e[n])}function b_e(e=zs){if(e===zs)return IQ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function IQ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const __e=Math.sqrt(50),w_e=Math.sqrt(10),S_e=Math.sqrt(2);function t2(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=__e?10:a>=w_e?5:a>=S_e?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?t2(e,t,n*2):[s,l,u]}function $N(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?t2(t,e,n):t2(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function TN(e,t,n){return t=+t,e=+e,n=+n,t2(e,t,n)[2]}function Mc(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?TN(t,e,n):TN(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function sd(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function NN(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function RQ(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?IQ:b_e(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/l+d)),m=Math.min(r,Math.floor(t+(l-u)*f/l+d));RQ(e,t,p,m,i)}const a=e[t];let o=n,s=r;for(E0(e,n,t),i(e[r],a)>0&&E0(e,n,r);o<s;){for(E0(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?E0(e,n,s):(++s,E0(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function E0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function n2(e,t,n){if(e=Float64Array.from(m_e(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return NN(e);if(t>=1)return sd(e);var r,i=(r-1)*t,a=Math.floor(i),o=sd(RQ(e,a).subarray(0,a+1)),s=NN(e.subarray(a+1));return o+(s-o)*(i-a)}}function zQ(e,t,n=MQ){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function A_e(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function BQ(e,t){return n2(e,.5,t)}function*E_e(e){for(const t of e)yield*t}function UQ(e){return Array.from(E_e(e))}function Bi(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function WQ(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function k_e(e,...t){e=new e2(e),t=t.map(C_e);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function C_e(e){return e instanceof e2?e:new e2(e)}function O_e(...e){const t=new e2;for(const n of e)for(const r of n)t.add(r);return t}function P_e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function r2(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function lm(e){return e=r2(Math.abs(e)),e?e[1]:NaN}function $_e(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function T_e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var N_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kd(e){if(!(t=N_e.exec(e)))throw new Error("invalid format: "+e);var t;return new DF({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kd.prototype=DF.prototype;function DF(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}DF.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function M_e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var i2;function j_e(e,t){var n=r2(e,t);if(!n)return i2=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(i2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+r2(e,Math.max(0,t+a-1))[0]}function X8(e,t){var n=r2(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Z8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:P_e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>X8(e*100,t),r:X8,s:j_e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Y8(e){return e}var K8=Array.prototype.map,Q8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qQ(e){var t=e.grouping===void 0||e.thousands===void 0?Y8:$_e(K8.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Y8:T_e(K8.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,d){f=kd(f);var p=f.fill,m=f.align,g=f.sign,v=f.symbol,x=f.zero,b=f.width,S=f.comma,k=f.precision,A=f.trim,E=f.type;E==="n"?(S=!0,E="g"):Z8[E]||(k===void 0&&(k=12),A=!0,E="g"),(x||p==="0"&&m==="=")&&(x=!0,p="0",m="=");var C=(d&&d.prefix!==void 0?d.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():""),P=(v==="$"?r:/[%p]/.test(E)?o:"")+(d&&d.suffix!==void 0?d.suffix:""),T=Z8[E],j=/[defgprs%]/.test(E);k=k===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function D(F){var W=C,R=P,N,z,q;if(E==="c")R=T(F)+R,F="";else{F=+F;var B=F<0||1/F<0;if(F=isNaN(F)?l:T(Math.abs(F),k),A&&(F=M_e(F)),B&&+F==0&&g!=="+"&&(B=!1),W=(B?g==="("?g:s:g==="-"||g==="("?"":g)+W,R=(E==="s"&&!isNaN(F)&&i2!==void 0?Q8[8+i2/3]:"")+R+(B&&g==="("?")":""),j){for(N=-1,z=F.length;++N<z;)if(q=F.charCodeAt(N),48>q||q>57){R=(q===46?i+F.slice(N+1):F.slice(N))+R,F=F.slice(0,N);break}}}S&&!x&&(F=t(F,1/0));var G=W.length+F.length+R.length,M=G<b?new Array(b-G+1).join(p):"";switch(S&&x&&(F=t(M+F,M.length?b-R.length:1/0),M=""),m){case"<":F=W+F+R+M;break;case"=":F=W+M+F+R;break;case"^":F=M.slice(0,G=M.length>>1)+W+F+R+M.slice(G);break;default:F=M+W+F+R;break}return a(F)}return D.toString=function(){return f+""},D}function c(f,d){var p=Math.max(-8,Math.min(8,Math.floor(lm(d)/3)))*3,m=Math.pow(10,-p),g=u((f=kd(f),f.type="f",f),{suffix:Q8[8+p/3]});return function(v){return g(m*v)}}return{format:u,formatPrefix:c}}var Lb,QA,FF;D_e({thousands:",",grouping:[3],currency:["$",""]});function D_e(e){return Lb=qQ(e),QA=Lb.format,FF=Lb.formatPrefix,Lb}function HQ(e){return Math.max(0,-lm(Math.abs(e)))}function GQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lm(t)/3)))*3-lm(Math.abs(e)))}function VQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lm(t)-lm(e))+1}const lP=new Date,uP=new Date;function Qn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>Qn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(lP.setTime(+a),uP.setTime(+o),e(lP),e(uP),Math.floor(n(lP,uP))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const um=Qn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);um.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):um);um.range;const Gl=1e3,Qa=Gl*60,Vl=Qa*60,mu=Vl*24,LF=mu*7,J8=mu*30,cP=mu*365,Xl=Qn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gl)},(e,t)=>(t-e)/Gl,e=>e.getUTCSeconds());Xl.range;const JA=Qn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gl)},(e,t)=>{e.setTime(+e+t*Qa)},(e,t)=>(t-e)/Qa,e=>e.getMinutes());JA.range;const eE=Qn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qa)},(e,t)=>(t-e)/Qa,e=>e.getUTCMinutes());eE.range;const tE=Qn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gl-e.getMinutes()*Qa)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getHours());tE.range;const nE=Qn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getUTCHours());nE.range;const eu=Qn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qa)/mu,e=>e.getDate()-1);eu.range;const kc=Qn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mu,e=>e.getUTCDate()-1);kc.range;const XQ=Qn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mu,e=>Math.floor(e/mu));XQ.range;function lh(e){return Qn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qa)/LF)}const Sg=lh(0),a2=lh(1),F_e=lh(2),L_e=lh(3),cm=lh(4),I_e=lh(5),R_e=lh(6);Sg.range;a2.range;F_e.range;L_e.range;cm.range;I_e.range;R_e.range;function uh(e){return Qn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/LF)}const Ag=uh(0),o2=uh(1),z_e=uh(2),B_e=uh(3),fm=uh(4),U_e=uh(5),W_e=uh(6);Ag.range;o2.range;z_e.range;B_e.range;fm.range;U_e.range;W_e.range;const Nv=Qn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Nv.range;const Mv=Qn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Mv.range;const Qs=Qn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Qs.range;const Js=Qn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Js.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Js.range;function ZQ(e,t,n,r,i,a){const o=[[Xl,1,Gl],[Xl,5,5*Gl],[Xl,15,15*Gl],[Xl,30,30*Gl],[a,1,Qa],[a,5,5*Qa],[a,15,15*Qa],[a,30,30*Qa],[i,1,Vl],[i,3,3*Vl],[i,6,6*Vl],[i,12,12*Vl],[r,1,mu],[r,2,2*mu],[n,1,LF],[t,1,J8],[t,3,3*J8],[e,1,cP]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,p=wg(([,,v])=>v).right(o,d);if(p===o.length)return e.every(Mc(u/cP,c/cP,f));if(p===0)return um.every(Math.max(Mc(u,c,f),1));const[m,g]=o[d/o[p-1][2]<o[p][2]/d?p-1:p];return m.every(g)}return[s,l]}const[q_e,H_e]=ZQ(Js,Mv,Ag,XQ,nE,eE),[G_e,V_e]=ZQ(Qs,Nv,Sg,eu,tE,JA),Pr="year",Xi="quarter",Xr="month",Xn="week",Zi="date",qr="day",el="dayofyear",Ca="hours",Oa="minutes",uo="seconds",Qo="milliseconds",IF=[Pr,Xi,Xr,Xn,Zi,qr,el,Ca,Oa,uo,Qo],fP=IF.reduce((e,t,n)=>(e[t]=1+n,e),{});function RF(e){const t=Ee(e).slice(),n={};return t.length||ee("Missing time unit."),t.forEach(i=>{ke(fP,i)?n[i]=1:ee(`Invalid time unit: ${i}.`)}),(n[Xn]||n[qr]?1:0)+(n[Xi]||n[Xr]||n[Zi]?1:0)+(n[el]?1:0)>1&&ee(`Incompatible time units: ${e}`),t.sort((i,a)=>fP[i]-fP[a]),t}const X_e={[Pr]:"%Y ",[Xi]:"Q%q ",[Xr]:"%b ",[Zi]:"%d ",[Xn]:"W%U ",[qr]:"%a ",[el]:"%j ",[Ca]:"%H:00",[Oa]:"00:%M",[uo]:":%S",[Qo]:".%L",[`${Pr}-${Xr}`]:"%Y-%m ",[`${Pr}-${Xr}-${Zi}`]:"%Y-%m-%d ",[`${Ca}-${Oa}`]:"%H:%M"};function YQ(e,t){const n=Je({},X_e,t),r=RF(e),i=r.length;let a="",o=0,s,l;for(o=0;o<i;)for(s=r.length;s>o;--s)if(l=r.slice(o,s).join("-"),n[l]!=null){a+=n[l],o=s;break}return a.trim()}const qf=new Date;function zF(e){return qf.setFullYear(e),qf.setMonth(0),qf.setDate(1),qf.setHours(0,0,0,0),qf}function KQ(e){return JQ(new Date(e))}function QQ(e){return MN(new Date(e))}function JQ(e){return eu.count(zF(e.getFullYear())-1,e)}function MN(e){return Sg.count(zF(e.getFullYear())-1,e)}function jN(e){return zF(e).getDay()}function Z_e(e,t,n,r,i,a,o){if(0<=e&&e<100){const s=new Date(-1,t,n,r,i,a,o);return s.setFullYear(e),s}return new Date(e,t,n,r,i,a,o)}function eJ(e){return nJ(new Date(e))}function tJ(e){return DN(new Date(e))}function nJ(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return kc.count(t-1,e)}function DN(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Ag.count(t-1,e)}function FN(e){return qf.setTime(Date.UTC(e,0,1)),qf.getUTCDay()}function Y_e(e,t,n,r,i,a,o){if(0<=e&&e<100){const s=new Date(Date.UTC(-1,t,n,r,i,a,o));return s.setUTCFullYear(n.y),s}return new Date(Date.UTC(e,t,n,r,i,a,o))}function rJ(e,t,n,r,i){const a=t||1,o=pt(e),s=(x,b,S)=>(S=S||x,K_e(n[S],r[S],x===o&&a,b)),l=new Date,u=Ko(e),c=u[Pr]?s(Pr):ti(2012),f=u[Xr]?s(Xr):u[Xi]?s(Xi):nc,d=u[Xn]&&u[qr]?s(qr,1,Xn+qr):u[Xn]?s(Xn,1):u[qr]?s(qr,1):u[Zi]?s(Zi,1):u[el]?s(el,1):yg,p=u[Ca]?s(Ca):nc,m=u[Oa]?s(Oa):nc,g=u[uo]?s(uo):nc,v=u[Qo]?s(Qo):nc;return function(x){l.setTime(+x);const b=c(l);return i(b,f(l),d(l,b),p(l),m(l),g(l),v(l))}}function K_e(e,t,n,r){const i=n<=1?e:r?(a,o)=>r+n*Math.floor((e(a,o)-r)/n):(a,o)=>n*Math.floor(e(a,o)/n);return t?(a,o)=>t(i(a,o),o):i}function dm(e,t,n){return t+e*7-(n+6)%7}const Q_e={[Pr]:e=>e.getFullYear(),[Xi]:e=>Math.floor(e.getMonth()/3),[Xr]:e=>e.getMonth(),[Zi]:e=>e.getDate(),[Ca]:e=>e.getHours(),[Oa]:e=>e.getMinutes(),[uo]:e=>e.getSeconds(),[Qo]:e=>e.getMilliseconds(),[el]:e=>JQ(e),[Xn]:e=>MN(e),[Xn+qr]:(e,t)=>dm(MN(e),e.getDay(),jN(t)),[qr]:(e,t)=>dm(1,e.getDay(),jN(t))},J_e={[Xi]:e=>3*e,[Xn]:(e,t)=>dm(e,0,jN(t))};function iJ(e,t){return rJ(e,t||1,Q_e,J_e,Z_e)}const ewe={[Pr]:e=>e.getUTCFullYear(),[Xi]:e=>Math.floor(e.getUTCMonth()/3),[Xr]:e=>e.getUTCMonth(),[Zi]:e=>e.getUTCDate(),[Ca]:e=>e.getUTCHours(),[Oa]:e=>e.getUTCMinutes(),[uo]:e=>e.getUTCSeconds(),[Qo]:e=>e.getUTCMilliseconds(),[el]:e=>nJ(e),[Xn]:e=>DN(e),[qr]:(e,t)=>dm(1,e.getUTCDay(),FN(t)),[Xn+qr]:(e,t)=>dm(DN(e),e.getUTCDay(),FN(t))},twe={[Xi]:e=>3*e,[Xn]:(e,t)=>dm(e,0,FN(t))};function aJ(e,t){return rJ(e,t||1,ewe,twe,Y_e)}const nwe={[Pr]:Qs,[Xi]:Nv.every(3),[Xr]:Nv,[Xn]:Sg,[Zi]:eu,[qr]:eu,[el]:eu,[Ca]:tE,[Oa]:JA,[uo]:Xl,[Qo]:um},rwe={[Pr]:Js,[Xi]:Mv.every(3),[Xr]:Mv,[Xn]:Ag,[Zi]:kc,[qr]:kc,[el]:kc,[Ca]:nE,[Oa]:eE,[uo]:Xl,[Qo]:um};function Eg(e){return nwe[e]}function kg(e){return rwe[e]}function oJ(e,t,n){return e?e.offset(t,n):void 0}function sJ(e,t,n){return oJ(Eg(e),t,n)}function lJ(e,t,n){return oJ(kg(e),t,n)}function uJ(e,t,n,r){return e?e.range(t,n,r):void 0}function cJ(e,t,n,r){return uJ(Eg(e),t,n,r)}function fJ(e,t,n,r){return uJ(kg(e),t,n,r)}const oy=1e3,sy=oy*60,ly=sy*60,rE=ly*24,iwe=rE*7,e9=rE*30,LN=rE*365,dJ=[Pr,Xr,Zi,Ca,Oa,uo,Qo],uy=dJ.slice(0,-1),cy=uy.slice(0,-1),fy=cy.slice(0,-1),awe=fy.slice(0,-1),owe=[Pr,Xn],t9=[Pr,Xr],hJ=[Pr],k0=[[uy,1,oy],[uy,5,5*oy],[uy,15,15*oy],[uy,30,30*oy],[cy,1,sy],[cy,5,5*sy],[cy,15,15*sy],[cy,30,30*sy],[fy,1,ly],[fy,3,3*ly],[fy,6,6*ly],[fy,12,12*ly],[awe,1,rE],[owe,1,iwe],[t9,1,e9],[t9,3,3*e9],[hJ,1,LN]];function pJ(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(K1(t))/n;let i=wg(s=>s[2]).right(k0,r),a,o;return i===k0.length?(a=hJ,o=Mc(t[0]/LN,t[1]/LN,n)):i?(i=k0[r/k0[i-1][2]<k0[i][2]/r?i-1:i],a=i[0],o=i[1]):(a=dJ,o=Math.max(Mc(t[0],t[1],n),1)),{units:a,step:o}}function dP(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function C0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function mJ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=O0(i),c=P0(i),f=O0(a),d=P0(a),p=O0(o),m=P0(o),g=O0(s),v=P0(s),x=O0(l),b=P0(l),S={a:q,A:B,b:G,B:M,c:null,d:s9,e:s9,f:Pwe,g:Rwe,G:Bwe,H:kwe,I:Cwe,j:Owe,L:gJ,m:$we,M:Twe,p:K,q:Z,Q:c9,s:f9,S:Nwe,u:Mwe,U:jwe,V:Dwe,w:Fwe,W:Lwe,x:null,X:null,y:Iwe,Y:zwe,Z:Uwe,"%":u9},k={a:U,A:me,b:le,B:ve,c:null,d:l9,e:l9,f:Gwe,g:n2e,G:i2e,H:Wwe,I:qwe,j:Hwe,L:vJ,m:Vwe,M:Xwe,p:mt,q:it,Q:c9,s:f9,S:Zwe,u:Ywe,U:Kwe,V:Qwe,w:Jwe,W:e2e,x:null,X:null,y:t2e,Y:r2e,Z:a2e,"%":u9},A={a:j,A:D,b:F,B:W,c:R,d:a9,e:a9,f:wwe,g:i9,G:r9,H:o9,I:o9,j:vwe,L:_we,m:ywe,M:xwe,p:T,q:gwe,Q:Awe,s:Ewe,S:bwe,u:fwe,U:dwe,V:hwe,w:cwe,W:pwe,x:N,X:z,y:i9,Y:r9,Z:mwe,"%":Swe};S.x=E(n,S),S.X=E(r,S),S.c=E(t,S),k.x=E(n,k),k.X=E(r,k),k.c=E(t,k);function E(be,De){return function(ze){var oe=[],Ct=-1,nt=0,Rt=be.length,$t,ln,gr;for(ze instanceof Date||(ze=new Date(+ze));++Ct<Rt;)be.charCodeAt(Ct)===37&&(oe.push(be.slice(nt,Ct)),(ln=n9[$t=be.charAt(++Ct)])!=null?$t=be.charAt(++Ct):ln=$t==="e"?" ":"0",(gr=De[$t])&&($t=gr(ze,ln)),oe.push($t),nt=Ct+1);return oe.push(be.slice(nt,Ct)),oe.join("")}}function C(be,De){return function(ze){var oe=C0(1900,void 0,1),Ct=P(oe,be,ze+="",0),nt,Rt;if(Ct!=ze.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(De&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(nt=hP(C0(oe.y,0,1)),Rt=nt.getUTCDay(),nt=Rt>4||Rt===0?o2.ceil(nt):o2(nt),nt=kc.offset(nt,(oe.V-1)*7),oe.y=nt.getUTCFullYear(),oe.m=nt.getUTCMonth(),oe.d=nt.getUTCDate()+(oe.w+6)%7):(nt=dP(C0(oe.y,0,1)),Rt=nt.getDay(),nt=Rt>4||Rt===0?a2.ceil(nt):a2(nt),nt=eu.offset(nt,(oe.V-1)*7),oe.y=nt.getFullYear(),oe.m=nt.getMonth(),oe.d=nt.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),Rt="Z"in oe?hP(C0(oe.y,0,1)).getUTCDay():dP(C0(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(Rt+5)%7:oe.w+oe.U*7-(Rt+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,hP(oe)):dP(oe)}}function P(be,De,ze,oe){for(var Ct=0,nt=De.length,Rt=ze.length,$t,ln;Ct<nt;){if(oe>=Rt)return-1;if($t=De.charCodeAt(Ct++),$t===37){if($t=De.charAt(Ct++),ln=A[$t in n9?De.charAt(Ct++):$t],!ln||(oe=ln(be,ze,oe))<0)return-1}else if($t!=ze.charCodeAt(oe++))return-1}return oe}function T(be,De,ze){var oe=u.exec(De.slice(ze));return oe?(be.p=c.get(oe[0].toLowerCase()),ze+oe[0].length):-1}function j(be,De,ze){var oe=p.exec(De.slice(ze));return oe?(be.w=m.get(oe[0].toLowerCase()),ze+oe[0].length):-1}function D(be,De,ze){var oe=f.exec(De.slice(ze));return oe?(be.w=d.get(oe[0].toLowerCase()),ze+oe[0].length):-1}function F(be,De,ze){var oe=x.exec(De.slice(ze));return oe?(be.m=b.get(oe[0].toLowerCase()),ze+oe[0].length):-1}function W(be,De,ze){var oe=g.exec(De.slice(ze));return oe?(be.m=v.get(oe[0].toLowerCase()),ze+oe[0].length):-1}function R(be,De,ze){return P(be,t,De,ze)}function N(be,De,ze){return P(be,n,De,ze)}function z(be,De,ze){return P(be,r,De,ze)}function q(be){return o[be.getDay()]}function B(be){return a[be.getDay()]}function G(be){return l[be.getMonth()]}function M(be){return s[be.getMonth()]}function K(be){return i[+(be.getHours()>=12)]}function Z(be){return 1+~~(be.getMonth()/3)}function U(be){return o[be.getUTCDay()]}function me(be){return a[be.getUTCDay()]}function le(be){return l[be.getUTCMonth()]}function ve(be){return s[be.getUTCMonth()]}function mt(be){return i[+(be.getUTCHours()>=12)]}function it(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var De=E(be+="",S);return De.toString=function(){return be},De},parse:function(be){var De=C(be+="",!1);return De.toString=function(){return be},De},utcFormat:function(be){var De=E(be+="",k);return De.toString=function(){return be},De},utcParse:function(be){var De=C(be+="",!0);return De.toString=function(){return be},De}}}var n9={"-":"",_:" ",0:"0"},pr=/^\s*\d+/,swe=/^%/,lwe=/[\\^$*+?|[\]().{}]/g;function At(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function uwe(e){return e.replace(lwe,"\\$&")}function O0(e){return new RegExp("^(?:"+e.map(uwe).join("|")+")","i")}function P0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cwe(e,t,n){var r=pr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function fwe(e,t,n){var r=pr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dwe(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function hwe(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pwe(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function r9(e,t,n){var r=pr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function i9(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mwe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gwe(e,t,n){var r=pr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ywe(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function a9(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function vwe(e,t,n){var r=pr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function o9(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function xwe(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function bwe(e,t,n){var r=pr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function _we(e,t,n){var r=pr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function wwe(e,t,n){var r=pr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Swe(e,t,n){var r=swe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Awe(e,t,n){var r=pr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ewe(e,t,n){var r=pr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function s9(e,t){return At(e.getDate(),t,2)}function kwe(e,t){return At(e.getHours(),t,2)}function Cwe(e,t){return At(e.getHours()%12||12,t,2)}function Owe(e,t){return At(1+eu.count(Qs(e),e),t,3)}function gJ(e,t){return At(e.getMilliseconds(),t,3)}function Pwe(e,t){return gJ(e,t)+"000"}function $we(e,t){return At(e.getMonth()+1,t,2)}function Twe(e,t){return At(e.getMinutes(),t,2)}function Nwe(e,t){return At(e.getSeconds(),t,2)}function Mwe(e){var t=e.getDay();return t===0?7:t}function jwe(e,t){return At(Sg.count(Qs(e)-1,e),t,2)}function yJ(e){var t=e.getDay();return t>=4||t===0?cm(e):cm.ceil(e)}function Dwe(e,t){return e=yJ(e),At(cm.count(Qs(e),e)+(Qs(e).getDay()===4),t,2)}function Fwe(e){return e.getDay()}function Lwe(e,t){return At(a2.count(Qs(e)-1,e),t,2)}function Iwe(e,t){return At(e.getFullYear()%100,t,2)}function Rwe(e,t){return e=yJ(e),At(e.getFullYear()%100,t,2)}function zwe(e,t){return At(e.getFullYear()%1e4,t,4)}function Bwe(e,t){var n=e.getDay();return e=n>=4||n===0?cm(e):cm.ceil(e),At(e.getFullYear()%1e4,t,4)}function Uwe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function l9(e,t){return At(e.getUTCDate(),t,2)}function Wwe(e,t){return At(e.getUTCHours(),t,2)}function qwe(e,t){return At(e.getUTCHours()%12||12,t,2)}function Hwe(e,t){return At(1+kc.count(Js(e),e),t,3)}function vJ(e,t){return At(e.getUTCMilliseconds(),t,3)}function Gwe(e,t){return vJ(e,t)+"000"}function Vwe(e,t){return At(e.getUTCMonth()+1,t,2)}function Xwe(e,t){return At(e.getUTCMinutes(),t,2)}function Zwe(e,t){return At(e.getUTCSeconds(),t,2)}function Ywe(e){var t=e.getUTCDay();return t===0?7:t}function Kwe(e,t){return At(Ag.count(Js(e)-1,e),t,2)}function xJ(e){var t=e.getUTCDay();return t>=4||t===0?fm(e):fm.ceil(e)}function Qwe(e,t){return e=xJ(e),At(fm.count(Js(e),e)+(Js(e).getUTCDay()===4),t,2)}function Jwe(e){return e.getUTCDay()}function e2e(e,t){return At(o2.count(Js(e)-1,e),t,2)}function t2e(e,t){return At(e.getUTCFullYear()%100,t,2)}function n2e(e,t){return e=xJ(e),At(e.getUTCFullYear()%100,t,2)}function r2e(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function i2e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?fm(e):fm.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function a2e(){return"+0000"}function u9(){return"%"}function c9(e){return+e}function f9(e){return Math.floor(+e/1e3)}var Wh,BF,bJ,UF,_J;o2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function o2e(e){return Wh=mJ(e),BF=Wh.format,bJ=Wh.parse,UF=Wh.utcFormat,_J=Wh.utcParse,Wh}function dy(e){const t={};return n=>t[n]||(t[n]=e(n))}function s2e(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let a=l2e(r,i);const o=a<r.length?r.slice(a):"";for(;--a>i;)if(r[a]!=="0"){++a;break}return r.slice(0,a)+o}}function l2e(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function wJ(e){const t=dy(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=kd(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return s2e(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,a,o){o=kd(o??",f");const s=Mc(r,i,a),l=Math.max(Math.abs(r),Math.abs(i));let u;if(o.precision==null)switch(o.type){case"s":return isNaN(u=GQ(s,l))||(o.precision=u),n(o,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=VQ(s,l))||(o.precision=u-(o.type==="e"));break}case"f":case"%":{isNaN(u=HQ(s))||(o.precision=u-(o.type==="%")*2);break}}return t(o)}}}let IN;SJ();function SJ(){return IN=wJ({format:QA,formatPrefix:FF})}function AJ(e){return wJ(qQ(e))}function s2(e){return arguments.length?IN=AJ(e):IN}function d9(e,t,n){n=n||{},Se(n)||ee(`Invalid time multi-format specifier: ${n}`);const r=t(uo),i=t(Oa),a=t(Ca),o=t(Zi),s=t(Xn),l=t(Xr),u=t(Xi),c=t(Pr),f=e(n[Qo]||".%L"),d=e(n[uo]||":%S"),p=e(n[Oa]||"%I:%M"),m=e(n[Ca]||"%I %p"),g=e(n[Zi]||n[qr]||"%a %d"),v=e(n[Xn]||"%b %d"),x=e(n[Xr]||"%B"),b=e(n[Xi]||"%B"),S=e(n[Pr]||"%Y");return k=>(r(k)<k?f:i(k)<k?d:a(k)<k?p:o(k)<k?m:l(k)<k?s(k)<k?g:v:c(k)<k?u(k)<k?x:b:S)(k)}function EJ(e){const t=dy(e.format),n=dy(e.utcFormat);return{timeFormat:r=>Ae(r)?t(r):d9(t,Eg,r),utcFormat:r=>Ae(r)?n(r):d9(n,kg,r),timeParse:dy(e.parse),utcParse:dy(e.utcParse)}}let RN;kJ();function kJ(){return RN=EJ({format:BF,parse:bJ,utcFormat:UF,utcParse:_J})}function CJ(e){return EJ(mJ(e))}function jv(e){return arguments.length?RN=CJ(e):RN}const zN=(e,t)=>Je({},e,t);function OJ(e,t){const n=e?AJ(e):s2(),r=t?CJ(t):jv();return zN(n,r)}function WF(e,t){const n=arguments.length;return n&&n!==2&&ee("defaultLocale expects either zero or two arguments."),n?zN(s2(e),jv(t)):zN(s2(),jv())}function u2e(){return SJ(),kJ(),WF()}const c2e=/^(data:|([A-Za-z]+:)?\/\/)/,f2e=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,d2e=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,h9="file://";function h2e(e,t){return n=>({options:n||{},sanitize:m2e,load:p2e,fileAccess:!1,file:g2e(),http:v2e(e)})}async function p2e(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function m2e(e,t){t=Je({},this.options,t);const n=this.fileAccess,r={href:null};let i,a,o;const s=f2e.test(e.replace(d2e,""));(e==null||typeof e!="string"||!s)&&ee("Sanitize failure, invalid URI: "+ye(e));const l=c2e.test(e);return(o=t.baseURL)&&!l&&(!e.startsWith("/")&&!o.endsWith("/")&&(e="/"+e),e=o+e),a=(i=e.startsWith(h9))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(h9.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),a=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!a}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function g2e(e){return y2e}async function y2e(){ee("No file system access.")}function v2e(e){return e?async function(t,n){const r=Je({},this.options.http,n),i=n&&n.response,a=await e(t,r);return a.ok?et(a[i])?a[i]():a.text():ee(a.status+""+a.statusText)}:x2e}async function x2e(){ee("No HTTP fetch method available.")}const b2e=e=>e!=null&&e===e,_2e=e=>e==="true"||e==="false"||e===!0||e===!1,w2e=e=>!Number.isNaN(Date.parse(e)),PJ=e=>!Number.isNaN(+e)&&!(e instanceof Date),S2e=e=>PJ(e)&&Number.isInteger(+e),BN={boolean:NF,integer:Hr,number:Hr,date:MF,string:jF,unknown:ei},Ib=[_2e,S2e,PJ,w2e],A2e=["boolean","integer","number","date"];function $J(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=Ib.length,i=Ib.map((a,o)=>o+1);for(let a=0,o=0,s,l;a<n;++a)for(l=t?e[a][t]:e[a],s=0;s<r;++s)if(i[s]&&b2e(l)&&!Ib[s](l)&&(i[s]=0,++o,o===Ib.length))return"string";return A2e[i.reduce((a,o)=>a===0?o:a,0)-1]}function TJ(e,t){return t.reduce((n,r)=>(n[r]=$J(e,r),n),{})}function p9(e){const t=function(n,r){const i={delimiter:e};return qF(n,r?Je(r,i):i)};return t.responseType="text",t}function qF(e,t){return t.header&&(e=t.header.map(ye).join(t.delimiter)+`
`+e),i_e(t.delimiter).parse(e+"")}qF.responseType="text";function E2e(e){return typeof Buffer=="function"&&et(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function HF(e,t){const n=t&&t.property?so(t.property):ei;return Se(e)&&!E2e(e)?k2e(n(e),t):n(JSON.parse(e))}HF.responseType="json";function k2e(e,t){return!ae(e)&&EQ(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const C2e={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function NJ(e,t){let n,r,i,a;return e=HF(e,t),t&&t.feature?(n=l_e,i=t.feature):t&&t.mesh?(n=c_e,i=t.mesh,a=C2e[t.filter]):ee("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,a):ee("Invalid TopoJSON object: "+i),r&&r.features||[r]}NJ.responseType="json";const X_={dsv:qF,csv:p9(","),tsv:p9("	"),json:HF,topojson:NJ};function GF(e,t){return arguments.length>1?(X_[e]=t,this):ke(X_,e)?X_[e]:null}function MJ(e){const t=GF(e);return t&&t.responseType||"text"}function jJ(e,t,n,r){t=t||{};const i=GF(t.type||"json");return i||ee("Unknown data format type: "+t.type),e=i(e,t),t.parse&&O2e(e,t.parse,n,r),ke(e,"columns")&&delete e.columns,e}function O2e(e,t,n,r){if(!e.length)return;const i=jv();n=n||i.timeParse,r=r||i.utcParse;let a=e.columns||Object.keys(e[0]),o,s,l,u,c,f;t==="auto"&&(t=TJ(e,a)),a=Object.keys(t);const d=a.map(p=>{const m=t[p];let g,v;if(m&&(m.startsWith("date:")||m.startsWith("utc:")))return g=m.split(/:(.+)?/,2),v=g[1],(v[0]==="'"&&v[v.length-1]==="'"||v[0]==='"'&&v[v.length-1]==='"')&&(v=v.slice(1,-1)),(g[0]==="utc"?r:n)(v);if(!BN[m])throw Error("Illegal format pattern: "+p+":"+m);return BN[m]});for(l=0,c=e.length,f=a.length;l<c;++l)for(o=e[l],u=0;u<f;++u)s=a[u],o[s]=d[u](o[s])}const iE=h2e(typeof fetch<"u"&&fetch);function aE(e){const t=e||ei,n=[],r={};return n.add=i=>{const a=t(i);return r[a]||(r[a]=1,n.push(i)),n},n.remove=i=>{const a=t(i);if(r[a]){r[a]=0;const o=n.indexOf(i);o>=0&&n.splice(o,1)}return n},n}async function Z_(e,t){try{await t(e)}catch(n){e.error(n)}}const DJ=Symbol("vega_id");let P2e=1;function oE(e){return!!(e&&Ie(e))}function Ie(e){return e[DJ]}function FJ(e,t){return e[DJ]=t,e}function Pt(e){const t=e===Object(e)?e:{data:e};return Ie(t)?t:FJ(t,P2e++)}function VF(e){return sE(e,Pt({}))}function sE(e,t){for(const n in e)t[n]=e[n];return t}function LJ(e,t){return FJ(t,Ie(e))}function ch(e,t){return e?t?(n,r)=>e(n,r)||Ie(t(n))-Ie(t(r)):(n,r)=>e(n,r)||Ie(n)-Ie(r):null}function IJ(e){return e&&e.constructor===fh}function fh(){const e=[],t=[],n=[],r=[],i=[];let a=null,o=!1;return{constructor:fh,insert(s){const l=Ee(s),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(s){const l=et(s)?r:t,u=Ee(s),c=u.length;for(let f=0;f<c;++f)l.push(u[f]);return this},modify(s,l,u){const c={field:l,value:ti(u)};return et(s)?(c.filter=s,i.push(c)):(c.tuple=s,n.push(c)),this},encode(s,l){return et(s)?i.push({filter:s,field:l}):n.push({tuple:s,field:l}),this},clean(s){return a=s,this},reflow(){return o=!0,this},pulse(s,l){const u={},c={};let f,d,p,m,g,v;for(f=0,d=l.length;f<d;++f)u[Ie(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],u[Ie(g)]=-1;for(f=0,d=r.length;f<d;++f)m=r[f],l.forEach(b=>{m(b)&&(u[Ie(b)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],v=Ie(g),u[v]?u[v]=1:s.add.push(Pt(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],u[Ie(g)]<0&&s.rem.push(g);function x(b,S,k){k?b[S]=k(b):s.encode=S,o||(c[Ie(b)]=b)}for(f=0,d=n.length;f<d;++f)p=n[f],g=p.tuple,m=p.field,v=u[Ie(g)],v>0&&(x(g,m,p.value),s.modifies(m));for(f=0,d=i.length;f<d;++f)p=i[f],m=p.filter,l.forEach(b=>{m(b)&&u[Ie(b)]>0&&x(b,p.field,p.value)}),s.modifies(p.field);if(o)s.mod=t.length||r.length?l.filter(b=>u[Ie(b)]>0):l.slice();else for(v in c)s.mod.push(c[v]);return(a||a==null&&(t.length||r.length))&&s.clean(!0),s}}}const Y_="_:mod:_";function lE(){Object.defineProperty(this,Y_,{writable:!0,value:{}})}lE.prototype={set(e,t,n,r){const i=this,a=i[e],o=i[Y_];return t!=null&&t>=0?(a[t]!==n||r)&&(a[t]=n,o[t+":"+e]=-1,o[e]=-1):(a!==n||r)&&(i[e]=n,o[e]=ae(n)?1+n.length:-1),i},modified(e,t){const n=this[Y_];if(arguments.length){if(ae(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[Y_]={},this}};let $2e=0;const T2e="pulse",N2e=new lE,M2e=1,j2e=2;function Ht(e,t,n,r){this.id=++$2e,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function m9(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Ht.prototype={targets(){return this._targets||(this._targets=aE(Y1))},set(e){return this.value!==e?(this.value=e,1):0},skip:m9(M2e),modified:m9(j2e),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new lE,i=this._argops=this._argops||[],a=[];let o,s,l,u;const c=(f,d,p)=>{p instanceof Ht?(p!==this&&(t&&p.targets().add(this),a.push(p)),i.push({op:p,name:f,index:d})):r.set(f,d,p)};for(o in e)if(s=e[o],o===T2e)Ee(s).forEach(f=>{f instanceof Ht?f!==this&&(f.targets().add(this),a.push(f)):ee("Pulse parameters must be operator instances.")}),this.source=s;else if(ae(s))for(r.set(o,-1,Array(l=s.length)),u=0;u<l;++u)c(o,u,s[u]);else c(o,-1,s);return this.marshall().clear(),n&&(i.initonly=!0),a},marshall(e){const t=this._argval||N2e,n=this._argops;let r,i,a,o;if(n){const s=n.length;for(i=0;i<s;++i)r=n[i],a=r.op,o=a.modified()&&a.stamp===e,t.set(r.name,r.index,a.value,o);if(n.initonly){for(i=0;i<s;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function D2e(e,t,n,r){let i=1,a;return e instanceof Ht?a=e:e&&e.prototype instanceof Ht?a=new e:et(e)?a=new Ht(null,e):(i=0,a=new Ht(e,t)),this.rank(a),i&&(r=n,n=t),n&&this.connect(a,a.parameters(n,r)),this.touch(a),a}function F2e(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let L2e=0;function uE(e,t,n){this.id=++L2e,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Wu(e,t,n){return new uE(e,t,n)}uE.prototype={_filter:lo,_apply:ei,targets(){return this._targets||(this._targets=aE(Y1))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Wu(e);return this.targets().add(t),t},apply(e){const t=Wu(null,e);return this.targets().add(t),t},merge(){const e=Wu();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Wu();return this.targets().add(Wu(null,null,PF(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(Wu(null,null,()=>n=!0)),t.targets().add(Wu(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=lo,this._targets=null}};function I2e(e,t,n,r){const i=this,a=Wu(n,r),o=function(u){u.dataflow=i;try{a.receive(u)}catch(c){i.error(c)}finally{i.run()}};let s;typeof e=="string"&&typeof document<"u"?s=document.querySelectorAll(e):s=Ee(e);const l=s.length;for(let u=0;u<l;++u)s[u].addEventListener(t,o);return a}function R2e(e,t){const n=this.locale();return jJ(e,t,n.timeParse,n.utcParse)}function z2e(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function B2e(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:MJ(t&&t.type)});try{i=n.parse(i,t)}catch(a){r=-2,n.warn("Data ingestion failed",e,a)}}catch(a){r=-1,n.warn("Loading failed",e,a)}return{data:i,status:r}}async function U2e(e,t,n){const r=this,i=r._pending||W2e(r);i.requests+=1;const a=await r.request(t,n);return r.pulse(e,r.changeset().remove(lo).insert(a.data||[])),i.done(),a}function W2e(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const q2e={skip:!0};function H2e(e,t,n,r,i){return(e instanceof Ht?V2e:G2e)(this,e,t,n,r,i),this}function G2e(e,t,n,r,i,a){const o=Je({},a,q2e);let s,l;et(n)||(n=ti(n)),r===void 0?s=u=>e.touch(n(u)):et(r)?(l=new Ht(null,r,i,!1),s=u=>{l.evaluate(u);const c=n(u),f=l.value;IJ(f)?e.pulse(c,f,a):e.update(c,f,o)}):s=u=>e.update(n(u),r,o),t.apply(s)}function V2e(e,t,n,r,i,a){if(r===void 0)t.targets().add(n);else{const o=a||{},s=new Ht(null,X2e(n,r),i,!1);s.modified(o.force),s.rank=t.rank,t.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),e.connect(n,[s]))}}function X2e(e,t){return t=et(t)?t:ti(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function Z2e(e){e.rank=++this._rank}function Y2e(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&ee("Cycle detected in dataflow graph.")}const l2={},Es=1,Zu=2,jl=4,K2e=Es|Zu,g9=Es|jl,qh=Es|Zu|jl,y9=8,$0=16,v9=32,x9=64;function Cc(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function pP(e,t){const n=[];return Xu(e,t,r=>n.push(r)),n}function b9(e,t){const n={};return e.visit(t,r=>{n[Ie(r)]=1}),r=>n[Ie(r)]?null:r}function Rb(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Cc.prototype={StopPropagation:l2,ADD:Es,REM:Zu,MOD:jl,ADD_REM:K2e,ADD_MOD:g9,ALL:qh,REFLOW:y9,SOURCE:$0,NO_SOURCE:v9,NO_FIELDS:x9,fork(e){return new Cc(this.dataflow).init(this,e)},clone(){const e=this.fork(qh);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(qh|$0)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Cc(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&x9)&&(n.fields=e.fields),t&Es?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&Zu?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&jl?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&v9?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||qh;return t&Es&&this.add.length||t&Zu&&this.rem.length||t&jl&&this.mod.length},reflow(e){if(e)return this.fork(qh).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(jl,b9(this,Es))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return ae(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?ae(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Es&&(n.addF=Rb(n.addF,t)),e&Zu&&(n.remF=Rb(n.remF,t)),e&jl&&(n.modF=Rb(n.modF,t)),e&$0&&(n.srcF=Rb(n.srcF,t)),n},materialize(e){e=e||qh;const t=this;return e&Es&&t.addF&&(t.add=pP(t.add,t.addF),t.addF=null),e&Zu&&t.remF&&(t.rem=pP(t.rem,t.remF),t.remF=null),e&jl&&t.modF&&(t.mod=pP(t.mod,t.modF),t.modF=null),e&$0&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&$0)return Xu(n.source,n.srcF,r),n;e&Es&&Xu(n.add,n.addF,r),e&Zu&&Xu(n.rem,n.remF,r),e&jl&&Xu(n.mod,n.modF,r);const i=n.source;if(e&y9&&i){const a=n.add.length+n.mod.length;a===i.length||(a?Xu(i,b9(n,g9),r):Xu(i,n.srcF,r))}return n}};function XF(e,t,n,r){const i=this;let a=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const o of n)if(o.stamp===t){if(o.fields){const s=i.fields||(i.fields={});for(const l in o.fields)s[l]=1}o.changed(i.ADD)&&(a|=i.ADD),o.changed(i.REM)&&(a|=i.REM),o.changed(i.MOD)&&(a|=i.MOD)}this.changes=a}xe(XF,Cc,{fork(e){const t=new Cc(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?ae(e)?e.some(r=>n[r]):n[e]:0},filter(){ee("MultiPulse does not support filtering.")},materialize(){ee("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}});async function Q2e(e,t,n){const r=this,i=[];if(r._pulse)return RJ(r);if(r._pending&&await r._pending,t&&await Z_(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const a=++r._clock;r._pulse=new Cc(r,a,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=aE(Y1);let o=0,s,l,u;try{for(;r._heap.size()>0;){if(s=r._heap.pop(),s.rank!==s.qrank){r._enqueue(s,!0);continue}l=s.run(r._getPulse(s,e)),l.then?l=await l:l.async&&(i.push(l.async),l=l2),l!==l2&&s._targets&&s._targets.forEach(c=>r._enqueue(c)),++o}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${a}: ${o} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await Z_(r,c[f].callback)}return n&&await Z_(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function J2e(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function eSe(e,t,n){return this._pulse?RJ(this):(this.evaluate(e,t,n),this)}function tSe(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function RJ(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function nSe(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function rSe(e,t){const n=e.source,r=this._clock;return n&&ae(n)?new XF(this,r,n.map(i=>i.pulse),t):this._input[e.id]||iSe(this._pulse,n&&n.pulse)}function iSe(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==l2&&(e.source=t.source),e)}const ZF={skip:!1,force:!1};function aSe(e,t){const n=t||ZF;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function oSe(e,t,n){const r=n||ZF;return(e.set(t)||r.force)&&this.touch(e,r),this}function sSe(e,t,n){this.touch(e,n||ZF);const r=new Cc(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function lSe(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),zJ(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,uSe(t,0,e)):r=n,r}}}function zJ(e,t,n,r){let i,a;const o=e[n];for(;n>t;){if(a=n-1>>1,i=e[a],r(o,i)<0){e[n]=i,n=a;continue}break}return e[n]=o}function uSe(e,t,n){const r=t,i=e.length,a=e[t];let o=(t<<1)+1,s;for(;o<i;)s=o+1,s<i&&n(e[o],e[s])>=0&&(o=s),e[t]=e[o],t=o,o=(t<<1)+1;return e[t]=a,zJ(e,r,t,n)}function Bp(){this.logger(AF()),this.logLevel(wF),this._clock=0,this._rank=0,this._locale=WF();try{this._loader=iE()}catch{}this._touched=aE(Y1),this._input={},this._pulse=null,this._heap=lSe((e,t)=>e.qrank-t.qrank),this._postrun=[]}function T0(e){return function(){return this._log[e].apply(this,arguments)}}Bp.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:T0("error"),warn:T0("warn"),info:T0("info"),debug:T0("debug"),logLevel:T0("level"),cleanThreshold:1e4,add:D2e,connect:F2e,rank:Z2e,rerank:Y2e,pulse:sSe,touch:aSe,update:oSe,changeset:fh,ingest:z2e,parse:R2e,preload:U2e,request:B2e,events:I2e,on:H2e,evaluate:Q2e,run:eSe,runAsync:J2e,runAfter:tSe,_enqueue:nSe,_getPulse:rSe};function J(e,t){Ht.call(this,e,null,t)}xe(J,Ht,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const hm={};function BJ(e){const t=UJ(e);return t&&t.Definition||null}function UJ(e){return e=e&&e.toLowerCase(),ke(hm,e)?hm[e]:null}function*WJ(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function YF(e,t,n){const r=Float64Array.from(WJ(e,n));return r.sort(zs),t.map(i=>zQ(r,i))}function KF(e,t){return YF(e,[.25,.5,.75],t)}function QF(e,t){const n=e.length,r=v_e(e,t),i=KF(e,t),a=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,a)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function qJ(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let a=e.extent[0],o=e.extent[1],s,l,u,c,f,d;const p=e.span||o-a||Math.abs(a)||1;if(e.step)s=e.step;else if(e.steps){for(c=p/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);s=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,s=Math.max(u,Math.pow(n,Math.round(Math.log(p)/r)-l));Math.ceil(p/s)>t;)s*=n;for(f=0,d=i.length;f<d;++f)c=s/i[f],c>=u&&p/c<=t&&(s=c)}c=Math.log(s);const m=c>=0?0:~~(-c/r)+1,g=Math.pow(n,-m-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(a/s+g)*s,a=a<c?c-s:c,o=Math.ceil(o/s)*s),{start:a,stop:o===a?a+s:o,step:s}}var co=Math.random;function cSe(e){co=e}function HJ(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(WJ(e,r)),a=i.length,o=t;let s,l,u,c;for(u=0,c=Array(o);u<o;++u){for(s=0,l=0;l<a;++l)s+=i[~~(co()*a)];c[u]=s/a}return c.sort(zs),[n2(c,n/2),n2(c,1-n/2)]}function GJ(e,t,n,r){r=r||(d=>d);const i=e.length,a=new Float64Array(i);let o=0,s=1,l=r(e[0]),u=l,c=l+t,f;for(;s<i;++s){if(f=r(e[s]),f>=c){for(u=(l+u)/2;o<s;++o)a[o]=u;c=f+t,l=f}u=f}for(u=(l+u)/2;o<s;++o)a[o]=u;return n?fSe(a,t+t/4):a}function fSe(e,t){const n=e.length;let r=0,i=1,a,o;for(;e[r]===e[i];)++i;for(;i<n;){for(a=i+1;e[i]===e[a];)++a;if(e[i]-e[i-1]<t){for(o=i+(r+a-i-i>>1);o<i;)e[o++]=e[i];for(;o>i;)e[o--]=e[r]}r=i,i=a}return e}function dSe(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function hSe(e,t){t==null&&(t=e,e=0);let n,r,i;const a={min(o){return arguments.length?(n=o||0,i=r-n,a):n},max(o){return arguments.length?(r=o||0,i=r-n,a):r},sample(){return n+Math.floor(i*co())},pdf(o){return o===Math.floor(o)&&o>=n&&o<r?1/i:0},cdf(o){const s=Math.floor(o);return s<n?0:s>=r?1:(s-n+1)/i},icdf(o){return o>=0&&o<=1?n-1+Math.floor(o*i):NaN}};return a.min(e).max(t)}const VJ=Math.sqrt(2*Math.PI),pSe=Math.SQRT2;let N0=NaN;function cE(e,t){e=e||0,t=t??1;let n=0,r=0,i,a;if(N0===N0)n=N0,N0=NaN;else{do n=co()*2-1,r=co()*2-1,i=n*n+r*r;while(i===0||i>1);a=Math.sqrt(-2*Math.log(i)/i),n*=a,N0=r*a}return e+n*t}function JF(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*VJ)}function fE(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let a;if(i>37)a=0;else{const o=Math.exp(-i*i/2);let s;i<7.07106781186547?(s=.0352624965998911*i+.700383064443688,s=s*i+6.37396220353165,s=s*i+33.912866078383,s=s*i+112.079291497871,s=s*i+221.213596169931,s=s*i+220.206867912376,a=o*s,s=.0883883476483184*i+1.75566716318264,s=s*i+16.064177579207,s=s*i+86.7807322029461,s=s*i+296.564248779674,s=s*i+637.333633378831,s=s*i+793.826512519948,s=s*i+440.413735824752,a=a/s):(s=i+.65,s=i+4/s,s=i+3/s,s=i+2/s,s=i+1/s,a=o/s/2.506628274631)}return r>0?1-a:a}function dE(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*pSe*mSe(2*e-1)}function mSe(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function eL(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>cE(n,r),pdf:a=>JF(a,n,r),cdf:a=>fE(a,n,r),icdf:a=>dE(a,n,r)};return i.mean(e).stdev(t)}function tL(e,t){const n=eL();let r=0;const i={data(a){return arguments.length?(e=a,r=a?a.length:0,i.bandwidth(t)):e},bandwidth(a){return arguments.length?(t=a,!t&&e&&(t=QF(e)),i):t},sample(){return e[~~(co()*r)]+t*n.sample()},pdf(a){let o=0,s=0;for(;s<r;++s)o+=n.pdf((a-e[s])/t);return o/t/r},cdf(a){let o=0,s=0;for(;s<r;++s)o+=n.cdf((a-e[s])/t);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function nL(e,t){return e=e||0,t=t??1,Math.exp(e+cE()*t)}function rL(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*VJ*e)}function iL(e,t,n){return fE(Math.log(e),t,n)}function aL(e,t,n){return Math.exp(dE(e,t,n))}function XJ(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>nL(n,r),pdf:a=>rL(a,n,r),cdf:a=>iL(a,n,r),icdf:a=>aL(a,n,r)};return i.mean(e).stdev(t)}function ZJ(e,t){let n=0,r;function i(o){const s=[];let l=0,u;for(u=0;u<n;++u)l+=s[u]=o[u]==null?1:+o[u];for(u=0;u<n;++u)s[u]/=l;return s}const a={weights(o){return arguments.length?(r=i(t=o||[]),a):t},distributions(o){return arguments.length?(o?(n=o.length,e=o):(n=0,e=[]),a.weights(t)):e},sample(){const o=co();let s=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(o<l){s=e[u];break}return s.sample()},pdf(o){let s=0,l=0;for(;l<n;++l)s+=r[l]*e[l].pdf(o);return s},cdf(o){let s=0,l=0;for(;l<n;++l)s+=r[l]*e[l].cdf(o);return s},icdf(){throw Error("Mixture icdf not supported.")}};return a.distributions(e).weights(t)}function oL(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*co()}function sL(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function lL(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function uL(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function YJ(e,t){let n,r;const i={min(a){return arguments.length?(n=a||0,i):n},max(a){return arguments.length?(r=a??1,i):r},sample:()=>oL(n,r),pdf:a=>sL(a,n,r),cdf:a=>lL(a,n,r),icdf:a=>uL(a,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function cL(e,t,n){let r=0,i=0;for(const a of e){const o=n(a);t(a)==null||o==null||isNaN(o)||(r+=(o-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function Q1(e,t,n,r){const i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]}function hE(e,t,n,r){e=e.filter(p=>{let m=t(p),g=n(p);return m!=null&&(m=+m)>=m&&g!=null&&(g=+g)>=g}),r&&e.sort((p,m)=>t(p)-t(m));const i=e.length,a=new Float64Array(i),o=new Float64Array(i);let s=0,l=0,u=0,c,f,d;for(d of e)a[s]=c=+t(d),o[s]=f=+n(d),++s,l+=(c-l)/s,u+=(f-u)/s;for(s=0;s<i;++s)a[s]-=l,o[s]-=u;return[a,o,l,u]}function J1(e,t,n,r){let i=-1,a,o;for(const s of e)a=t(s),o=n(s),a!=null&&(a=+a)>=a&&o!=null&&(o=+o)>=o&&r(a,o,++i)}function Cg(e,t,n,r,i){let a=0,o=0;return J1(e,t,n,(s,l)=>{const u=l-i(s),c=l-r;a+=u*u,o+=c*c}),1-a/o}function fL(e,t,n){let r=0,i=0,a=0,o=0,s=0;J1(e,t,n,(c,f)=>{++s,r+=(c-r)/s,i+=(f-i)/s,a+=(c*f-a)/s,o+=(c*c-o)/s});const l=Q1(r,i,a,o),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:Cg(e,t,n,i,u)}}function KJ(e,t,n){let r=0,i=0,a=0,o=0,s=0;J1(e,t,n,(c,f)=>{++s,c=Math.log(c),r+=(c-r)/s,i+=(f-i)/s,a+=(c*f-a)/s,o+=(c*c-o)/s});const l=Q1(r,i,a,o),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:Cg(e,t,n,i,u)}}function QJ(e,t,n){const[r,i,a,o]=hE(e,t,n);let s=0,l=0,u=0,c=0,f=0,d,p,m;J1(e,t,n,(b,S)=>{d=r[f++],p=Math.log(S),m=d*S,s+=(S*p-s)/f,l+=(m-l)/f,u+=(m*p-u)/f,c+=(d*m-c)/f});const[g,v]=Q1(l/o,s/o,u/o,c/o),x=b=>Math.exp(g+v*(b-a));return{coef:[Math.exp(g-v*a),v],predict:x,rSquared:Cg(e,t,n,o,x)}}function JJ(e,t,n){let r=0,i=0,a=0,o=0,s=0,l=0;J1(e,t,n,(f,d)=>{const p=Math.log(f),m=Math.log(d);++l,r+=(p-r)/l,i+=(m-i)/l,a+=(p*m-a)/l,o+=(p*p-o)/l,s+=(d-s)/l});const u=Q1(r,i,a,o),c=f=>u[0]*Math.pow(f,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:Cg(e,t,n,s,c)}}function dL(e,t,n){const[r,i,a,o]=hE(e,t,n),s=r.length;let l=0,u=0,c=0,f=0,d=0,p,m,g,v;for(p=0;p<s;)m=r[p],g=i[p++],v=m*m,l+=(v-l)/p,u+=(v*m-u)/p,c+=(v*v-c)/p,f+=(m*g-f)/p,d+=(v*g-d)/p;const x=c-l*l,b=l*x-u*u,S=(d*l-f*u)/b,k=(f*x-d*u)/b,A=-S*l,E=C=>(C=C-a,S*C*C+k*C+A+o);return{coef:[A-k*a+S*a*a+o,k-2*S*a,S],predict:E,rSquared:Cg(e,t,n,o,E)}}function eee(e,t,n,r){if(r===0)return cL(e,t,n);if(r===1)return fL(e,t,n);if(r===2)return dL(e,t,n);const[i,a,o,s]=hE(e,t,n),l=i.length,u=[],c=[],f=r+1;let d,p,m,g,v;for(d=0;d<f;++d){for(m=0,g=0;m<l;++m)g+=Math.pow(i[m],d)*a[m];for(u.push(g),v=new Float64Array(f),p=0;p<f;++p){for(m=0,g=0;m<l;++m)g+=Math.pow(i[m],d+p);v[p]=g}c.push(v)}c.push(u);const x=ySe(c),b=S=>{S-=o;let k=s+x[0]+x[1]*S+x[2]*S*S;for(d=3;d<f;++d)k+=x[d]*Math.pow(S,d);return k};return{coef:gSe(f,x,-o,s),predict:b,rSquared:Cg(e,t,n,s,b)}}function gSe(e,t,n,r){const i=Array(e);let a,o,s,l;for(a=0;a<e;++a)i[a]=0;for(a=e-1;a>=0;--a)for(s=t[a],l=1,i[a]+=s,o=1;o<=a;++o)l*=(a+1-o)/o,i[a-o]+=s*Math.pow(n,o)*l;return i[0]+=r,i}function ySe(e){const t=e.length-1,n=[];let r,i,a,o,s;for(r=0;r<t;++r){for(o=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][o])&&(o=i);for(a=r;a<t+1;++a)s=e[a][r],e[a][r]=e[a][o],e[a][o]=s;for(i=r+1;i<t;++i)for(a=t;a>=r;a--)e[a][i]-=e[a][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(s=0,a=i+1;a<t;++a)s+=e[a][i]*n[a];n[i]=(e[t][i]-s)/e[i][i]}return n}const _9=2,w9=1e-12;function tee(e,t,n,r){const[i,a,o,s]=hE(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let p=-1;++p<=_9;){const m=[0,u-1];for(let v=0;v<l;++v){const x=i[v],b=m[0],S=m[1],k=x-i[b]>i[S]-x?b:S;let A=0,E=0,C=0,P=0,T=0;const j=1/Math.abs(i[k]-x||1);for(let W=b;W<=S;++W){const R=i[W],N=a[W],z=vSe(Math.abs(x-R)*j)*d[W],q=R*z;A+=z,E+=q,C+=N*z,P+=N*q,T+=R*q}const[D,F]=Q1(E/A,C/A,P/A,T/A);c[v]=D+F*x,f[v]=Math.abs(a[v]-c[v]),xSe(i,v+1,m)}if(p===_9)break;const g=BQ(f);if(Math.abs(g)<w9)break;for(let v=0,x,b;v<l;++v)x=f[v]/(6*g),d[v]=x>=1?w9:(b=1-x*x)*b}return bSe(i,c,o,s)}function vSe(e){return(e=1-e*e*e)*e*e}function xSe(e,t,n){const r=e[t];let i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}function bSe(e,t,n,r){const i=e.length,a=[];let o=0,s=0,l=[],u;for(;o<i;++o)u=e[o]+n,l[0]===u?l[1]+=(t[o]-l[1])/++s:(s=0,l[1]+=r,l=[u,t[o]],a.push(l));return l[1]+=r,a}const _Se=.5*Math.PI/180;function pE(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],a=t[0],o=t[1],s=o-a,l=s/r,u=[i(a)],c=[];if(n===r){for(let g=1;g<r;++g)u.push(i(a+g/n*s));return u.push(i(o)),u}else{c.push(i(o));for(let g=n;--g>0;)c.push(i(a+g/n*s))}let f=u[0],d=c[c.length-1];const p=1/s,m=wSe(f[1],c);for(;d;){const g=i((f[0]+d[0])/2);g[0]-f[0]>=l&&SSe(f,g,d,p,m)>_Se?c.push(g):(f=d,u.push(d),c.pop()),d=c[c.length-1]}return u}function wSe(e,t){let n=e,r=e;const i=t.length;for(let a=0;a<i;++a){const o=t[a][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}function SSe(e,t,n,r,i){const a=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(a-o)}function ASe(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function UN(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:ASe(e)}function nee(e,t,n){return n||e+(t?"_"+t:"")}const mP=()=>{},ESe={init:mP,add:mP,rem:mP,idx:0},Dv={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},ex=Object.keys(Dv).filter(e=>e!=="__count__");function kSe(e,t){return(n,r)=>Je({name:e,aggregate_param:r,out:n||e},ESe,t)}[...ex,"__count__"].forEach(e=>{Dv[e]=kSe(e,Dv[e])});function ree(e,t,n){return Dv[e](n,t)}function iee(e,t){return e.idx-t.idx}function CSe(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=Dv[i]())})};return e.forEach(n),Object.values(t).sort(iee)}function OSe(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function PSe(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function $Se(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function TSe(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function aee(e,t){const n=t||ei,r=CSe(e),i=e.slice().sort(iee);function a(o){this._ops=r,this._out=i,this.cell=o,this.init()}return a.prototype.init=OSe,a.prototype.add=PSe,a.prototype.rem=$Se,a.prototype.set=TSe,a.prototype.get=n,a.fields=e.map(o=>o.out),a}function hL(e){this._key=e?so(e):Ie,this.reset()}const Mr=hL.prototype;Mr.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Mr.add=function(e){this._add.push(e)};Mr.rem=function(e){this._rem.push(e)};Mr.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,a=Array(r-i),o={};let s,l,u;for(s=0;s<i;++s)o[n(t[s])]=1;for(s=0,l=0;s<r;++s)o[n(u=e[s])]?o[n(u)]=0:a[l++]=u;return this._rem=[],this._add=a};Mr.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,a;for(;--r>=0;)a=e(t[r])+"",ke(n,a)||(n[a]=1,++i);return i};Mr.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=SQ(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Mr.argmin=function(e){return this.extent(e)[0]||{}};Mr.argmax=function(e){return this.extent(e)[1]||{}};Mr.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Mr.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Mr.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=KF(this.values(),e),this._get=e),this._q};Mr.q1=function(e){return this.quartile(e)[0]};Mr.q2=function(e){return this.quartile(e)[1]};Mr.q3=function(e){return this.quartile(e)[2]};Mr.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=HJ(this.values(),1e3,.05,e),this._get=e),this._ci};Mr.ci0=function(e){return this.ci(e)[0]};Mr.ci1=function(e){return this.ci(e)[1]};function jc(e){J.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}jc.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ex},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};xe(jc,J,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,a=>n.add(a))):(n.value=n.value||n.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function a(s){let l,u,c,f;for(l in s)for(c=s[l].tuple,u=0;u<i;++u)r[u][f=c[n[u]]]=f}a(e._prev),a(t);function o(s,l,u){const c=n[u],f=r[u++];for(const d in f){const p=s?s+"|"+d:d;l[c]=f[d],u<i?o(p,l,u):t[p]||e.cell(p,l)}}o("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(b){const S=Ee(Vr(b)),k=S.length;let A=0,E;for(;A<k;++A)r[E=S[A]]||(r[E]=1,t.push(E))}this._dims=Ee(e.groupby),this._dnames=this._dims.map(b=>{const S=kn(b);return i(b),n.push(S),S}),this.cellkey=e.key?e.key:UN(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const a=e.fields||[null],o=e.ops||["count"],s=e.aggregate_params||[null],l=e.as||[],u=a.length,c={};let f,d,p,m,g,v,x;for(u!==o.length&&ee("Unmatched number of fields and aggregate ops."),x=0;x<u;++x){if(f=a[x],d=o[x],p=s[x]||null,f==null&&d!=="count"&&ee("Null aggregate field specified."),g=kn(f),v=nee(d,g,l[x]),n.push(v),d==="count"){this._counts.push(v);continue}m=c[g],m||(i(f),m=c[g]=[],m.field=f,this._measures.push(m)),d!=="count"&&(this._countOnly=!1),m.push(ree(d,p,v))}return this._measures=this._measures.map(b=>aee(b,b.field)),Object.create(null)},cellkey:UN(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let a=0;a<i;++a)n.agg[a]=new r[a](n)}return n.store&&(n.data=new hL),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,a={};for(let o=0;o<i;++o)a[n[o]]=r[o](e);return t?LJ(t.tuple,a):Pt(a)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,a=r.length;i<a;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,a=e.add,o=e.rem,s=e.mod;let l,u,c,f;if(r)for(u in r)l=r[u],(!i||l.num)&&o.push(l.tuple);for(c=0,f=this._alen;c<f;++c)a.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)l=n[c],(l.num===0&&i?o:s).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const NSe=1e-14;function pL(e){J.call(this,null,e)}pL.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};xe(pL,J,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,a=r.step,o=e.as||["bin0","bin1"],s=o[0],l=o[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(Vr(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const f=r(c);c[s]=f,c[l]=f==null?null:i+a*(1+(f-i)/a)}:c=>c[s]=r(c)),t.modifies(n?o:s)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=qJ(e),r=n.step;let i=n.start,a=i+Math.ceil((n.stop-i)/r)*r,o,s;(o=e.anchor)!=null&&(s=o-(i+r*Math.floor((o-i)/r)),i+=s,a+=s);const l=function(u){let c=Hr(t(u));return c==null?null:c<i?-1/0:c>a?1/0:(c=Math.max(i,Math.min(c,a-r)),i+r*Math.floor(NSe+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=ta(l,Vr(t),e.name||"bin_"+kn(t))}});function oee(e,t,n){const r=e;let i=t||[],a=n||[],o={},s=0;return{add:l=>a.push(l),remove:l=>o[r(l)]=++s,size:()=>i.length,data:(l,u)=>(s&&(i=i.filter(c=>!o[r(c)]),o={},s=0),u&&l&&i.sort(l),a.length&&(i=l?OQ(l,i,a.sort(l)):i.concat(a),a=[]),i)}}function mL(e){J.call(this,[],e)}mL.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};xe(mL,J,{transform(e,t){const n=t.fork(t.ALL),r=oee(Ie,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(ch(i),a),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function see(e){Ht.call(this,null,MSe,e)}xe(see,Ht);function MSe(e){return this.value&&!e.modified()?this.value:OF(e.fields,e.orders)}function gL(e){J.call(this,null,e)}gL.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function jSe(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}xe(gL,J,{transform(e,t){const n=f=>d=>{for(var p=jSe(s(d),e.case,a)||[],m,g=0,v=p.length;g<v;++g)o.test(m=p[g])||f(m)},r=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,s=e.field,l=e.as||["text","count"],u=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],a=t[1],o=e.fork(e.NO_SOURCE|e.NO_FIELDS);let s,l,u;for(s in n)l=r[s],u=n[s]||0,!l&&u?(r[s]=l=Pt({}),l[i]=s,l[a]=u,o.add.push(l)):u===0?(l&&o.rem.push(l),n[s]=null,r[s]=null):l[a]!==u&&(l[a]=u,o.mod.push(l));return o.modifies(t)}});function yL(e){J.call(this,null,e)}yL.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};xe(yL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],a=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let s=this.value;return o?(s&&(n.rem=s),s=t.materialize(t.SOURCE).source,n.add=this.value=DSe(s,i,a,e.filter||lo)):n.mod=s,n.source=this.value,n.modifies(r)}});function DSe(e,t,n,r){for(var i=[],a={},o=e.length,s=0,l,u;s<o;++s)for(a[t]=u=e[s],l=0;l<o;++l)a[n]=e[l],r(a)&&(i.push(Pt(a)),a={},a[t]=u);return i}const S9={kde:tL,mixture:ZJ,normal:eL,lognormal:XJ,uniform:YJ},FSe="distributions",A9="function",LSe="field";function lee(e,t){const n=e[A9];ke(S9,n)||ee("Unknown distribution function: "+n);const r=S9[n]();for(const i in e)i===LSe?r.data((e.from||t()).map(e[i])):i===FSe?r[i](e[i].map(a=>lee(a,t))):typeof r[i]===A9&&r[i](e[i]);return r}function vL(e){J.call(this,null,e)}const uee=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],ISe={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:uee},{name:"weights",type:"number",array:!0}]};vL.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:uee.concat(ISe)},{name:"as",type:"string",array:!0,default:["value","density"]}]};xe(vL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=lee(e.distribution,RSe(t)),i=e.steps||e.minsteps||25,a=e.steps||e.maxsteps||200;let o=e.method||"pdf";o!=="pdf"&&o!=="cdf"&&ee("Invalid density method: "+o),!e.extent&&!r.data&&ee("Missing density extent parameter."),o=r[o];const s=e.as||["value","density"],l=e.extent||Ks(r.data()),u=pE(o,l,i,a).map(c=>{const f={};return f[s[0]]=c[0],f[s[1]]=c[1],Pt(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function RSe(e){return()=>e.materialize(e.SOURCE).source}function cee(e,t){return e?e.map((n,r)=>t[r]||kn(n)):null}function xL(e,t,n){const r=[],i=f=>f(l);let a,o,s,l,u,c;if(t==null)r.push(e.map(n));else for(a={},o=0,s=e.length;o<s;++o)l=e[o],u=t.map(i),c=a[u],c||(a[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const fee="bin";function bL(e){J.call(this,null,e)}bL.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:fee}]};const zSe=(e,t)=>K1(Ks(e,t))/30;xe(bL,J,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=xL(t.source,e.groupby,ei),i=e.smooth||!1,a=e.field,o=e.step||zSe(n,a),s=ch((m,g)=>a(m)-a(g)),l=e.as||fee,u=r.length;let c=1/0,f=-1/0,d=0,p;for(;d<u;++d){const m=r[d].sort(s);p=-1;for(const g of GJ(m,o,i,a))g<c&&(c=g),g>f&&(f=g),m[++p][l]=g}return this.value={start:c,stop:f,step:o},t.reflow(!0).modifies(l)}});function dee(e){Ht.call(this,null,BSe,e),this.modified(!0)}xe(dee,Ht);function BSe(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:ta(n=>t(n,e),Vr(t),kn(t))}function _L(e){J.call(this,[void 0,void 0],e)}_L.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};xe(_L,J,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let a=n[0],o=n[1];if((i||a==null)&&(a=1/0,o=-1/0),t.visit(i?t.SOURCE:t.ADD,s=>{const l=Hr(r(s));l!=null&&(l<a&&(a=l),l>o&&(o=l))}),!Number.isFinite(a)||!Number.isFinite(o)){let s=kn(r);s&&(s=` for field "${s}"`),t.dataflow.warn(`Infinite extent${s}: [${a}, ${o}]`),a=o=void 0}this.value=[a,o]}});function wL(e,t){Ht.call(this,e),this.parent=t,this.count=0}xe(wL,Ht,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function mE(e){J.call(this,{},e),this._keys=_g();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}xe(mE,J,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let a=ke(i,e)&&i[e],o,s;return a?a.value.stamp<n.stamp&&(a.init(n),this.activate(a)):(s=r||(s=this._group[e])&&s.tuple,o=n.dataflow,a=new wL(n.fork(n.NO_SOURCE),this),o.add(a).connect(t(o,e,s)),i[e]=a,this.activate(a)),a},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,a=this._keys,o=e.modified("key"),s=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=Ie(l),c=a.get(u);c!==void 0&&(a.delete(u),s(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);a.set(Ie(l),u),s(u).add(l)}),o||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=Ie(l),c=a.get(u),f=r(l);c===f?s(f).mod(l):(a.set(u,f),s(c).rem(l),s(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{s(a.get(Ie(l))).mod(l)}),o&&t.visit(t.REFLOW,l=>{const u=Ie(l),c=a.get(u),f=r(l);c!==f&&(a.set(u,f),s(c).rem(l),s(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),a.clean()}):a.empty>n.cleanThreshold&&n.runAfter(a.clean),t}});function hee(e){Ht.call(this,null,USe,e)}xe(hee,Ht);function USe(e){return this.value&&!e.modified()?this.value:ae(e.name)?Ee(e.name).map(t=>so(t)):so(e.name,e.as)}function SL(e){J.call(this,_g(),e)}SL.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};xe(SL,J,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),a=i.add,o=i.rem,s=i.mod,l=e.expr;let u=!0;t.visit(t.REM,f=>{const d=Ie(f);r.has(d)?r.delete(d):o.push(f)}),t.visit(t.ADD,f=>{l(f,e)?a.push(f):r.set(Ie(f),1)});function c(f){const d=Ie(f),p=l(f,e),m=r.get(d);p&&m?(r.delete(d),a.push(f)):!p&&!m?(r.set(d,1),o.push(f)):u&&p&&!m&&s.push(f)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function AL(e){J.call(this,[],e)}AL.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};xe(AL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=cee(r,e.as||[]),a=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,s=>{const l=r.map(m=>m(s)),u=l.reduce((m,g)=>Math.max(m,g.length),0);let c=0,f,d,p;for(;c<u;++c){for(d=VF(s),f=0;f<o;++f)d[i[f]]=(p=l[f][c])==null?null:p;a&&(d[a]=c),n.add.push(d)}}),this.value=n.source=n.add,a&&n.modifies(a),n.modifies(i)}});function EL(e){J.call(this,[],e)}EL.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};xe(EL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(kn),a=e.as||["key","value"],o=a[0],s=a[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,f;c<l;++c)f=VF(u),f[o]=i[c],f[s]=r[c](u),n.add.push(f)}),this.value=n.source=n.add,n.modifies(a)}});function kL(e){J.call(this,null,e)}kL.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};xe(kL,J,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,o=>o[r]=n(o,e))}});function pee(e){J.call(this,[],e)}xe(pee,J,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,a=e.size-i.length,o,s,l;if(a>0){for(o=[];--a>=0;)o.push(l=Pt(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(o):o}else s=i.slice(0,-a),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(s):s,i=i.slice(-a);return n.source=this.value=i,n}});const zb={value:"value",median:BQ,mean:A_e,min:NN,max:sd},WSe=[];function CL(e){J.call(this,[],e)}CL.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function qSe(e){var t=e.method||zb.value,n;if(zb[t]==null)ee("Unrecognized imputation method: "+t);else return t===zb.value?(n=e.value!==void 0?e.value:0,()=>n):zb[t]}function HSe(e){const t=e.field;return n=>n?t(n):NaN}xe(CL,J,{transform(e,t){var n=t.fork(t.ALL),r=qSe(e),i=HSe(e),a=kn(e.field),o=kn(e.key),s=(e.groupby||[]).map(kn),l=GSe(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,f=l.domain.length,d,p,m,g,v,x,b,S,k,A;for(v=0,S=l.length;v<S;++v)for(d=l[v],m=d.values,p=NaN,b=0;b<f;++b)if(d[b]==null){for(g=l.domain[b],A={_impute:!0},x=0,k=m.length;x<k;++x)A[s[x]]=m[x];A[o]=g,A[a]=Number.isNaN(p)?p=r(d,i):p,u.push(Pt(A))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function GSe(e,t,n,r){var i=x=>x(v),a=[],o=r?r.slice():[],s={},l={},u,c,f,d,p,m,g,v;for(o.forEach((x,b)=>s[x]=b+1),d=0,g=e.length;d<g;++d)v=e[d],m=n(v),p=s[m]||(s[m]=o.push(m)),c=(u=t?t.map(i):WSe)+"",(f=l[c])||(f=l[c]=[],a.push(f),f.values=u),f[p-1]=v;return a.domain=o,a}function OL(e){jc.call(this,e)}OL.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:ex},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};xe(OL,jc,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,a=>n.add(a))):(i=n.value=n.value||this.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),n.changes(),t.visit(t.SOURCE,a=>{Je(a,i[n.cellkey(a)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function PL(e){J.call(this,null,e)}PL.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};xe(PL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=xL(r,e.groupby,e.field),a=(e.groupby||[]).map(kn),o=e.bandwidth,s=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;s!=="pdf"&&s!=="cdf"&&ee("Invalid density method: "+s),e.resolve==="shared"&&(c||(c=Ks(r,e.field)),f=d=e.steps||d),i.forEach(p=>{const m=tL(p,o)[s],g=e.counts?p.length:1,v=c||Ks(p);pE(m,v,f,d).forEach(x=>{const b={};for(let S=0;S<a.length;++S)b[a[S]]=p.dims[S];b[l[0]]=x[0],b[l[1]]=x[1]*g,u.push(Pt(b))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function mee(e){Ht.call(this,null,VSe,e)}xe(mee,Ht);function VSe(e){return this.value&&!e.modified()?this.value:TF(e.fields,e.flat)}function gee(e){J.call(this,[],e),this._pending=null}xe(gee,J,{transform(e,t){const n=t.dataflow;return this._pending?gP(this,t,this._pending):XSe(e)?t.StopPropagation:e.values?gP(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Ee(i.data),a=>a.touch(this)))}:n.request(e.url,e.format).then(r=>gP(this,t,Ee(r.data)))}});function XSe(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function gP(e,t,n){n.forEach(Pt);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function $L(e){J.call(this,{},e)}$L.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};xe($L,J,{transform(e,t){const n=e.fields,r=e.index,i=e.values,a=e.default==null?null:e.default,o=e.modified(),s=n.length;let l=o?t.SOURCE:t.ADD,u=t,c=e.as,f,d,p;return i?(d=i.length,s>1&&!c&&ee('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==s*d&&ee('The "as" parameter has too few output field names.'),c=c||i.map(kn),f=function(m){for(var g=0,v=0,x,b;g<s;++g)if(b=r.get(n[g](m)),b==null)for(x=0;x<d;++x,++v)m[c[v]]=a;else for(x=0;x<d;++x,++v)m[c[v]]=i[x](b)}):(c||ee("Missing output field names."),f=function(m){for(var g=0,v;g<s;++g)v=r.get(n[g](m)),m[c[g]]=v??a}),o?u=t.reflow(!0):(p=n.some(m=>t.modified(m.fields)),l|=p?t.MOD:0),t.visit(l,f),u.modifies(c)}});function yee(e){Ht.call(this,null,ZSe,e)}xe(yee,Ht);function ZSe(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,a,o;for(a=0;a<n;++a)o=t[a],o[0]<r&&(r=o[0]),o[1]>i&&(i=o[1]);return[r,i]}function vee(e){Ht.call(this,null,YSe,e)}xe(vee,Ht);function YSe(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function xee(e){J.call(this,null,e)}xe(xee,J,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function TL(e){jc.call(this,e)}TL.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:ex,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};xe(TL,jc,{_transform:jc.prototype.transform,transform(e,t){return this._transform(KSe(e,t),t)}});function KSe(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",a=Vr(n).concat(Vr(r)),o=JSe(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:o.map(()=>i),fields:o.map(s=>QSe(s,n,r,a)),as:o.map(s=>s+""),modified:e.modified.bind(e)}}function QSe(e,t,n,r){return ta(i=>t(i)===e?n(i):NaN,r,e+"")}function JSe(e,t,n){const r={},i=[];return n.visit(n.SOURCE,a=>{const o=e(a);r[o]||(r[o]=1,i.push(o))}),i.sort(bg),t?i.slice(0,t):i}function bee(e){mE.call(this,e)}xe(bee,mE,{transform(e,t){const n=e.subflow,r=e.field,i=a=>this.subflow(Ie(a),n,t,a);return(e.modified("field")||r&&t.modified(Vr(r)))&&ee("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,a=>{const o=i(a);r(a).forEach(s=>o.mod(s))}),t.visit(t.ADD,a=>{const o=i(a);r(a).forEach(s=>o.add(Pt(s)))}),t.visit(t.REM,a=>{const o=i(a);r(a).forEach(s=>o.rem(s))})):(t.visit(t.MOD,a=>i(a).mod(a)),t.visit(t.ADD,a=>i(a).add(a)),t.visit(t.REM,a=>i(a).rem(a))),t.clean()&&t.runAfter(()=>this.clean()),t}});function NL(e){J.call(this,null,e)}NL.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};xe(NL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=cee(e.fields,e.as||[]),a=r?(s,l)=>eAe(s,l,r,i):sE;let o;return this.value?o=this.value:(t=t.addAll(),o=this.value={}),t.visit(t.REM,s=>{const l=Ie(s);n.rem.push(o[l]),o[l]=null}),t.visit(t.ADD,s=>{const l=a(s,Pt({}));o[Ie(s)]=l,n.add.push(l)}),t.visit(t.MOD,s=>{n.mod.push(a(s,o[Ie(s)]))}),n}});function eAe(e,t,n,r){for(let i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}function _ee(e){J.call(this,null,e)}xe(_ee,J,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function ML(e){J.call(this,null,e)}ML.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const tAe=1e-14;xe(ML,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,a=xL(i,e.groupby,e.field),o=(e.groupby||[]).map(kn),s=[],l=e.step||.01,u=e.probs||Bi(l/2,1-tAe,l),c=u.length;return a.forEach(f=>{const d=YF(f,u);for(let p=0;p<c;++p){const m={};for(let g=0;g<o.length;++g)m[o[g]]=f.dims[g];m[r[0]]=u[p],m[r[1]]=d[p],s.push(Pt(m))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=s,n}});function wee(e){J.call(this,null,e)}xe(wee,J,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const a=Ie(i);n.rem.push(r[a]),r[a]=null}),t.visit(t.ADD,i=>{const a=VF(i);r[Ie(i)]=a,n.add.push(a)}),t.visit(t.MOD,i=>{const a=r[Ie(i)];for(const o in i)a[o]=i[o],n.modifies(o);n.mod.push(a)})),n}});function jL(e){J.call(this,[],e),this.count=0}jL.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};xe(jL,J,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,a=this.value.reduce((c,f)=>(c[Ie(f)]=1,c),{});let o=this.value,s=this.count,l=0;function u(c){let f,d;o.length<i?o.push(c):(d=~~((s+1)*co()),d<o.length&&d>=l&&(f=o[d],a[Ie(f)]&&n.rem.push(f),o[d]=c)),++s}if(t.rem.length&&(t.visit(t.REM,c=>{const f=Ie(c);a[f]&&(a[f]=-1,n.rem.push(c)),--s}),o=o.filter(c=>a[Ie(c)]!==-1)),(t.rem.length||r)&&o.length<i&&t.source&&(l=s=o.length,t.visit(t.SOURCE,c=>{a[Ie(c)]||u(c)}),l=-1),r&&o.length>i){const c=o.length-i;for(let f=0;f<c;++f)a[Ie(o[f])]=-1,n.rem.push(o[f]);o=o.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{a[Ie(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=o.filter(c=>!a[Ie(c)])),this.count=s,this.value=n.source=o,n}});function DL(e){J.call(this,null,e)}DL.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};xe(DL,J,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Bi(e.start,e.stop,e.step||1).map(i=>{const a={};return a[r]=i,Pt(a)}),n.add=t.add.concat(this.value),n}});function See(e){J.call(this,null,e),this.modified(!0)}xe(See,J,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function FL(e){J.call(this,null,e)}const Aee=["unit0","unit1"];FL.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:IF,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Aee}]};xe(FL,J,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",a=this._floor(e,t),o=(i?kg:Eg)(a.unit).offset,s=e.as||Aee,l=s[0],u=s[1],c=a.step;let f=a.start||1/0,d=a.stop||-1/0,p=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Vr(n)))&&(t=t.reflow(!0),p=t.SOURCE,f=1/0,d=-1/0),t.visit(p,m=>{const g=n(m);let v,x;g==null?(m[l]=null,r&&(m[u]=null)):(m[l]=v=x=a(g),r&&(m[u]=x=o(v,c)),v<f&&(f=v),x>d&&(d=x))}),a.start=f,a.stop=d,t.modifies(r?s:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:pJ({extent:e.extent||Ks(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),a=RF(r),o=this.value||{},s=(n?aJ:iJ)(a,i);return s.unit=pt(a),s.units=a,s.step=i,s.start=o.start,s.stop=o.stop,this.value=s}});function Eee(e){J.call(this,_g(),e)}xe(Eee,J,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,a=s=>i.set(r(s),s);let o=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,s=>i.delete(r(s))),t.visit(t.ADD,a)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function kee(e){J.call(this,null,e)}xe(kee,J,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(ch(e.sort)):t.source).map(e.field))}});function nAe(e,t,n,r){const i=Fv[e](t,n);return{init:i.init||nc,update:function(a,o){o[r]=i.next(a)}}}const Fv={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=Fv.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||ee("ntile num must be greater than zero.");const n=Fv.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||ee("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=rAe(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function rAe(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const iAe=Object.keys(Fv);function Cee(e){const t=Ee(e.ops),n=Ee(e.fields),r=Ee(e.params),i=Ee(e.aggregate_params),a=Ee(e.as),o=this.outputs=[],s=this.windows=[],l={},u={},c=[],f=[];let d=!0;function p(m){Ee(Vr(m)).forEach(g=>l[g]=1)}p(e.sort),t.forEach((m,g)=>{const v=n[g],x=r[g],b=i[g]||null,S=kn(v),k=nee(m,S,a[g]);if(p(v),o.push(k),ke(Fv,m))s.push(nAe(m,v,x,k));else{if(v==null&&m!=="count"&&ee("Null aggregate field specified."),m==="count"){c.push(k);return}d=!1;let A=u[S];A||(A=u[S]=[],A.field=v,f.push(A)),A.push(ree(m,b,k))}}),(c.length||f.length)&&(this.cell=aAe(f,c,d)),this.inputs=Object.keys(l)}const Oee=Cee.prototype;Oee.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};Oee.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,a=r&&r.length;let o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(i[o]);for(o=e.p1;o<e.i1;++o)n.add(i[o]);n.set(t)}for(o=0;o<a;++o)r[o].update(e,t)};function aAe(e,t,n){e=e.map(l=>aee(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),o=0;o<i;++o)a[o]=new e[o](r);if(r.store)var s=r.data=new hL;return r.add=function(l){if(r.num+=1,!n){s&&s.add(l);for(let u=0;u<i;++u)a[u].add(a[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){s&&s.rem(l);for(let u=0;u<i;++u)a[u].rem(a[u].get(l),l)}},r.set=function(l){let u,c;for(s&&s.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=a.length;u<c;++u)a[u].set(l)},r.init=function(){r.num=0,s&&s.reset();for(let l=0;l<i;++l)a[l].init()},r}function LL(e){J.call(this,{},e),this._mlen=0,this._mods=[]}LL.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:iAe.concat(ex)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};xe(LL,J,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=ch(e.sort),i=UN(e.groupby),a=s=>this.group(i(s));let o=this.state;(!o||n)&&(o=this.state=new Cee(e)),n||t.modified(o.inputs)?(this.value={},t.visit(t.SOURCE,s=>a(s).add(s))):(t.visit(t.REM,s=>a(s).remove(s)),t.visit(t.ADD,s=>a(s).add(s)));for(let s=0,l=this._mlen;s<l;++s)oAe(this._mods[s],o,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(o.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=oee(Ie),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function oAe(e,t,n,r){const i=r.sort,a=i&&!r.ignorePeers,o=r.frame||[null,0],s=e.data(n),l=s.length,u=a?wg(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||ti(-1)};t.init();for(let f=0;f<l;++f)sAe(c,o,f,l),a&&lAe(c,u),t.update(c,s[f])}function sAe(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function lAe(e,t){const n=e.i0,r=e.i1-1,i=e.compare,a=e.data,o=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<o&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}const uAe=Object.freeze(Object.defineProperty({__proto__:null,aggregate:jc,bin:pL,collect:mL,compare:see,countpattern:gL,cross:yL,density:vL,dotbin:bL,expression:dee,extent:_L,facet:mE,field:hee,filter:SL,flatten:AL,fold:EL,formula:kL,generate:pee,impute:CL,joinaggregate:OL,kde:PL,key:mee,load:gee,lookup:$L,multiextent:yee,multivalues:vee,params:xee,pivot:TL,prefacet:bee,project:NL,proxy:_ee,quantile:ML,relay:wee,sample:jL,sequence:DL,sieve:See,subflow:wL,timeunit:FL,tupleindex:Eee,values:kee,window:LL},Symbol.toStringTag,{value:"Module"}));function yt(e){return function(){return e}}const E9=Math.abs,Fr=Math.atan2,Dl=Math.cos,cAe=Math.max,yP=Math.min,Mi=Math.sin,Ar=Math.sqrt,Ir=1e-12,Dc=Math.PI,u2=Dc/2,tx=2*Dc;function fAe(e){return e>1?0:e<-1?Dc:Math.acos(e)}function k9(e){return e>=1?u2:e<=-1?-u2:Math.asin(e)}const WN=Math.PI,qN=2*WN,If=1e-6,dAe=qN-If;function Pee(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function hAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Pee;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let IL=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Pee:hAe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,u=i-n,c=o-t,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>If)if(!(Math.abs(f*l-u*c)>If)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,m=i-s,g=l*l+u*u,v=p*p+m*m,x=Math.sqrt(g),b=Math.sqrt(d),S=a*Math.tan((WN-Math.acos((g+d-v)/(2*x*b)))/2),k=S/b,A=S/x;Math.abs(k-1)>If&&this._append`L${t+k*c},${n+k*f}`,this._append`A${a},${a},0,0,${+(f*p>c*m)},${this._x1=t+A*l},${this._y1=n+A*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,f=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>If||Math.abs(this._y1-c)>If)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%qN+qN),d>dAe?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>If&&this._append`A${r},${r},0,${+(d>=WN)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function gE(){return new IL}gE.prototype=IL.prototype;function yE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new IL(t)}function pAe(e){return e.innerRadius}function mAe(e){return e.outerRadius}function gAe(e){return e.startAngle}function yAe(e){return e.endAngle}function vAe(e){return e&&e.padAngle}function xAe(e,t,n,r,i,a,o,s){var l=n-e,u=r-t,c=o-i,f=s-a,d=f*l-c*u;if(!(d*d<Ir))return d=(c*(t-a)-f*(e-i))/d,[e+d*l,t+d*u]}function Bb(e,t,n,r,i,a,o){var s=e-n,l=t-r,u=(o?a:-a)/Ar(s*s+l*l),c=u*l,f=-u*s,d=e+c,p=t+f,m=n+c,g=r+f,v=(d+m)/2,x=(p+g)/2,b=m-d,S=g-p,k=b*b+S*S,A=i-a,E=d*g-m*p,C=(S<0?-1:1)*Ar(cAe(0,A*A*k-E*E)),P=(E*S-b*C)/k,T=(-E*b-S*C)/k,j=(E*S+b*C)/k,D=(-E*b+S*C)/k,F=P-v,W=T-x,R=j-v,N=D-x;return F*F+W*W>R*R+N*N&&(P=j,T=D),{cx:P,cy:T,x01:-c,y01:-f,x11:P*(i/A-1),y11:T*(i/A-1)}}function bAe(){var e=pAe,t=mAe,n=yt(0),r=null,i=gAe,a=yAe,o=vAe,s=null,l=yE(u);function u(){var c,f,d=+e.apply(this,arguments),p=+t.apply(this,arguments),m=i.apply(this,arguments)-u2,g=a.apply(this,arguments)-u2,v=E9(g-m),x=g>m;if(s||(s=c=l()),p<d&&(f=p,p=d,d=f),!(p>Ir))s.moveTo(0,0);else if(v>tx-Ir)s.moveTo(p*Dl(m),p*Mi(m)),s.arc(0,0,p,m,g,!x),d>Ir&&(s.moveTo(d*Dl(g),d*Mi(g)),s.arc(0,0,d,g,m,x));else{var b=m,S=g,k=m,A=g,E=v,C=v,P=o.apply(this,arguments)/2,T=P>Ir&&(r?+r.apply(this,arguments):Ar(d*d+p*p)),j=yP(E9(p-d)/2,+n.apply(this,arguments)),D=j,F=j,W,R;if(T>Ir){var N=k9(T/d*Mi(P)),z=k9(T/p*Mi(P));(E-=N*2)>Ir?(N*=x?1:-1,k+=N,A-=N):(E=0,k=A=(m+g)/2),(C-=z*2)>Ir?(z*=x?1:-1,b+=z,S-=z):(C=0,b=S=(m+g)/2)}var q=p*Dl(b),B=p*Mi(b),G=d*Dl(A),M=d*Mi(A);if(j>Ir){var K=p*Dl(S),Z=p*Mi(S),U=d*Dl(k),me=d*Mi(k),le;if(v<Dc)if(le=xAe(q,B,U,me,K,Z,G,M)){var ve=q-le[0],mt=B-le[1],it=K-le[0],be=Z-le[1],De=1/Mi(fAe((ve*it+mt*be)/(Ar(ve*ve+mt*mt)*Ar(it*it+be*be)))/2),ze=Ar(le[0]*le[0]+le[1]*le[1]);D=yP(j,(d-ze)/(De-1)),F=yP(j,(p-ze)/(De+1))}else D=F=0}C>Ir?F>Ir?(W=Bb(U,me,q,B,p,F,x),R=Bb(K,Z,G,M,p,F,x),s.moveTo(W.cx+W.x01,W.cy+W.y01),F<j?s.arc(W.cx,W.cy,F,Fr(W.y01,W.x01),Fr(R.y01,R.x01),!x):(s.arc(W.cx,W.cy,F,Fr(W.y01,W.x01),Fr(W.y11,W.x11),!x),s.arc(0,0,p,Fr(W.cy+W.y11,W.cx+W.x11),Fr(R.cy+R.y11,R.cx+R.x11),!x),s.arc(R.cx,R.cy,F,Fr(R.y11,R.x11),Fr(R.y01,R.x01),!x))):(s.moveTo(q,B),s.arc(0,0,p,b,S,!x)):s.moveTo(q,B),!(d>Ir)||!(E>Ir)?s.lineTo(G,M):D>Ir?(W=Bb(G,M,K,Z,d,-D,x),R=Bb(q,B,U,me,d,-D,x),s.lineTo(W.cx+W.x01,W.cy+W.y01),D<j?s.arc(W.cx,W.cy,D,Fr(W.y01,W.x01),Fr(R.y01,R.x01),!x):(s.arc(W.cx,W.cy,D,Fr(W.y01,W.x01),Fr(W.y11,W.x11),!x),s.arc(0,0,d,Fr(W.cy+W.y11,W.cx+W.x11),Fr(R.cy+R.y11,R.cx+R.x11),x),s.arc(R.cx,R.cy,D,Fr(R.y11,R.x11),Fr(R.y01,R.x01),!x))):s.arc(0,0,d,A,k,x)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Dc/2;return[Dl(f)*c,Mi(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:yt(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:yt(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:yt(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:yt(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:yt(+c),u):i},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:yt(+c),u):a},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:yt(+c),u):o},u.context=function(c){return arguments.length?(s=c??null,u):s},u}function RL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $ee(e){this._context=e}$ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function nx(e){return new $ee(e)}function Tee(e){return e[0]}function Nee(e){return e[1]}function zL(e,t){var n=yt(!0),r=null,i=nx,a=null,o=yE(s);e=typeof e=="function"?e:e===void 0?Tee:yt(e),t=typeof t=="function"?t:t===void 0?Nee:yt(t);function s(l){var u,c=(l=RL(l)).length,f,d=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(f,u,l),+t(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:yt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:yt(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:yt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function _p(e,t,n){var r=null,i=yt(!0),a=null,o=nx,s=null,l=yE(u);e=typeof e=="function"?e:e===void 0?Tee:yt(+e),t=typeof t=="function"?t:yt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Nee:yt(+n);function u(f){var d,p,m,g=(f=RL(f)).length,v,x=!1,b,S=new Array(g),k=new Array(g);for(a==null&&(s=o(b=l())),d=0;d<=g;++d){if(!(d<g&&i(v=f[d],d,f))===x)if(x=!x)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=p;--m)s.point(S[m],k[m]);s.lineEnd(),s.areaEnd()}x&&(S[d]=+e(v,d,f),k[d]=+t(v,d,f),s.point(r?+r(v,d,f):S[d],n?+n(v,d,f):k[d]))}if(b)return s=null,b+""||null}function c(){return zL().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:yt(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:yt(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:yt(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:yt(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:yt(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:yt(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:yt(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class Mee{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function _Ae(e){return new Mee(e,!0)}function wAe(e){return new Mee(e,!1)}const BL={draw(e,t){const n=Ar(t/Dc);e.moveTo(n,0),e.arc(0,0,n,0,tx)}},SAe={draw(e,t){const n=Ar(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},jee=Ar(1/3),AAe=jee*2,EAe={draw(e,t){const n=Ar(t/AAe),r=n*jee;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},kAe={draw(e,t){const n=Ar(t),r=-n/2;e.rect(r,r,n,n)}},CAe=.8908130915292852,Dee=Mi(Dc/10)/Mi(7*Dc/10),OAe=Mi(tx/10)*Dee,PAe=-Dl(tx/10)*Dee,$Ae={draw(e,t){const n=Ar(t*CAe),r=OAe*n,i=PAe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=tx*a/5,s=Dl(o),l=Mi(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},vP=Ar(3),TAe={draw(e,t){const n=-Ar(t/(vP*3));e.moveTo(0,n*2),e.lineTo(-vP*n,-n),e.lineTo(vP*n,-n),e.closePath()}},Ra=-.5,za=Ar(3)/2,HN=1/Ar(12),NAe=(HN/2+1)*3,MAe={draw(e,t){const n=Ar(t/NAe),r=n/2,i=n*HN,a=r,o=n*HN+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Ra*r-za*i,za*r+Ra*i),e.lineTo(Ra*a-za*o,za*a+Ra*o),e.lineTo(Ra*s-za*l,za*s+Ra*l),e.lineTo(Ra*r+za*i,Ra*i-za*r),e.lineTo(Ra*a+za*o,Ra*o-za*a),e.lineTo(Ra*s+za*l,Ra*l-za*s),e.closePath()}};function Fee(e,t){let n=null,r=yE(i);e=typeof e=="function"?e:yt(e||BL),t=typeof t=="function"?t:yt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:yt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:yt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Fc(){}function c2(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function vE(e){this._context=e}vE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:c2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lee(e){return new vE(e)}function Iee(e){this._context=e}Iee.prototype={areaStart:Fc,areaEnd:Fc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ree(e){return new Iee(e)}function zee(e){this._context=e}zee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bee(e){return new zee(e)}function Uee(e,t){this._basis=new vE(e),this._beta=t}Uee.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,o=t[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+l*a),this._beta*t[s]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const jAe=function e(t){function n(r){return t===1?new vE(r):new Uee(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function f2(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function UL(e,t){this._context=e,this._k=(1-t)/6}UL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:f2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:f2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const DAe=function e(t){function n(r){return new UL(r,t)}return n.tension=function(r){return e(+r)},n}(0);function WL(e,t){this._context=e,this._k=(1-t)/6}WL.prototype={areaStart:Fc,areaEnd:Fc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:f2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const FAe=function e(t){function n(r){return new WL(r,t)}return n.tension=function(r){return e(+r)},n}(0);function qL(e,t){this._context=e,this._k=(1-t)/6}qL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:f2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const LAe=function e(t){function n(r){return new qL(r,t)}return n.tension=function(r){return e(+r)},n}(0);function HL(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>Ir){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ir){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function Wee(e,t){this._context=e,this._alpha=t}Wee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:HL(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const IAe=function e(t){function n(r){return t?new Wee(r,t):new UL(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function qee(e,t){this._context=e,this._alpha=t}qee.prototype={areaStart:Fc,areaEnd:Fc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:HL(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const RAe=function e(t){function n(r){return t?new qee(r,t):new WL(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Hee(e,t){this._context=e,this._alpha=t}Hee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:HL(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zAe=function e(t){function n(r){return t?new Hee(r,t):new qL(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Gee(e){this._context=e}Gee.prototype={areaStart:Fc,areaEnd:Fc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Vee(e){return new Gee(e)}function C9(e){return e<0?-1:1}function O9(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(C9(a)+C9(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function P9(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function xP(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function d2(e){this._context=e}d2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xP(this,this._t0,P9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xP(this,P9(this,n=O9(this,e,t)),n);break;default:xP(this,this._t0,n=O9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Xee(e){this._context=new Zee(e)}(Xee.prototype=Object.create(d2.prototype)).point=function(e,t){d2.prototype.point.call(this,t,e)};function Zee(e){this._context=e}Zee.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Yee(e){return new d2(e)}function Kee(e){return new Xee(e)}function Qee(e){this._context=e}Qee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=$9(e),i=$9(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $9(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Jee(e){return new Qee(e)}function xE(e,t){this._context=e,this._t=t}xE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function ete(e){return new xE(e,.5)}function tte(e){return new xE(e,0)}function nte(e){return new xE(e,1)}function pm(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function GN(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function BAe(e,t){return e[t]}function UAe(e){const t=[];return t.key=e,t}function WAe(){var e=yt([]),t=GN,n=pm,r=BAe;function i(a){var o=Array.from(e.apply(this,arguments),UAe),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=RL(t(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:yt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:yt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?GN:typeof a=="function"?a:yt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??pm,i):n},i}function qAe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}pm(e,t)}}function HAe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}pm(e,t)}}function GAe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,m=0;m<s;++m){var g=e[t[m]],v=g[r][1]||0,x=g[r-1][1]||0;p+=v-x}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,pm(e,t)}}function Oc(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const VAe=()=>typeof Image<"u"?Image:null;function go(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const h2=Symbol("implicit");function rx(){var e=new V8,t=[],n=[],r=h2;function i(a){let o=e.get(a);if(o===void 0){if(r!==h2)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new V8;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return rx(t,n).unknown(r)},go.apply(i,arguments),i}function Lv(){var e=rx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var d=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,d-l+u*2),s&&(a=Math.floor(a)),m+=(g-m-a*(d-l))*c,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=Bi(d).map(function(x){return m+a*x});return n(p?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return Lv(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},go.apply(f(),arguments)}function rte(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rte(t())},e}function Hy(){return rte(Lv.apply(null,arguments).paddingInner(1))}function Og(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ix(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Jc(){}var Cd=.7,mm=1/Cd,Up="\\s*([+-]?\\d+)\\s*",Iv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XAe=/^#([0-9a-f]{3,8})$/,ZAe=new RegExp(`^rgb\\(${Up},${Up},${Up}\\)$`),YAe=new RegExp(`^rgb\\(${Bs},${Bs},${Bs}\\)$`),KAe=new RegExp(`^rgba\\(${Up},${Up},${Up},${Iv}\\)$`),QAe=new RegExp(`^rgba\\(${Bs},${Bs},${Bs},${Iv}\\)$`),JAe=new RegExp(`^hsl\\(${Iv},${Bs},${Bs}\\)$`),eEe=new RegExp(`^hsla\\(${Iv},${Bs},${Bs},${Iv}\\)$`),T9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Og(Jc,Rv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:N9,formatHex:N9,formatHex8:tEe,formatHsl:nEe,formatRgb:M9,toString:M9});function N9(){return this.rgb().formatHex()}function tEe(){return this.rgb().formatHex8()}function nEe(){return ite(this).formatHsl()}function M9(){return this.rgb().formatRgb()}function Rv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=XAe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?j9(t):n===3?new ar(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ub(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ub(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ZAe.exec(e))?new ar(t[1],t[2],t[3],1):(t=YAe.exec(e))?new ar(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KAe.exec(e))?Ub(t[1],t[2],t[3],t[4]):(t=QAe.exec(e))?Ub(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JAe.exec(e))?L9(t[1],t[2]/100,t[3]/100,1):(t=eEe.exec(e))?L9(t[1],t[2]/100,t[3]/100,t[4]):T9.hasOwnProperty(e)?j9(T9[e]):e==="transparent"?new ar(NaN,NaN,NaN,0):null}function j9(e){return new ar(e>>16&255,e>>8&255,e&255,1)}function Ub(e,t,n,r){return r<=0&&(e=t=n=NaN),new ar(e,t,n,r)}function GL(e){return e instanceof Jc||(e=Rv(e)),e?(e=e.rgb(),new ar(e.r,e.g,e.b,e.opacity)):new ar}function Lc(e,t,n,r){return arguments.length===1?GL(e):new ar(e,t,n,r??1)}function ar(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Og(ar,Lc,ix(Jc,{brighter(e){return e=e==null?mm:Math.pow(mm,e),new ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cd:Math.pow(Cd,e),new ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ar(ld(this.r),ld(this.g),ld(this.b),p2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D9,formatHex:D9,formatHex8:rEe,formatRgb:F9,toString:F9}));function D9(){return`#${Jf(this.r)}${Jf(this.g)}${Jf(this.b)}`}function rEe(){return`#${Jf(this.r)}${Jf(this.g)}${Jf(this.b)}${Jf((isNaN(this.opacity)?1:this.opacity)*255)}`}function F9(){const e=p2(this.opacity);return`${e===1?"rgb(":"rgba("}${ld(this.r)}, ${ld(this.g)}, ${ld(this.b)}${e===1?")":`, ${e})`}`}function p2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ld(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jf(e){return e=ld(e),(e<16?"0":"")+e.toString(16)}function L9(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ro(e,t,n,r)}function ite(e){if(e instanceof Ro)return new Ro(e.h,e.s,e.l,e.opacity);if(e instanceof Jc||(e=Rv(e)),!e)return new Ro;if(e instanceof Ro)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ro(o,s,l,e.opacity)}function m2(e,t,n,r){return arguments.length===1?ite(e):new Ro(e,t,n,r??1)}function Ro(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Og(Ro,m2,ix(Jc,{brighter(e){return e=e==null?mm:Math.pow(mm,e),new Ro(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cd:Math.pow(Cd,e),new Ro(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ar(bP(e>=240?e-240:e+120,i,r),bP(e,i,r),bP(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ro(I9(this.h),Wb(this.s),Wb(this.l),p2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=p2(this.opacity);return`${e===1?"hsl(":"hsla("}${I9(this.h)}, ${Wb(this.s)*100}%, ${Wb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function I9(e){return e=(e||0)%360,e<0?e+360:e}function Wb(e){return Math.max(0,Math.min(1,e||0))}function bP(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ate=Math.PI/180,ote=180/Math.PI,g2=18,ste=.96422,lte=1,ute=.82521,cte=4/29,Wp=6/29,fte=3*Wp*Wp,iEe=Wp*Wp*Wp;function dte(e){if(e instanceof Us)return new Us(e.l,e.a,e.b,e.opacity);if(e instanceof Zl)return hte(e);e instanceof ar||(e=GL(e));var t=AP(e.r),n=AP(e.g),r=AP(e.b),i=_P((.2225045*t+.7168786*n+.0606169*r)/lte),a,o;return t===n&&n===r?a=o=i:(a=_P((.4360747*t+.3850649*n+.1430804*r)/ste),o=_P((.0139322*t+.0971045*n+.7141733*r)/ute)),new Us(116*i-16,500*(a-i),200*(i-o),e.opacity)}function y2(e,t,n,r){return arguments.length===1?dte(e):new Us(e,t,n,r??1)}function Us(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Og(Us,y2,ix(Jc,{brighter(e){return new Us(this.l+g2*(e??1),this.a,this.b,this.opacity)},darker(e){return new Us(this.l-g2*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=ste*wP(t),e=lte*wP(e),n=ute*wP(n),new ar(SP(3.1338561*t-1.6168667*e-.4906146*n),SP(-.9787684*t+1.9161415*e+.033454*n),SP(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function _P(e){return e>iEe?Math.pow(e,1/3):e/fte+cte}function wP(e){return e>Wp?e*e*e:fte*(e-cte)}function SP(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function AP(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function aEe(e){if(e instanceof Zl)return new Zl(e.h,e.c,e.l,e.opacity);if(e instanceof Us||(e=dte(e)),e.a===0&&e.b===0)return new Zl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*ote;return new Zl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function v2(e,t,n,r){return arguments.length===1?aEe(e):new Zl(e,t,n,r??1)}function Zl(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function hte(e){if(isNaN(e.h))return new Us(e.l,0,0,e.opacity);var t=e.h*ate;return new Us(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Og(Zl,v2,ix(Jc,{brighter(e){return new Zl(this.h,this.c,this.l+g2*(e??1),this.opacity)},darker(e){return new Zl(this.h,this.c,this.l-g2*(e??1),this.opacity)},rgb(){return hte(this).rgb()}}));var pte=-.14861,VL=1.78277,XL=-.29227,bE=-.90649,zv=1.97294,R9=zv*bE,z9=zv*VL,B9=VL*XL-bE*pte;function oEe(e){if(e instanceof ud)return new ud(e.h,e.s,e.l,e.opacity);e instanceof ar||(e=GL(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(B9*r+R9*t-z9*n)/(B9+R9-z9),a=r-i,o=(zv*(n-i)-XL*a)/bE,s=Math.sqrt(o*o+a*a)/(zv*i*(1-i)),l=s?Math.atan2(o,a)*ote-120:NaN;return new ud(l<0?l+360:l,s,i,e.opacity)}function VN(e,t,n,r){return arguments.length===1?oEe(e):new ud(e,t,n,r??1)}function ud(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Og(ud,VN,ix(Jc,{brighter(e){return e=e==null?mm:Math.pow(mm,e),new ud(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cd:Math.pow(Cd,e),new ud(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*ate,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ar(255*(t+n*(pte*r+VL*i)),255*(t+n*(XL*r+bE*i)),255*(t+n*(zv*r)),this.opacity)}}));function mte(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function gte(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return mte((n-r/t)*t,o,i,a,s)}}function yte(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return mte((n-r/t)*t,i,a,o,s)}}const _E=e=>()=>e;function vte(e,t){return function(n){return e+n*t}}function sEe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wE(e,t){var n=t-e;return n?vte(e,n>180||n<-180?n-360*Math.round(n/360):n):_E(isNaN(e)?t:e)}function lEe(e){return(e=+e)==1?or:function(t,n){return n-t?sEe(t,n,e):_E(isNaN(t)?n:t)}}function or(e,t){var n=t-e;return n?vte(e,n):_E(isNaN(e)?t:e)}const XN=function e(t){var n=lEe(t);function r(i,a){var o=n((i=Lc(i)).r,(a=Lc(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=or(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function xte(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=Lc(t[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=e(r),i=e(i),a=e(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}var uEe=xte(gte),cEe=xte(yte);function ZL(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function bte(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fEe(e,t){return(bte(t)?ZL:_te)(e,t)}function _te(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ef(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function wte(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Lo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ste(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ef(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ZN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,EP=new RegExp(ZN.source,"g");function dEe(e){return function(){return e}}function hEe(e){return function(t){return e(t)+""}}function Ate(e,t){var n=ZN.lastIndex=EP.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=ZN.exec(e))&&(i=EP.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Lo(r,i)})),n=EP.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?hEe(l[0].x):dEe(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function ef(e,t){var n=typeof t,r;return t==null||n==="boolean"?_E(t):(n==="number"?Lo:n==="string"?(r=Rv(t))?(t=r,XN):Ate:t instanceof Rv?XN:t instanceof Date?wte:bte(t)?ZL:Array.isArray(t)?_te:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ste:Lo)(e,t)}function pEe(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function mEe(e,t){var n=wE(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function ax(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var U9=180/Math.PI,YN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ete(e,t,n,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*U9,skewX:Math.atan(l)*U9,scaleX:o,scaleY:s}}var qb;function gEe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?YN:Ete(t.a,t.b,t.c,t.d,t.e,t.f)}function yEe(e){return e==null||(qb||(qb=document.createElementNS("http://www.w3.org/2000/svg","g")),qb.setAttribute("transform",e),!(e=qb.transform.baseVal.consolidate()))?YN:(e=e.matrix,Ete(e.a,e.b,e.c,e.d,e.e,e.f))}function kte(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,f,d,p,m){if(u!==f||c!==d){var g=p.push("translate(",null,t,null,n);m.push({i:g-4,x:Lo(u,f)},{i:g-2,x:Lo(c,d)})}else(f||d)&&p.push("translate("+f+t+d+n)}function o(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Lo(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Lo(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,p,m){if(u!==f||c!==d){var g=p.push(i(p)+"scale(",null,",",null,")");m.push({i:g-4,x:Lo(u,f)},{i:g-2,x:Lo(c,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,f,d),o(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(p){for(var m=-1,g=d.length,v;++m<g;)f[(v=d[m]).i]=v.x(p);return f.join("")}}}var vEe=kte(gEe,"px, ","px)","deg)"),xEe=kte(yEe,", ",")",")"),bEe=1e-12;function W9(e){return((e=Math.exp(e))+1/e)/2}function _Ee(e){return((e=Math.exp(e))-1/e)/2}function wEe(e){return((e=Math.exp(2*e))-1)/(e+1)}const SEe=function e(t,n,r){function i(a,o){var s=a[0],l=a[1],u=a[2],c=o[0],f=o[1],d=o[2],p=c-s,m=f-l,g=p*p+m*m,v,x;if(g<bEe)x=Math.log(d/u)/t,v=function(C){return[s+C*p,l+C*m,u*Math.exp(t*C*x)]};else{var b=Math.sqrt(g),S=(d*d-u*u+r*g)/(2*u*n*b),k=(d*d-u*u-r*g)/(2*d*n*b),A=Math.log(Math.sqrt(S*S+1)-S),E=Math.log(Math.sqrt(k*k+1)-k);x=(E-A)/t,v=function(C){var P=C*x,T=W9(A),j=u/(n*b)*(T*wEe(t*P+A)-_Ee(A));return[s+j*p,l+j*m,u*T/W9(t*P+A)]}}return v.duration=x*1e3*t/Math.SQRT2,v}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return e(o,s,l)},i}(Math.SQRT2,2,4);function Cte(e){return function(t,n){var r=e((t=m2(t)).h,(n=m2(n)).h),i=or(t.s,n.s),a=or(t.l,n.l),o=or(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const AEe=Cte(wE);var EEe=Cte(or);function kEe(e,t){var n=or((e=y2(e)).l,(t=y2(t)).l),r=or(e.a,t.a),i=or(e.b,t.b),a=or(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=a(o),e+""}}function Ote(e){return function(t,n){var r=e((t=v2(t)).h,(n=v2(n)).h),i=or(t.c,n.c),a=or(t.l,n.l),o=or(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const CEe=Ote(wE);var OEe=Ote(or);function Pte(e){return function t(n){n=+n;function r(i,a){var o=e((i=VN(i)).h,(a=VN(a)).h),s=or(i.s,a.s),l=or(i.l,a.l),u=or(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=s(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const PEe=Pte(wE);var $Ee=Pte(or);function YL(e,t){t===void 0&&(t=e,e=ef);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function TEe(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const NEe=Object.freeze(Object.defineProperty({__proto__:null,interpolate:ef,interpolateArray:fEe,interpolateBasis:gte,interpolateBasisClosed:yte,interpolateCubehelix:PEe,interpolateCubehelixLong:$Ee,interpolateDate:wte,interpolateDiscrete:pEe,interpolateHcl:CEe,interpolateHclLong:OEe,interpolateHsl:AEe,interpolateHslLong:EEe,interpolateHue:mEe,interpolateLab:kEe,interpolateNumber:Lo,interpolateNumberArray:ZL,interpolateObject:Ste,interpolateRgb:XN,interpolateRgbBasis:uEe,interpolateRgbBasisClosed:cEe,interpolateRound:ax,interpolateString:Ate,interpolateTransformCss:vEe,interpolateTransformSvg:xEe,interpolateZoom:SEe,piecewise:YL,quantize:TEe},Symbol.toStringTag,{value:"Module"}));function MEe(e){return function(){return e}}function x2(e){return+e}var q9=[0,1];function pi(e){return e}function KN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:MEe(isNaN(t)?NaN:.5)}function jEe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function DEe(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=KN(i,r),a=n(o,a)):(r=KN(r,i),a=n(a,o)),function(s){return a(r(s))}}function FEe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=KN(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=pu(e,s,1,r)-1;return a[l](i[l](s))}}function ox(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function SE(){var e=q9,t=q9,n=ef,r,i,a,o=pi,s,l,u;function c(){var d=Math.min(e.length,t.length);return o!==pi&&(o=jEe(e[0],e[d-1])),s=d>2?FEe:DEe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=s(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((u||(u=s(t,e.map(r),Lo)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,x2),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=ax,c()},f.clamp=function(d){return arguments.length?(o=d?!0:pi,c()):o!==pi},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,p){return r=d,i=p,c()}}function KL(){return SE()(pi,pi)}function QL(e,t,n,r){var i=Mc(e,t,n),a;switch(r=kd(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=GQ(i,o))&&(r.precision=a),FF(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=VQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=HQ(i))&&(r.precision=a-(r.type==="%")*2);break}}return QA(r)}function tf(e){var t=e.domain;return e.ticks=function(n){var r=t();return $N(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return QL(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=TN(o,s,n),u===l)return r[i]=o,r[a]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function Bv(){var e=KL();return e.copy=function(){return ox(e,Bv())},go.apply(e,arguments),tf(e)}function JL(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,x2),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return JL(e).unknown(t)},e=arguments.length?Array.from(e,x2):[0,1],tf(n)}function $te(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function H9(e){return Math.log(e)}function G9(e){return Math.exp(e)}function LEe(e){return-Math.log(-e)}function IEe(e){return-Math.exp(-e)}function REe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zEe(e){return e===10?REe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function BEe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function V9(e){return(t,n)=>-e(-t,n)}function eI(e){const t=e(H9,G9),n=t.domain;let r=10,i,a;function o(){return i=BEe(r),a=zEe(r),n()[0]<0?(i=V9(i),a=V9(a),e(LEe,IEe)):e(H9,G9),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),m,g;const v=s==null?10:+s;let x=[];if(!(r%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/a(-d):m*a(d),!(g<u)){if(g>c)break;x.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/a(-d):m*a(d),!(g<u)){if(g>c)break;x.push(g)}x.length*2<v&&(x=$N(u,c,v))}else x=$N(d,p,Math.min(p-d,v)).map(a);return f?x.reverse():x},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=kd(l)).precision==null&&(l.trim=!0),l=QA(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n($te(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function tI(){const e=eI(SE()).domain([1,10]);return e.copy=()=>ox(e,tI()).base(e.base()),go.apply(e,arguments),e}function X9(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Z9(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nI(e){var t=1,n=e(X9(t),Z9(t));return n.constant=function(r){return arguments.length?e(X9(t=+r),Z9(t)):t},tf(n)}function rI(){var e=nI(SE());return e.copy=function(){return ox(e,rI()).constant(e.constant())},go.apply(e,arguments)}function Y9(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function UEe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WEe(e){return e<0?-e*e:e*e}function iI(e){var t=e(pi,pi),n=1;function r(){return n===1?e(pi,pi):n===.5?e(UEe,WEe):e(Y9(n),Y9(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},tf(t)}function AE(){var e=iI(SE());return e.copy=function(){return ox(e,AE()).exponent(e.exponent())},go.apply(e,arguments),e}function Tte(){return AE.apply(null,arguments).exponent(.5)}function K9(e){return Math.sign(e)*e*e}function qEe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Nte(){var e=KL(),t=[0,1],n=!1,r;function i(a){var o=qEe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(K9(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,x2)).map(K9)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Nte(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},go.apply(i,arguments),tf(i)}function aI(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=zQ(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[pu(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(zs),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return aI().domain(e).range(t).unknown(r)},go.apply(a,arguments)}function oI(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[pu(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return oI().domain([e,t]).range(i).unknown(a)},go.apply(tf(o),arguments)}function sI(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[pu(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return sI().domain(e).range(t).unknown(n)},go.apply(i,arguments)}function HEe(e){return new Date(e)}function GEe(e){return e instanceof Date?+e:+new Date(+e)}function lI(e,t,n,r,i,a,o,s,l,u){var c=KL(),f=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),S=u("%B"),k=u("%Y");function A(E){return(l(E)<E?p:s(E)<E?m:o(E)<E?g:a(E)<E?v:r(E)<E?i(E)<E?x:b:n(E)<E?S:k)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?d(Array.from(E,GEe)):d().map(HEe)},c.ticks=function(E){var C=d();return e(C[0],C[C.length-1],E??10)},c.tickFormat=function(E,C){return C==null?A:u(C)},c.nice=function(E){var C=d();return(!E||typeof E.range!="function")&&(E=t(C[0],C[C.length-1],E??10)),E?d($te(C,E)):c},c.copy=function(){return ox(c,lI(e,t,n,r,i,a,o,s,l,u))},c}function Mte(){return go.apply(lI(G_e,V_e,Qs,Nv,Sg,eu,tE,JA,Xl,BF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jte(){return go.apply(lI(q_e,H_e,Js,Mv,Ag,kc,nE,eE,Xl,UF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function EE(){var e=0,t=1,n,r,i,a,o=pi,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,o=f(p,m),u):[o(0),o(1)]}}return u.range=c(ef),u.rangeRound=c(ax),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function nf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kE(){var e=tf(EE()(pi));return e.copy=function(){return nf(e,kE())},wu.apply(e,arguments)}function uI(){var e=eI(EE()).domain([1,10]);return e.copy=function(){return nf(e,uI()).base(e.base())},wu.apply(e,arguments)}function cI(){var e=nI(EE());return e.copy=function(){return nf(e,cI()).constant(e.constant())},wu.apply(e,arguments)}function CE(){var e=iI(EE());return e.copy=function(){return nf(e,CE()).exponent(e.exponent())},wu.apply(e,arguments)}function Dte(){return CE.apply(null,arguments).exponent(.5)}function Fte(){var e=[],t=pi;function n(r){if(r!=null&&!isNaN(r=+r))return t((pu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(zs),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>n2(e,a/r))},n.copy=function(){return Fte(t).domain(e)},wu.apply(n,arguments)}function OE(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,u=pi,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-a)*(r*g<r*a?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),a=c(t=+t),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var x,b,S;return arguments.length?([x,b,S]=v,u=YL(g,[x,b,S]),p):[u(0),u(.5),u(1)]}}return p.range=m(ef),p.rangeRound=m(ax),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function fI(){var e=tf(OE()(pi));return e.copy=function(){return nf(e,fI())},wu.apply(e,arguments)}function dI(){var e=eI(OE()).domain([.1,1,10]);return e.copy=function(){return nf(e,dI()).base(e.base())},wu.apply(e,arguments)}function hI(){var e=nI(OE());return e.copy=function(){return nf(e,hI()).constant(e.constant())},wu.apply(e,arguments)}function PE(){var e=iI(OE());return e.copy=function(){return nf(e,PE()).exponent(e.exponent())},wu.apply(e,arguments)}function Lte(){return PE.apply(null,arguments).exponent(.5)}function ll(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const VEe=ll("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),XEe=ll("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ZEe=ll("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),YEe=ll("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),KEe=ll("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),QEe=ll("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),JEe=ll("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),eke=ll("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),tke=ll("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),nke=ll("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function pI(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const rke="identity",gm="linear",gu="log",sx="pow",lx="sqrt",$E="symlog",Od="time",Pd="utc",Ws="sequential",Pg="diverging",ym="quantile",TE="quantize",NE="threshold",mI="ordinal",QN="point",Ite="band",gI="bin-ordinal",Jn="continuous",ux="discrete",cx="discretizing",yo="interpolating",yI="temporal";function ike(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function ake(e){return function(t){const n=e.range();let r=t[0],i=t[1],a=-1,o,s,l,u;for(i<r&&(s=r,r=i,i=s),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(a<0&&(a=l),o=l);if(!(a<0))return r=e.invertExtent(n[a]),i=e.invertExtent(n[o]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function vI(){const e=rx().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,a,o=!1,s=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],p=r[1-d],m=pI(f,s,l);let g=r[d-0];i=(p-g)/(m||1),o&&(i=Math.floor(i)),g+=(p-g-i*(f-s))*u,a=i*(1-s),o&&(g=Math.round(g),a=Math.round(a));const v=Bi(f).map(x=>g+i*x);return n(d?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],o=!0,c()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(f){return arguments.length?(o=!!f,c()):o},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),s=l,c()):s},e.paddingInner=function(f){return arguments.length?(s=Math.max(0,Math.min(1,f)),c()):s},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],p=d?n().reverse():n(),m=p.length-1;let g=+f[0],v=+f[1],x,b,S;if(!(g!==g||v!==v)&&(v<g&&(S=g,g=v,v=S),!(v<p[0]||g>r[1-d])))return x=Math.max(0,pu(p,g)-1),b=g===v?x:pu(p,v)-1,g-p[x]>a+1e-10&&++x,d&&(S=x,x=m-b,b=m-S),x>b?void 0:t().slice(x,b+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return vI().domain(t()).range(r).round(o).paddingInner(s).paddingOuter(l).align(u)},c()}function Rte(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Rte(t())},e}function oke(){return Rte(vI().paddingInner(1))}var ske=Array.prototype.map;function lke(e){return ske.call(e,Hr)}const uke=Array.prototype.slice;function zte(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(pu(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=lke(r),n):e.slice()},n.range=function(r){return arguments.length?(t=uke.call(r),n):t.slice()},n.tickFormat=function(r,i){return QL(e[0],pt(e),r??10,i)},n.copy=function(){return zte().domain(n.domain()).range(n.range())},n}const b2=new Map,Bte=Symbol("vega_scale");function Ute(e){return e[Bte]=!0,e}function Q9(e){return e&&e[Bte]===!0}function cke(e,t,n){const r=function(){const a=t();return a.invertRange||(a.invertRange=a.invert?ike(a):a.invertExtent?ake(a):void 0),a.type=e,Ute(a)};return r.metadata=Ko(Ee(n)),r}function Et(e,t,n){return arguments.length>1?(b2.set(e,cke(e,t,n)),this):Wte(e)?b2.get(e):void 0}Et(rke,JL);Et(gm,Bv,Jn);Et(gu,tI,[Jn,gu]);Et(sx,AE,Jn);Et(lx,Tte,Jn);Et($E,rI,Jn);Et(Od,Mte,[Jn,yI]);Et(Pd,jte,[Jn,yI]);Et(Ws,kE,[Jn,yo]);Et(`${Ws}-${gm}`,kE,[Jn,yo]);Et(`${Ws}-${gu}`,uI,[Jn,yo,gu]);Et(`${Ws}-${sx}`,CE,[Jn,yo]);Et(`${Ws}-${lx}`,Dte,[Jn,yo]);Et(`${Ws}-${$E}`,cI,[Jn,yo]);Et(`${Pg}-${gm}`,fI,[Jn,yo]);Et(`${Pg}-${gu}`,dI,[Jn,yo,gu]);Et(`${Pg}-${sx}`,PE,[Jn,yo]);Et(`${Pg}-${lx}`,Lte,[Jn,yo]);Et(`${Pg}-${$E}`,hI,[Jn,yo]);Et(ym,aI,[cx,ym]);Et(TE,oI,cx);Et(NE,sI,cx);Et(gI,zte,[ux,cx]);Et(mI,rx,ux);Et(Ite,vI,ux);Et(QN,oke,ux);function Wte(e){return b2.has(e)}function dh(e,t){const n=b2.get(e);return n&&n.metadata[t]}function xI(e){return dh(e,Jn)}function vm(e){return dh(e,ux)}function JN(e){return dh(e,cx)}function qte(e){return dh(e,gu)}function fke(e){return dh(e,yI)}function Hte(e){return dh(e,yo)}function Gte(e){return dh(e,ym)}const dke=["clamp","base","constant","exponent"];function Vte(e,t){const n=t[0],r=pt(t)-n;return function(i){return e(n+i*r)}}function ME(e,t,n){return YL(bI(t||"rgb",n),e)}function Xte(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function Zte(e,t,n){const r=n-t;let i,a,o;return!r||!Number.isFinite(r)?ti(.5):(i=(a=e.type).indexOf("-"),a=i<0?a:a.slice(i+1),o=Et(a)().domain([t,n]).range([0,1]),dke.forEach(s=>e[s]?o[s](e[s]()):0),o)}function bI(e,t){const n=NEe[hke(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function hke(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const pke={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},mke={accent:XEe,category10:VEe,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:ZEe,observable10:YEe,paired:KEe,pastel1:QEe,pastel2:JEe,set1:eke,set2:tke,set3:nke,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function Yte(e){if(ae(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function Kte(e,t){for(const n in e)_I(n,t(e[n]))}const J9={};Kte(mke,Yte);Kte(pke,e=>ME(Yte(e)));function _I(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(J9[e]=t,this):J9[e]}const K_="symbol",gke="discrete",yke="gradient",vke=e=>ae(e)?e.map(t=>String(t)):String(e),xke=(e,t)=>e[1]-t[1],bke=(e,t)=>t[1]-e[1];function wI(e,t,n){let r;return St(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(K1(e.domain())/n||1)+1))),Se(t)&&(r=t.step,t=t.interval),Ae(t)&&(t=e.type===Od?Eg(t):e.type==Pd?kg(t):ee("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function Qte(e,t,n){let r=e.range(),i=r[0],a=pt(r),o=xke;if(i>a&&(r=a,a=i,i=r,o=bke),i=Math.floor(i),a=Math.ceil(a),t=t.map(s=>[s,e(s)]).filter(s=>i<=s[1]&&s[1]<=a).sort(o).map(s=>s[0]),n>0&&t.length>1){const s=[t[0],pt(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=s)}return t}function SI(e,t){return e.bins?Qte(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function Jte(e,t,n,r,i,a){const o=t.type;let s=vke;if(o===Od||i===Od)s=e.timeFormat(r);else if(o===Pd||i===Pd)s=e.utcFormat(r);else if(qte(o)){const l=e.formatFloat(r);if(a||t.bins)s=l;else{const u=ene(t,n,!1);s=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();s=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(s=e.format(r));return s}function ene(e,t,n){const r=SI(e,t),i=e.base(),a=Math.log(i),o=Math.max(1,i*t/r.length),s=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/a));return u*i<i-.5&&(u*=i),u<=o};return n?r.filter(s):s}const eM={[ym]:"quantiles",[TE]:"thresholds",[NE]:"domain"},tne={[ym]:"quantiles",[TE]:"domain"};function nne(e,t){return e.bins?Ske(e.bins):e.type===gu?ene(e,t,!0):eM[e.type]?wke(e[eM[e.type]]()):SI(e,t)}function _ke(e,t,n){const r=t[tne[t.type]](),i=r.length;let a=i>1?r[1]-r[0]:r[0],o;for(o=1;o<i;++o)a=Math.min(a,r[o]-r[o-1]);return e.formatSpan(0,a,3*10,n)}function wke(e){const t=[-1/0].concat(e);return t.max=1/0,t}function Ske(e){const t=e.slice(0,-1);return t.max=pt(e),t}const Ake=e=>eM[e.type]||e.bins;function rne(e,t,n,r,i,a,o){const s=tne[t.type]&&a!==Od&&a!==Pd?_ke(e,t,i):Jte(e,t,n,i,a,o);return r===K_&&Ake(t)?Eke(s):r===gke?kke(s):Cke(s)}const Eke=e=>(t,n,r)=>{const i=e7(r[n+1],e7(r.max,1/0)),a=t7(t,e),o=t7(i,e);return a&&o?a+"  "+o:o?"< "+o:" "+a},e7=(e,t)=>e??t,kke=e=>(t,n)=>n?e(t):null,Cke=e=>t=>e(t),t7=(e,t)=>Number.isFinite(e)?t(e):null;function Oke(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+pt(t),a=i-r;if(e.type===NE){const o=n?a/n:.1;r-=o,i+=o,a=i-r}return o=>(o-r)/a}function Pke(e,t,n,r){const i=r||t.type;return Ae(n)&&fke(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===Od?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===Pd?e.utcFormat("%A, %d %B %Y, %X UTC"):rne(e,t,5,null,n,r,!0)}function ine(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=Pke(e,t,n.format,n.formatType);if(JN(t.type)){const a=nne(t).slice(1).map(i),o=a.length;return`${o} boundar${o===1?"y":"ies"}: ${a.join(", ")}`}else if(vm(t.type)){const a=t.domain(),o=a.length,s=o>r?a.slice(0,r-2).map(i).join(", ")+", ending with "+a.slice(-1).map(i):a.map(i).join(", ");return`${o} value${o===1?"":"s"}: ${s}`}else{const a=t.domain();return`values from ${i(a[0])} to ${i(pt(a))}`}}let ane=0;function $ke(){ane=0}const _2="p_";function AI(e){return e&&e.gradient}function one(e,t,n){const r=e.gradient;let i=e.id,a=r==="radial"?_2:"";return i||(i=e.id="gradient_"+ane++,r==="radial"?(e.x1=bs(e.x1,.5),e.y1=bs(e.y1,.5),e.r1=bs(e.r1,0),e.x2=bs(e.x2,.5),e.y2=bs(e.y2,.5),e.r2=bs(e.r2,.5),a=_2):(e.x1=bs(e.x1,0),e.y1=bs(e.y1,0),e.x2=bs(e.x2,1),e.y2=bs(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+a+i+")"}function bs(e,t){return e??t}function sne(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,a){return n.push({offset:i,color:a}),r}}}const n7={basis:{curve:Lee},"basis-closed":{curve:Ree},"basis-open":{curve:Bee},bundle:{curve:jAe,tension:"beta",value:.85},cardinal:{curve:DAe,tension:"tension",value:0},"cardinal-open":{curve:LAe,tension:"tension",value:0},"cardinal-closed":{curve:FAe,tension:"tension",value:0},"catmull-rom":{curve:IAe,tension:"alpha",value:.5},"catmull-rom-closed":{curve:RAe,tension:"alpha",value:.5},"catmull-rom-open":{curve:zAe,tension:"alpha",value:.5},linear:{curve:nx},"linear-closed":{curve:Vee},monotone:{horizontal:Kee,vertical:Yee},natural:{curve:Jee},step:{curve:ete},"step-after":{curve:nte},"step-before":{curve:tte}};function EI(e,t,n){var r=ke(n7,e)&&n7[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const Tke={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Nke=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Mke=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,jke=/^((\s+,?\s*)|(,\s*))/,Dke=/^[01]/;function xm(e){const t=[];return(e.match(Nke)||[]).forEach(r=>{let i=r[0];const a=i.toLowerCase(),o=Tke[a],s=Fke(a,o,r.slice(1).trim()),l=s.length;if(l<o||l&&l%o!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...s.slice(0,o)]),l!==o){a==="m"&&(i=i==="M"?"L":"l");for(let u=o;u<l;u+=o)t.push([i,...s.slice(u,u+o)])}}),t}function Fke(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let a=0;a<t;++a){const o=e==="a"&&(a===3||a===4)?Dke:Mke,s=n.slice(i).match(o);if(s===null)throw Error("Invalid SVG path, incorrect parameter type");i+=s[0].length,r.push(+s[0]);const l=n.slice(i).match(jke);l!==null&&(i+=l[0].length)}return r}const Ic=Math.PI/180,Lke=1e-14,Hf=Math.PI/2,$s=Math.PI*2,Hh=Math.sqrt(3)/2;var kP={},CP={},lne=[].join;function Ike(e,t,n,r,i,a,o,s,l){const u=lne.call(arguments);if(kP[u])return kP[u];const c=o*Ic,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const p=d*(s-e)*.5+f*(l-t)*.5,m=d*(l-t)*.5-f*(s-e)*.5;let g=p*p/(n*n)+m*m/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const v=d/n,x=f/n,b=-f/r,S=d/r,k=v*s+x*l,A=b*s+S*l,E=v*e+x*t,C=b*e+S*t;let T=1/((E-k)*(E-k)+(C-A)*(C-A))-.25;T<0&&(T=0);let j=Math.sqrt(T);a==i&&(j=-j);const D=.5*(k+E)-j*(C-A),F=.5*(A+C)+j*(E-k),W=Math.atan2(A-F,k-D);let N=Math.atan2(C-F,E-D)-W;N<0&&a===1?N+=$s:N>0&&a===0&&(N-=$s);const z=Math.ceil(Math.abs(N/(Hf+.001))),q=[];for(let B=0;B<z;++B){const G=W+B*N/z,M=W+(B+1)*N/z;q[B]=[D,F,G,M,n,r,f,d]}return kP[u]=q}function Rke(e){const t=lne.call(e);if(CP[t])return CP[t];var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7];const c=u*o,f=-l*s,d=l*o,p=u*s,m=Math.cos(i),g=Math.sin(i),v=Math.cos(a),x=Math.sin(a),b=.5*(a-i),S=Math.sin(b*.5),k=8/3*S*S/Math.sin(b),A=n+m-k*g,E=r+g+k*m,C=n+v,P=r+x,T=C+k*x,j=P-k*v;return CP[t]=[c*A+f*E,d*A+p*E,c*T+f*j,d*T+p*j,c*C+f*P,d*C+p*P]}const Ba=["l",0,0,0,0,0,0,0];function zke(e,t,n){const r=Ba[0]=e[0];if(r==="a"||r==="A")Ba[1]=t*e[1],Ba[2]=n*e[2],Ba[3]=e[3],Ba[4]=e[4],Ba[5]=e[5],Ba[6]=t*e[6],Ba[7]=n*e[7];else if(r==="h"||r==="H")Ba[1]=t*e[1];else if(r==="v"||r==="V")Ba[1]=n*e[1];else for(var i=1,a=e.length;i<a;++i)Ba[i]=(i%2==1?t:n)*e[i];return Ba}function Uv(e,t,n,r,i,a){var o,s=null,l=0,u=0,c=0,f=0,d,p,m,g,v=0,x=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),a==null&&(a=i),e.beginPath&&e.beginPath();for(var b=0,S=t.length;b<S;++b){switch(o=t[b],(i!==1||a!==1)&&(o=zke(o,i,a)),o[0]){case"l":l+=o[1],u+=o[2],e.lineTo(l+n,u+r);break;case"L":l=o[1],u=o[2],e.lineTo(l+n,u+r);break;case"h":l+=o[1],e.lineTo(l+n,u+r);break;case"H":l=o[1],e.lineTo(l+n,u+r);break;case"v":u+=o[1],e.lineTo(l+n,u+r);break;case"V":u=o[1],e.lineTo(l+n,u+r);break;case"m":l+=o[1],u+=o[2],v=l,x=u,e.moveTo(l+n,u+r);break;case"M":l=o[1],u=o[2],v=l,x=u,e.moveTo(l+n,u+r);break;case"c":d=l+o[5],p=u+o[6],c=l+o[3],f=u+o[4],e.bezierCurveTo(l+o[1]+n,u+o[2]+r,c+n,f+r,d+n,p+r),l=d,u=p;break;case"C":l=o[5],u=o[6],c=o[3],f=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,c+n,f+r,l+n,u+r);break;case"s":d=l+o[3],p=u+o[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,l+o[1]+n,u+o[2]+r,d+n,p+r),c=l+o[1],f=u+o[2],l=d,u=p;break;case"S":d=o[3],p=o[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,o[1]+n,o[2]+r,d+n,p+r),l=d,u=p,c=o[1],f=o[2];break;case"q":d=l+o[3],p=u+o[4],c=l+o[1],f=u+o[2],e.quadraticCurveTo(c+n,f+r,d+n,p+r),l=d,u=p;break;case"Q":d=o[3],p=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,d+n,p+r),l=d,u=p,c=o[1],f=o[2];break;case"t":d=l+o[1],p=u+o[2],s[0].match(/[QqTt]/)===null?(c=l,f=u):s[0]==="t"?(c=2*l-m,f=2*u-g):s[0]==="q"&&(c=2*l-c,f=2*u-f),m=c,g=f,e.quadraticCurveTo(c+n,f+r,d+n,p+r),l=d,u=p,c=l+o[1],f=u+o[2];break;case"T":d=o[1],p=o[2],c=2*l-c,f=2*u-f,e.quadraticCurveTo(c+n,f+r,d+n,p+r),l=d,u=p;break;case"a":r7(e,l+n,u+r,[o[1],o[2],o[3],o[4],o[5],o[6]+l+n,o[7]+u+r]),l+=o[6],u+=o[7];break;case"A":r7(e,l+n,u+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),l=o[6],u=o[7];break;case"z":case"Z":l=v,u=x,e.closePath();break}s=o}}function r7(e,t,n,r){const i=Ike(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let a=0;a<i.length;++a){const o=Rke(i[a]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}const i7=.5773502691896257,a7={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,$s)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Hh*n,i=r-n*i7,a=n/4;e.moveTo(0,-r-i),e.lineTo(-a,r-i),e.lineTo(a,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Hh*n,i=r-n*i7;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Hh*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Hh*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Hh*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Hh*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function une(e){return ke(a7,e)?a7[e]:Bke(e)}var OP={};function Bke(e){if(!ke(OP,e)){const t=xm(e);OP[e]={draw:function(n,r){Uv(n,t,0,0,Math.sqrt(r)/2)}}}return OP[e]}const Bu=.448084975506;function Uke(e){return e.x}function Wke(e){return e.y}function qke(e){return e.width}function Hke(e){return e.height}function Ol(e){return typeof e=="function"?e:()=>+e}function Hb(e,t,n){return Math.max(t,Math.min(e,n))}function cne(){var e=Uke,t=Wke,n=qke,r=Hke,i=Ol(0),a=i,o=i,s=i,l=null;function u(c,f,d){var p,m=f??+e.call(this,c),g=d??+t.call(this,c),v=+n.call(this,c),x=+r.call(this,c),b=Math.min(v,x)/2,S=Hb(+i.call(this,c),0,b),k=Hb(+a.call(this,c),0,b),A=Hb(+o.call(this,c),0,b),E=Hb(+s.call(this,c),0,b);if(l||(l=p=gE()),S<=0&&k<=0&&A<=0&&E<=0)l.rect(m,g,v,x);else{var C=m+v,P=g+x;l.moveTo(m+S,g),l.lineTo(C-k,g),l.bezierCurveTo(C-Bu*k,g,C,g+Bu*k,C,g+k),l.lineTo(C,P-E),l.bezierCurveTo(C,P-Bu*E,C-Bu*E,P,C-E,P),l.lineTo(m+A,P),l.bezierCurveTo(m+Bu*A,P,m,P-Bu*A,m,P-A),l.lineTo(m,g+S),l.bezierCurveTo(m,g+Bu*S,m+Bu*S,g,m+S,g),l.closePath()}if(p)return l=null,p+""||null}return u.x=function(c){return arguments.length?(e=Ol(c),u):e},u.y=function(c){return arguments.length?(t=Ol(c),u):t},u.width=function(c){return arguments.length?(n=Ol(c),u):n},u.height=function(c){return arguments.length?(r=Ol(c),u):r},u.cornerRadius=function(c,f,d,p){return arguments.length?(i=Ol(c),a=f!=null?Ol(f):i,s=d!=null?Ol(d):i,o=p!=null?Ol(p):a,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function fne(){var e,t,n,r,i=null,a,o,s,l;function u(f,d,p){const m=p/2;if(a){var g=s-d,v=f-o;if(g||v){var x=Math.hypot(g,v),b=(g/=x)*l,S=(v/=x)*l,k=Math.atan2(v,g);i.moveTo(o-b,s-S),i.lineTo(f-g*m,d-v*m),i.arc(f,d,m,k-Math.PI,k),i.lineTo(o+b,s+S),i.arc(o,s,l,k,k+Math.PI)}else i.arc(f,d,m,0,$s);i.closePath()}else a=1;o=f,s=d,l=m}function c(f){var d,p=f.length,m,g=!1,v;for(i==null&&(i=v=gE()),d=0;d<=p;++d)!(d<p&&r(m=f[d],d,f))===g&&(g=!g)&&(a=0),g&&u(+e(m,d,f),+t(m,d,f),+n(m,d,f));if(v)return i=null,v+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function fx(e,t){return e??t}const dx=e=>e.x||0,hx=e=>e.y||0,Gke=e=>e.width||0,Vke=e=>e.height||0,Xke=e=>(e.x||0)+(e.width||0),Zke=e=>(e.y||0)+(e.height||0),Yke=e=>e.startAngle||0,Kke=e=>e.endAngle||0,Qke=e=>e.padAngle||0,Jke=e=>e.innerRadius||0,eCe=e=>e.outerRadius||0,tCe=e=>e.cornerRadius||0,nCe=e=>fx(e.cornerRadiusTopLeft,e.cornerRadius)||0,rCe=e=>fx(e.cornerRadiusTopRight,e.cornerRadius)||0,iCe=e=>fx(e.cornerRadiusBottomRight,e.cornerRadius)||0,aCe=e=>fx(e.cornerRadiusBottomLeft,e.cornerRadius)||0,oCe=e=>fx(e.size,64),sCe=e=>e.size||1,jE=e=>e.defined!==!1,lCe=e=>une(e.shape||"circle"),uCe=bAe().startAngle(Yke).endAngle(Kke).padAngle(Qke).innerRadius(Jke).outerRadius(eCe).cornerRadius(tCe),cCe=_p().x(dx).y1(hx).y0(Zke).defined(jE),fCe=_p().y(hx).x1(dx).x0(Xke).defined(jE),dCe=zL().x(dx).y(hx).defined(jE),hCe=cne().x(dx).y(hx).width(Gke).height(Vke).cornerRadius(nCe,rCe,iCe,aCe),pCe=Fee().type(lCe).size(oCe),mCe=fne().x(dx).y(hx).defined(jE).size(sCe);function kI(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function gCe(e,t){return uCe.context(e)(t)}function yCe(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?fCe:cCe).curve(EI(r,n.orient,n.tension)).context(e)(t)}function vCe(e,t){const n=t[0],r=n.interpolate||"linear";return dCe.curve(EI(r,n.orient,n.tension)).context(e)(t)}function $g(e,t,n,r){return hCe.context(e)(t,n,r)}function xCe(e,t){return(t.mark.shape||t.shape).context(e)(t)}function bCe(e,t){return pCe.context(e)(t)}function _Ce(e,t){return mCe.context(e)(t)}var dne=1;function hne(){dne=1}function CI(e,t,n){var r=t.clip,i=e._defs,a=t.clip_id||(t.clip_id="clip"+dne++),o=i.clipping[a]||(i.clipping[a]={id:a});return et(r)?o.path=r(null):kI(n)?o.path=$g(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+a+")"}function zn(e){this.clear(),e&&this.union(e)}zn.prototype={clone(){return new zn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:a,y2:o}=this,s=Math.cos(e),l=Math.sin(e),u=t-t*s+n*l,c=n-t*l-n*s;return[s*r-l*i+u,l*r+s*i+c,s*r-l*o+u,l*r+s*o+c,s*a-l*i+u,l*a+s*i+c,s*a-l*o+u,l*a+s*o+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function DE(e){this.mark=e,this.bounds=this.bounds||new zn}function FE(e){DE.call(this,e),this.items=this.items||[]}xe(FE,DE);class pne{constructor(t){this._pending=0,this._loader=t||iE()}pending(){return this._pending}sanitizeURL(t){const n=this;return o7(n),n._loader.sanitize(t,{context:"href"}).then(r=>(M0(n),r)).catch(()=>(M0(n),null))}loadImage(t){const n=this,r=VAe();return o7(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const a=i.href;if(!a||!r)throw{url:a};const o=new r,s=ke(i,"crossOrigin")?i.crossOrigin:"anonymous";return s!=null&&(o.crossOrigin=s),o.onload=()=>M0(n),o.onerror=()=>M0(n),o.src=a,o}).catch(i=>(M0(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function o7(e){e._pending+=1}function M0(e){e._pending-=1}function Su(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?wCe(t,r):0))}return e}function wCe(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const SCe=$s-1e-8;let LE,Q_,J_,ed,tM,ew,nM,rM;const oc=(e,t)=>LE.add(e,t),tw=(e,t)=>oc(Q_=e,J_=t),s7=e=>oc(e,LE.y1),l7=e=>oc(LE.x1,e),Gf=(e,t)=>tM*e+nM*t,Vf=(e,t)=>ew*e+rM*t,PP=(e,t)=>oc(Gf(e,t),Vf(e,t)),$P=(e,t)=>tw(Gf(e,t),Vf(e,t));function px(e,t){return LE=e,t?(ed=t*Ic,tM=rM=Math.cos(ed),ew=Math.sin(ed),nM=-ew):(tM=rM=1,ed=ew=nM=0),ACe}const ACe={beginPath(){},closePath(){},moveTo:$P,lineTo:$P,rect(e,t,n,r){ed?(PP(e+n,t),PP(e+n,t+r),PP(e,t+r),$P(e,t)):(oc(e+n,t+r),tw(e,t))},quadraticCurveTo(e,t,n,r){const i=Gf(e,t),a=Vf(e,t),o=Gf(n,r),s=Vf(n,r);u7(Q_,i,o,s7),u7(J_,a,s,l7),tw(o,s)},bezierCurveTo(e,t,n,r,i,a){const o=Gf(e,t),s=Vf(e,t),l=Gf(n,r),u=Vf(n,r),c=Gf(i,a),f=Vf(i,a);c7(Q_,o,l,c,s7),c7(J_,s,u,f,l7),tw(c,f)},arc(e,t,n,r,i,a){if(r+=ed,i+=ed,Q_=n*Math.cos(i)+e,J_=n*Math.sin(i)+t,Math.abs(i-r)>SCe)oc(e-n,t-n),oc(e+n,t+n);else{const o=u=>oc(n*Math.cos(u)+e,n*Math.sin(u)+t);let s,l;if(o(r),o(i),i!==r)if(r=r%$s,r<0&&(r+=$s),i=i%$s,i<0&&(i+=$s),i<r&&(a=!a,s=r,r=i,i=s),a)for(i-=$s,s=r-r%Hf,l=0;l<4&&s>i;++l,s-=Hf)o(s);else for(s=r-r%Hf+Hf,l=0;l<4&&s<i;++l,s=s+Hf)o(s)}}};function u7(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function c7(e,t,n,r,i){const a=r-e+3*t-3*n,o=e+n-2*t,s=e-t;let l=0,u=0,c;Math.abs(a)>Lke?(c=o*o+s*a,c>=0&&(c=Math.sqrt(c),l=(-o+c)/a,u=(-o-c)/a)):l=.5*s/o,0<l&&l<1&&i(f7(l,e,t,n,r)),0<u&&u<1&&i(f7(u,e,t,n,r))}function f7(e,t,n,r,i){const a=1-e,o=a*a,s=e*e;return o*a*t+3*o*e*n+3*a*s*r+s*e*i}var Pc=(Pc=Oc(1,1))?Pc.getContext("2d"):null;const iM=new zn;function OI(e){return function(t,n){if(!Pc)return!0;e(Pc,t),iM.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:a,y2:o}=iM;for(let s=i;s<=o;++s)for(let l=r;l<=a;++l)if(Pc.isPointInPath(l,s))return!0;return!1}}function PI(e,t){return t.contains(e.x||0,e.y||0)}function mne(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,a=e.height||0;return t.intersects(iM.set(n,r,n+i,r+a))}function gne(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,a=e.y2!=null?e.y2:r;return wp(t,n,r,i,a)}function wp(e,t,n,r,i){const{x1:a,y1:o,x2:s,y2:l}=e,u=r-t,c=i-n;let f=0,d=1,p,m,g,v;for(v=0;v<4;++v){if(v===0&&(p=-u,m=-(a-t)),v===1&&(p=u,m=s-t),v===2&&(p=-c,m=-(o-n)),v===3&&(p=c,m=l-n),Math.abs(p)<1e-10&&m<0)return!1;if(g=m/p,p<0){if(g>d)return!1;g>f&&(f=g)}else if(p>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function bm(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Oo(e,t){return e??t}function d7(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function ECe(e,t,n){const r=n.width(),i=n.height();let a;if(t.gradient==="radial")a=e.createRadialGradient(n.x1+Oo(t.x1,.5)*r,n.y1+Oo(t.y1,.5)*i,Math.max(r,i)*Oo(t.r1,0),n.x1+Oo(t.x2,.5)*r,n.y1+Oo(t.y2,.5)*i,Math.max(r,i)*Oo(t.r2,.5));else{const o=Oo(t.x1,0),s=Oo(t.y1,0),l=Oo(t.x2,1),u=Oo(t.y2,0);if(o===l||s===u||r===i)a=e.createLinearGradient(n.x1+o*r,n.y1+s*i,n.x1+l*r,n.y1+u*i);else{const c=Oc(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=d7(f.createLinearGradient(o,s,l,u),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return d7(a,t.stops)}function yne(e,t,n){return AI(n)?ECe(e,n,t.bounds):n}function w2(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=yne(e,t,t.fill),!0):!1}var kCe=[];function _m(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=yne(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||kCe),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function CCe(e,t){return e.zindex-t.zindex||e.index-t.index}function $I(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,a;for(i=0,a=t.length;i<a;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(CCe)}function Jo(e,t){var n=e.items,r,i;if(!n||!n.length)return;const a=$I(e);if(a&&a.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=a}for(r=0,i=n.length;r<i;++r)t(n[r])}function S2(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const a=$I(e);for(a&&a.length&&(n=a),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===a){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function TI(e){return function(t,n,r){Jo(n,i=>{(!r||r.intersects(i.bounds))&&vne(e,t,i,i)})}}function OCe(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&vne(e,t,n.items[0],n.items)}}function vne(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(bm(t,n),n.fill&&w2(t,n,i)&&t.fill(),n.stroke&&_m(t,n,i)&&t.stroke()))}function IE(e){return e=e||lo,function(t,n,r,i,a,o){return r*=t.pixelRatio,i*=t.pixelRatio,S2(n,s=>{const l=s.bounds;if(!(l&&!l.contains(a,o)||!l)&&e(t,s,r,i,a,o))return s})}}function mx(e,t){return function(n,r,i,a){var o=Array.isArray(r)?r[0]:r,s=t??o.fill,l=o.stroke&&n.isPointInStroke,u,c;return l&&(u=o.strokeWidth,c=o.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:s&&n.isPointInPath(i,a)||l&&n.isPointInStroke(i,a)}}function NI(e){return IE(mx(e))}function cd(e,t){return"translate("+e+","+t+")"}function MI(e){return"rotate("+e+")"}function PCe(e,t){return"scale("+e+","+t+")"}function xne(e){return cd(e.x||0,e.y||0)}function $Ce(e){return cd(e.x||0,e.y||0)+(e.angle?" "+MI(e.angle):"")}function TCe(e){return cd(e.x||0,e.y||0)+(e.angle?" "+MI(e.angle):"")+(e.scaleX||e.scaleY?" "+PCe(e.scaleX||1,e.scaleY||1):"")}function jI(e,t,n){function r(o,s){o("transform",$Ce(s)),o("d",t(null,s))}function i(o,s){return t(px(o,s.angle),s),Su(o,s).translate(s.x||0,s.y||0)}function a(o,s){var l=s.x||0,u=s.y||0,c=s.angle||0;o.translate(l,u),c&&o.rotate(c*=Ic),o.beginPath(),t(o,s),c&&o.rotate(-c),o.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:TI(a),pick:NI(a),isect:n||OI(a)}}var NCe=jI("arc",gCe);function MCe(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,a=1/0,o,s;--i>=0;)e[i].defined!==!1&&(s=Math.abs(e[i][r]-n),s<a&&(a=s,o=e[i]));return o}function jCe(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,a,o;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],a=e[r].y-t[1],o=i*i+a*a,o<n))return e[r];return null}function DCe(e,t){for(var n=e.length,r,i,a;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],a=r*r+i*i,r=e[n].size||1,a<r*r))return e[n];return null}function DI(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(px(l),c),Su(l,c[0]))}function a(l,u){l.beginPath(),t(l,u)}const o=mx(a);function s(l,u,c,f,d,p){var m=u.items,g=u.bounds;return!m||!m.length||g&&!g.contains(d,p)?null:(c*=l.pixelRatio,f*=l.pixelRatio,o(l,m,c,f)?m[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:OCe(a),pick:s,isect:PI,tip:n}}var FCe=DI("area",yCe,MCe);function LCe(e,t){var n=t.clip;e.save(),et(n)?(e.beginPath(),n(e),e.clip()):bne(e,t.group)}function bne(e,t){e.beginPath(),kI(t)?$g(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function _ne(e){const t=Oo(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function ICe(e,t){e("transform",xne(t))}function wne(e,t){const n=_ne(t);e("d",$g(null,t,n,n))}function RCe(e,t){e("class","background"),e("aria-hidden",!0),wne(e,t)}function zCe(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?wne(e,t):e("d","")}function BCe(e,t,n){const r=t.clip?CI(n,t,t):null;e("clip-path",r)}function UCe(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Su(e,t),e.translate(t.x||0,t.y||0)}function Wv(e,t,n,r){const i=_ne(t);e.beginPath(),$g(e,t,(n||0)+i,(r||0)+i)}const WCe=mx(Wv),qCe=mx(Wv,!1),HCe=mx(Wv,!0);function GCe(e,t,n,r){Jo(t,i=>{const a=i.x||0,o=i.y||0,s=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(Wv(e,i,a,o),bm(e,i),i.fill&&w2(e,i,l)&&e.fill(),i.stroke&&!s&&_m(e,i,l)&&e.stroke()),e.save(),e.translate(a,o),i.clip&&bne(e,i),n&&n.translate(-a,-o),Jo(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(a,o),e.restore(),s&&i.stroke&&l&&(Wv(e,i,a,o),bm(e,i),_m(e,i,l)&&e.stroke())})}function VCe(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;const o=n*e.pixelRatio,s=r*e.pixelRatio;return S2(t,l=>{let u,c,f;const d=l.bounds;if(d&&!d.contains(i,a))return;c=l.x||0,f=l.y||0;const p=c+(l.width||0),m=f+(l.height||0),g=l.clip;if(g&&(i<c||i>p||a<f||a>m))return;if(e.save(),e.translate(c,f),c=i-c,f=a-f,g&&kI(l)&&!HCe(e,l,o,s))return e.restore(),null;const v=l.strokeForeground,x=t.interactive!==!1;return x&&v&&l.stroke&&qCe(e,l,o,s)?(e.restore(),l):(u=S2(l,b=>XCe(b,c,f)?this.pick(b,n,r,c,f):null),!u&&x&&(l.fill||!v&&l.stroke)&&WCe(e,l,o,s)&&(u=l),e.restore(),u||null)})}function XCe(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var ZCe={type:"group",tag:"g",nested:!1,attr:ICe,bound:UCe,draw:GCe,pick:VCe,isect:mne,content:BCe,background:RCe,foreground:zCe},qv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function FI(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function LI(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function II(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function RE(e,t){return e==="center"?t/2:e==="right"?t:0}function zE(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function YCe(e,t,n){const r=FI(t,n),i=LI(t,r),a=II(t,r),o=(t.x||0)-RE(t.align,i),s=(t.y||0)-zE(t.baseline,a),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,qv["xmlns:xlink"],"xlink:href"),e("transform",cd(o,s)),e("width",i),e("height",a),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function KCe(e,t){const n=t.image,r=LI(t,n),i=II(t,n),a=(t.x||0)-RE(t.align,r),o=(t.y||0)-zE(t.baseline,i);return e.set(a,o,a+r,o+i)}function QCe(e,t,n){Jo(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=FI(r,this);let a=LI(r,i),o=II(r,i);if(a===0||o===0)return;let s=(r.x||0)-RE(r.align,a),l=(r.y||0)-zE(r.baseline,o),u,c,f,d;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=a/c,l+=(o-d)/2,o=d):(d=o*c,s+=(a-d)/2,a=d))),(i.complete||i.toDataURL)&&(bm(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,s,l,a,o))})}var JCe={type:"image",tag:"image",nested:!1,attr:YCe,bound:KCe,draw:QCe,pick:IE(),isect:lo,get:FI,xOffset:RE,yOffset:zE},eOe=DI("line",vCe,jCe);function tOe(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",TCe(t)),e("d",t.path)}function nw(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,a=t.scaleX||1,o=t.scaleY||1,s=(t.angle||0)*Ic,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=xm(n)).path=n),s&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(s),Uv(e,l,0,0,a,o),e.rotate(-s),e.translate(-r,-i)):Uv(e,l,r,i,a,o)}function nOe(e,t){return nw(px(e,t.angle),t)?e.set(0,0,0,0):Su(e,t,!0)}var rOe={type:"path",tag:"path",nested:!1,attr:tOe,bound:nOe,draw:TI(nw),pick:NI(nw),isect:OI(nw)};function iOe(e,t){e("d",$g(null,t))}function aOe(e,t){var n,r;return Su(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function h7(e,t){e.beginPath(),$g(e,t)}var oOe={type:"rect",tag:"path",nested:!1,attr:iOe,bound:aOe,draw:TI(h7),pick:NI(h7),isect:mne};function sOe(e,t){e("transform",xne(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function lOe(e,t){var n,r;return Su(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function Sne(e,t,n){var r,i,a,o;return t.stroke&&_m(e,t,n)?(r=t.x||0,i=t.y||0,a=t.x2!=null?t.x2:r,o=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,o),!0):!1}function uOe(e,t,n){Jo(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&Sne(e,r,i)&&(bm(e,r),e.stroke())}})}function cOe(e,t,n,r){return e.isPointInStroke?Sne(e,t,1)&&e.isPointInStroke(n,r):!1}var fOe={type:"rule",tag:"line",nested:!1,attr:sOe,bound:lOe,draw:uOe,pick:IE(cOe),isect:gne},dOe=jI("shape",xCe),hOe=jI("symbol",bCe,PI);const p7=CQ();var _a={height:ul,measureWidth:RI,estimateWidth:A2,width:A2,canvas:Ane};Ane(!0);function Ane(e){_a.width=e&&Pc?RI:A2}function A2(e,t){return Ene(zc(e,t),ul(e))}function Ene(e,t){return~~(.8*e.length*t)}function RI(e,t){return ul(e)<=0||!(t=zc(e,t))?0:kne(t,BE(e))}function kne(e,t){const n=`(${t}) ${e}`;let r=p7.get(n);return r===void 0&&(Pc.font=t,r=Pc.measureText(e).width,p7.set(n,r)),r}function ul(e){return e.fontSize!=null?+e.fontSize||0:11}function Rc(e){return e.lineHeight!=null?e.lineHeight:ul(e)+2}function pOe(e){return ae(e)?e.length>1?e:e[0]:e}function gx(e){return pOe(e.lineBreak&&e.text&&!ae(e.text)?e.text.split(e.lineBreak):e.text)}function zI(e){const t=gx(e);return(ae(t)?t.length-1:0)*Rc(e)}function zc(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?gOe(e,n):n}function mOe(e){if(_a.width===RI){const t=BE(e);return n=>kne(n,t)}else if(_a.width===A2){const t=ul(e);return n=>Ene(n,t)}else return t=>_a.width(e,t)}function gOe(e,t){var n=+e.limit,r=mOe(e);if(r(t)<n)return t;var i=e.ellipsis||"",a=e.dir==="rtl",o=0,s=t.length,l;if(n-=r(i),a){for(;o<s;)l=o+s>>>1,r(t.slice(l))>n?o=l+1:s=l;return i+t.slice(o)}else{for(;o<s;)l=1+(o+s>>>1),r(t.slice(0,l))<n?o=l:s=l-1;return t.slice(0,o)+i}}function yx(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function BE(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+ul(e)+"px "+yx(e,t)}function BI(e){var t=e.baseline,n=ul(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Rc(e):t==="line-bottom"?.29*n-.5*Rc(e):0)}const yOe={left:"start",center:"middle",right:"end"},Gy=new zn;function UE(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Hf,t+=r*Math.cos(i),n+=r*Math.sin(i)),Gy.x1=t,Gy.y1=n,Gy}function vOe(e,t){var n=t.dx||0,r=(t.dy||0)+BI(t),i=UE(t),a=i.x1,o=i.y1,s=t.angle||0,l;e("text-anchor",yOe[t.align]||"start"),s?(l=cd(a,o)+" "+MI(s),(n||r)&&(l+=" "+cd(n,r))):l=cd(a+n,o+r),e("transform",l)}function UI(e,t,n){var r=_a.height(t),i=t.align,a=UE(t),o=a.x1,s=a.y1,l=t.dx||0,u=(t.dy||0)+BI(t)-Math.round(.8*r),c=gx(t),f;if(ae(c)?(r+=Rc(t)*(c.length-1),f=c.reduce((d,p)=>Math.max(d,_a.width(t,p)),0)):f=_a.width(t,c),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=o,u+=s,l+f,u+r),t.angle&&!n)e.rotate(t.angle*Ic,o,s);else if(n===2)return e.rotatedPoints(t.angle*Ic,o,s);return e}function xOe(e,t,n){Jo(t,r=>{var i=r.opacity==null?1:r.opacity,a,o,s,l,u,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=BE(r),e.textAlign=r.align||"left",a=UE(r),o=a.x1,s=a.y1,r.angle&&(e.save(),e.translate(o,s),e.rotate(r.angle*Ic),o=s=0),o+=r.dx||0,s+=(r.dy||0)+BI(r),c=gx(r),bm(e,r),ae(c))for(u=Rc(r),l=0;l<c.length;++l)f=zc(r,c[l]),r.fill&&w2(e,r,i)&&e.fillText(f,o,s),r.stroke&&_m(e,r,i)&&e.strokeText(f,o,s),s+=u;else f=zc(r,c),r.fill&&w2(e,r,i)&&e.fillText(f,o,s),r.stroke&&_m(e,r,i)&&e.strokeText(f,o,s);r.angle&&e.restore()}})}function bOe(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=UE(t),s=o.x1,l=o.y1,u=UI(Gy,t,1),c=-t.angle*Ic,f=Math.cos(c),d=Math.sin(c),p=f*i-d*a+(s-f*s+d*l),m=d*i+f*a+(l-d*s-f*l);return u.contains(p,m)}function _Oe(e,t){const n=UI(Gy,e,2);return wp(t,n[0],n[1],n[2],n[3])||wp(t,n[0],n[1],n[4],n[5])||wp(t,n[4],n[5],n[6],n[7])||wp(t,n[2],n[3],n[6],n[7])}var wOe={type:"text",tag:"text",nested:!1,attr:vOe,bound:UI,draw:xOe,pick:IE(bOe),isect:_Oe},SOe=DI("trail",_Ce,DCe),Pa={arc:NCe,area:FCe,group:ZCe,image:JCe,line:eOe,path:rOe,rect:oOe,rule:fOe,shape:dOe,symbol:hOe,text:wOe,trail:SOe};function aM(e,t,n){var r=Pa[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new zn),e,n)}var m7={mark:null};function Cne(e,t,n){var r=Pa[e.marktype],i=r.bound,a=e.items,o=a&&a.length,s,l,u,c;if(r.nested)return o?u=a[0]:(m7.mark=e,u=m7),c=aM(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new zn,o)for(s=0,l=a.length;s<l;++s)t.union(aM(a[s],i,n));return e.bounds=t}const AOe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function One(e,t){return JSON.stringify(e,AOe,t)}function Pne(e){const t=typeof e=="string"?JSON.parse(e):e;return $ne(t)}function $ne(e){var t=e.marktype,n=e.items,r,i,a;if(n)for(i=0,a=n.length;i<a;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&$ne(n[i]);return t&&Cne(e),e}class Tne{constructor(t){arguments.length?this.root=Pne(t):(this.root=g7({marktype:"group",name:"root",role:"frame"}),this.root.items=[new FE(this.root)])}toJSON(t){return One(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=g7(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function g7(e,t){const n={bounds:new zn,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function sc(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function WI(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Gn(e,t,n,r){var i=e.childNodes[t],a;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(a=i||null,i=sc(e.ownerDocument,n,r),e.insertBefore(i,a)),i}function Xa(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function Nne(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function WE(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function EOe(e,t,n,r){var i=e&&e.mark,a,o;if(i&&(a=Pa[i.marktype]).tip){for(o=WE(t,n),o[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=a.tip(i.items,o)}return e}let qI=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||iE(),this._tooltip=n||kOe}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const a=new MouseEvent(t.type,t),o=sc(null,"a");for(const s in i)o.setAttribute(s,i[s]);o.dispatchEvent(a)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=EOe(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,a=t.bounds,o=a.width(),s=a.height();let l=a.x1+i[0]+r.left,u=a.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:o,height:s,left:l,top:u,right:l+o,bottom:u+s}}};function kOe(e,t,n,r){e.element().setAttribute("title",r||"")}class vx{constructor(t){this._el=null,this._bgcolor=null,this._loader=new pne(t)}initialize(t,n,r,i,a){return this._el=t,this.resize(n,r,i,a)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const a=r._call;r._ready=r._loader.ready().then(o=>{o&&a(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const COe="keydown",OOe="keypress",POe="keyup",Mne="dragenter",rw="dragleave",jne="dragover",oM="pointerdown",$Oe="pointerup",E2="pointermove",iw="pointerout",Dne="pointerover",sM="mousedown",TOe="mouseup",Fne="mousemove",k2="mouseout",Lne="mouseover",C2="click",NOe="dblclick",MOe="wheel",Ine="mousewheel",O2="touchstart",P2="touchmove",$2="touchend",jOe=[COe,OOe,POe,Mne,rw,jne,oM,$Oe,E2,iw,Dne,sM,TOe,Fne,k2,Lne,C2,NOe,MOe,Ine,O2,P2,$2],lM=E2,Vy=k2,uM=C2;class xx extends qI{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=jOe,this.pointermove=v7([E2,Fne],[Dne,Lne],[iw,k2]),this.dragover=v7([jne],[Mne],[rw]),this.pointerout=x7([iw,k2]),this.dragleave=x7([rw])}initialize(t,n,r){return this._canvas=t&&WI(t,"canvas"),[C2,sM,oM,E2,iw,rw].forEach(i=>y7(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(Ine,t)}pointerdown(t){this._down=this._active,this.fire(oM,t)}mousedown(t){this._down=this._active,this.fire(sM,t)}click(t){this._down===this._active&&(this.fire(C2,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(O2,t,!0)}touchmove(t){this.fire(P2,t,!0)}touchend(t){this.fire($2,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,a=this._handlers[t];if(n.vegaType=t,t===uM&&i&&i.href?this.handleHref(n,i,i.href):(t===lM||t===Vy)&&this.handleTooltip(n,i,t!==Vy),a)for(let o=0,s=a.length;o<s;++o)a[o].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(y7(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],a=this._handlerIndex(i,t,n);return a>=0&&i.splice(a,1),this}pickEvent(t){const n=WE(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,a){const o=this.context();return Pa[t.marktype].pick.call(this,o,t,n,r,i,a)}}const DOe=e=>e===O2||e===P2||e===$2?[O2,P2,$2]:[e];function y7(e,t){DOe(t).forEach(n=>FOe(e,n))}function FOe(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function hy(e,t,n){t.forEach(r=>e.fire(r,n))}function v7(e,t,n){return function(r){const i=this._active,a=this.pickEvent(r);a===i?hy(this,e,r):((!i||!i.exit)&&hy(this,n,r),this._active=a,hy(this,t,r),hy(this,e,r))}}function x7(e){return function(t){hy(this,e,t),this._active=null}}function LOe(){return typeof window<"u"&&window.devicePixelRatio||1}function IOe(e,t,n,r,i,a){const o=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,s=e.getContext("2d"),l=o?LOe():i;e.width=t*l,e.height=n*l;for(const u in a)s[u]=a[u];return o&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=l,s.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class T2 extends vx{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new zn,this._tempb=new zn}initialize(t,n,r,i,a,o){return this._options=o||{},this._canvas=this._options.externalContext?null:Oc(1,1,this._options.type),t&&this._canvas&&(Xa(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,a)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)IOe(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const a=this._options.externalContext;a||ee("CanvasRenderer is missing a valid canvas or context"),a.scale(this._scale,this._scale),a.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,a=this._width,o=this._height,s=this._dirty,l=ROe(i,a,o);r.save();const u=this._redraw||s.empty()?(this._redraw=!1,l.expand(1)):zOe(r,l.intersect(s),i);return this.clear(-i[0],-i[1],a,o),this.draw(r,t,u,n),r.restore(),s.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const a=Pa[n.marktype];n.clip&&LCe(t,n),a.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const a=this._options,o=this.context();a.type!=="pdf"&&!a.externalContext&&o.clearRect(t,n,r,i),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(t,n,r,i))}}const ROe=(e,t,n)=>new zn().set(0,0,t,n).translate(-e[0],-e[1]);function zOe(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class Rne extends qI{constructor(t,n){super(t,n);const r=this;r._hrefHandler=TP(r,(i,a)=>{a&&a.href&&r.handleHref(i,a,a.href)}),r._tooltipHandler=TP(r,(i,a)=>{r.handleTooltip(i,a,i.type!==Vy)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(uM,this._hrefHandler),i.removeEventListener(lM,this._tooltipHandler),i.removeEventListener(Vy,this._tooltipHandler)),this._svg=i=t&&WI(t,"svg"),i&&(i.addEventListener(uM,this._hrefHandler),i.addEventListener(lM,this._tooltipHandler),i.addEventListener(Vy,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const o={type:t,handler:n,listener:TP(this,n)};(i[r]||(i[r]=[])).push(o),this._svg&&this._svg.addEventListener(r,o.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],a=this._handlerIndex(i,t,n);return a>=0&&(this._svg&&this._svg.removeEventListener(r,i[a].listener),i.splice(a,1)),this}}const TP=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},zne="aria-hidden",HI="aria-label",GI="role",VI="aria-roledescription",Bne="graphics-object",XI="graphics-symbol",Une=(e,t,n)=>({[GI]:e,[VI]:t,[HI]:n||void 0}),BOe=Ko(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),b7={axis:{desc:"axis",caption:qOe},legend:{desc:"legend",caption:HOe},"title-text":{desc:"title",caption:e=>`Title text '${w7(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${w7(e)}'`}},_7={ariaRole:GI,ariaRoleDescription:VI,description:HI};function Wne(e,t){const n=t.aria===!1;if(e(zne,n||void 0),n||t.description==null)for(const r in _7)e(_7[r],void 0);else{const r=t.mark.marktype;e(HI,t.description),e(GI,t.ariaRole||(r==="group"?Bne:XI)),e(VI,t.ariaRoleDescription||`${r} mark`)}}function qne(e){return e.aria===!1?{[zne]:!0}:BOe[e.role]?null:b7[e.role]?WOe(e,b7[e.role]):UOe(e)}function UOe(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return Une(n?Bne:XI,`${t} mark container`,e.description)}function WOe(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return Une(t.role||XI,t.desc,n.description||r(n))}catch{return null}}function w7(e){return Ee(e.text).join(" ")}function qOe(e){const t=e.datum,n=e.orient,r=t.title?Hne(e):null,i=e.context,a=i.scales[t.scale].value,o=i.dataflow.locale(),s=a.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${vm(s)?"discrete":s} scale with ${ine(o,a,e)}`}function HOe(e){const t=e.datum,n=t.title?Hne(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,a=Object.keys(i),o=e.context,s=o.scales[i[a[0]]].value,l=o.dataflow.locale();return VOe(r)+(n?` titled '${n}'`:"")+` for ${GOe(a)} with ${ine(l,s,e)}`}function Hne(e){try{return Ee(pt(e.items).items[0].text).join(" ")}catch{return null}}function GOe(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+pt(e)}function VOe(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const Gne=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),XOe=e=>Gne(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function ZI(){let e="",t="",n="";const r=[],i=()=>t=n="",a=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},o=(l,u)=>(u!=null&&(t+=` ${l}="${XOe(u)}"`),s),s={open(l){a(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];for(const d of c)for(const p in d)o(p,d[p]);return s},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),s},attr:o,text:l=>(n+=Gne(l),s),toString:()=>e};return s}const Vne=e=>Xne(ZI(),e)+"";function Xne(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):Xne(e,r)}return e.close()}const N2={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},M2={blend:"mix-blend-mode"},Zne={fill:"none","stroke-miterlimit":10},j0=0,S7="http://www.w3.org/2000/xmlns/",qn=qv.xmlns;class YI extends vx{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,a){return this._defs={},this._clearDefs(),t&&(this._svg=Gn(t,0,"svg",qn),this._svg.setAttributeNS(S7,"xmlns",qn),this._svg.setAttributeNS(S7,"xmlns:xlink",qv["xmlns:xlink"]),this._svg.setAttribute("version",qv.version),this._svg.setAttribute("class","marks"),Xa(t,1),this._root=Gn(this._svg,j0,"g",qn),lc(this._root,Zne),Xa(this._svg,j0+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,a)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(lc(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=Gn(t,j0,"rect",qn),lc(r,{width:this._width,height:this._height,fill:n}));const i=Vne(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),Xa(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,a,o,s,l,u;for(s=0,l=t.length;s<l;++s)if(r=t[s],i=r.mark,i.marktype!==a&&(a=i.marktype,o=Pa[a]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,A7(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){o.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(o,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=o.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,A7(r,n)):this._update(o,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const a=this._svg,o=n.marktype,s=Pa[o],l=n.interactive===!1?"none":null,u=s.tag==="g",c=E7(n,t,r,"g",a);if(o!=="group"&&i!=null&&!i.includes(o))return Xa(c,0),n._svg;c.setAttribute("class",Nne(n));const f=qne(n);for(const g in f)si(c,g,f[g]);u||si(c,"pointer-events",l),si(c,"clip-path",n.clip?CI(this,n,n.group):null);let d=null,p=0;const m=g=>{const v=this.isDirty(g),x=E7(g,c,d,s.tag,a);v&&(this._update(s,x,g),u&&KOe(this,x,g,i)),d=x,++p};return s.nested?n.items.length&&m(n.items[0]):Jo(n,m),Xa(c,p),c}_update(t,n,r){Yl=n,Br=n.__values__,Wne(Xy,r),t.attr(Xy,r,this);const i=JOe[t.type];i&&i.call(this,t,n,r),Yl&&this.style(Yl,r)}style(t,n){if(n!=null){for(const r in N2){let i=r==="font"?yx(n):n[r];if(i===Br[r])continue;const a=N2[r];i==null?t.removeAttribute(a):(AI(i)&&(i=one(i,this._defs.gradient,Yne())),t.setAttribute(a,i+"")),Br[r]=i}for(const r in M2)aw(t,M2[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const a in n.gradient)r||(n.el=r=Gn(t,j0+1,"defs",qn)),i=ZOe(r,n.gradient[a],i);for(const a in n.clipping)r||(n.el=r=Gn(t,j0+1,"defs",qn)),i=YOe(r,n.clipping[a],i);r&&(i===0?(t.removeChild(r),n.el=null):Xa(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function A7(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function ZOe(e,t,n){let r,i,a;if(t.gradient==="radial"){let o=Gn(e,n++,"pattern",qn);lc(o,{id:_2+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o=Gn(o,0,"rect",qn),lc(o,{width:1,height:1,fill:`url(${Yne()}#${t.id})`}),e=Gn(e,n++,"radialGradient",qn),lc(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=Gn(e,n++,"linearGradient",qn),lc(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)a=Gn(e,r,"stop",qn),a.setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);return Xa(e,r),n}function YOe(e,t,n){let r;return e=Gn(e,n,"clipPath",qn),e.setAttribute("id",t.id),t.path?(r=Gn(e,0,"path",qn),r.setAttribute("d",t.path)):(r=Gn(e,0,"rect",qn),lc(r,{x:0,y:0,width:t.width,height:t.height})),Xa(e,1),n+1}function KOe(e,t,n,r){t=t.lastChild.previousSibling;let i,a=0;Jo(n,o=>{i=e.mark(t,o,i,r),++a}),Xa(t,1+a)}function E7(e,t,n,r,i){let a=e._svg,o;if(!a&&(o=t.ownerDocument,a=sc(o,r,qn),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},r==="g"))){const s=sc(o,"path",qn);a.appendChild(s),s.__data__=e;const l=sc(o,"g",qn);a.appendChild(l),l.__data__=e;const u=sc(o,"path",qn);a.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(a.ownerSVGElement!==i||QOe(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}function QOe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Yl=null,Br=null;const JOe={group(e,t,n){const r=Yl=t.childNodes[2];Br=r.__values__,e.foreground(Xy,n,this),Br=t.__values__,Yl=t.childNodes[1],e.content(Xy,n,this);const i=Yl=t.childNodes[0];e.background(Xy,n,this);const a=n.mark.interactive===!1?"none":null;if(a!==Br.events&&(si(r,"pointer-events",a),si(i,"pointer-events",a),Br.events=a),n.strokeForeground&&n.stroke){const o=n.fill;si(r,"display",null),this.style(i,n),si(i,"stroke",null),o&&(n.fill=null),Br=r.__values__,this.style(r,n),o&&(n.fill=o),Yl=null}else si(r,"display","none")},image(e,t,n){n.smooth===!1?(aw(t,"image-rendering","optimizeSpeed"),aw(t,"image-rendering","pixelated")):aw(t,"image-rendering",null)},text(e,t,n){const r=gx(n);let i,a,o,s;ae(r)?(a=r.map(l=>zc(n,l)),i=a.join(`
`),i!==Br.text&&(Xa(t,0),o=t.ownerDocument,s=Rc(n),a.forEach((l,u)=>{const c=sc(o,"tspan",qn);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",s)),t.appendChild(c)}),Br.text=i)):(a=zc(n,r),a!==Br.text&&(t.textContent=a,Br.text=a)),si(t,"font-family",yx(n)),si(t,"font-size",ul(n)+"px"),si(t,"font-style",n.fontStyle),si(t,"font-variant",n.fontVariant),si(t,"font-weight",n.fontWeight)}};function Xy(e,t,n){t!==Br[e]&&(n?ePe(Yl,e,t,n):si(Yl,e,t),Br[e]=t)}function aw(e,t,n){n!==Br[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Br[t]=n)}function lc(e,t){for(const n in t)si(e,n,t[n])}function si(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function ePe(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function Yne(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class Kne extends vx{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=ZI();n.open("svg",Je({},qv,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",Zne,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Pa[n.marktype],i=r.tag,a=[Wne,r.attr];t.open("g",{class:Nne(n),"clip-path":n.clip?CI(this,n,n.group):null},qne(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const o=s=>{const l=this.href(s);if(l&&t.open("a",l),t.open(i,this.attr(n,s,a,i!=="g"?i:null)),i==="text"){const u=gx(s);if(ae(u)){const c={x:0,dy:Rc(s)};for(let f=0;f<u.length;++f)t.open("tspan",f?c:null).text(zc(s,u[f])).close()}else t.text(zc(s,u))}else if(i==="g"){const u=s.strokeForeground,c=s.fill,f=s.stroke;u&&f&&(s.stroke=null),t.open("path",this.attr(n,s,r.background,"bgrect")).close(),t.open("g",this.attr(n,s,r.content)),Jo(s,d=>this.mark(t,d)),t.close(),u&&f?(c&&(s.fill=null),s.stroke=f,t.open("path",this.attr(n,s,r.foreground,"bgrect")).close(),c&&(s.fill=c)):t.open("path",this.attr(n,s,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&o(n.items[0]):Jo(n,o),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const a={},o=(s,l,u,c)=>{a[c||s]=l};return Array.isArray(r)?r.forEach(s=>s(o,n,this)):r(o,n,this),i&&tPe(a,n,t,i,this._defs),a}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const a in n){const o=n[a],s=o.stops;o.gradient==="radial"?(t.open("pattern",{id:_2+a,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+a+")"}).close(),t.close(),t.open("radialGradient",{id:a,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):t.open("linearGradient",{id:a,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let l=0;l<s.length;++l)t.open("stop",{offset:s[l].offset,"stop-color":s[l].color}).close();t.close()}for(const a in r){const o=r[a];t.open("clipPath",{id:a}),o.path?t.open("path",{d:o.path}).close():t.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),t.close()}t.close()}}}function tPe(e,t,n,r,i){let a;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(a=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=yx(t),e["font-size"]=ul(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in N2){let s=t[o];const l=N2[o];s==="transparent"&&(l==="fill"||l==="stroke")||s!=null&&(AI(s)&&(s=one(s,i.gradient,"")),e[l]=s)}for(const o in M2){const s=t[o];s!=null&&(a=a||[],a.push(`${M2[o]}: ${s};`))}return a&&(e.style=a.join(" ")),e}const No={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function nPe(e){No.svgMarkTypes=e.svgMarkTypes??["text"],No.svgOnTop=e.svgOnTop??!0,No.debug=e.debug??!1}class cM extends vx{constructor(t){super(t),this._svgRenderer=new YI(t),this._canvasRenderer=new T2(t)}initialize(t,n,r,i,a){this._root_el=Gn(t,0,"div");const o=Gn(this._root_el,0,"div"),s=Gn(this._root_el,1,"div");return this._root_el.style.position="relative",No.debug||(o.style.height="100%",s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.height="100%",s.style.width="100%"),this._svgEl=No.svgOnTop?s:o,this._canvasEl=No.svgOnTop?o:s,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,a),this._svgRenderer.initialize(this._svgEl,n,r,i,a),super.initialize(t,n,r,i,a)}dirty(t){return No.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(a=>!No.svgMarkTypes.includes(a));this._svgRenderer.render(t,No.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return No.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class Qne extends xx{constructor(t,n){super(t,n)}initialize(t,n,r){const i=Gn(Gn(t,0,"div"),No.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const Jne="canvas",ere="hybrid",tre="png",nre="svg",rre="none",uc={Canvas:Jne,PNG:tre,SVG:nre,Hybrid:ere,None:rre},$d={};$d[Jne]=$d[tre]={renderer:T2,headless:T2,handler:xx};$d[nre]={renderer:YI,headless:Kne,handler:Rne};$d[ere]={renderer:cM,headless:cM,handler:Qne};$d[rre]={};function qE(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?($d[e]=t,this):$d[e]}function ire(e,t,n){const r=[],i=new zn().union(t),a=e.marktype;return a?are(e,i,n,r):a==="group"?ore(e,i,n,r):ee("Intersect scene must be mark node or group item.")}function are(e,t,n,r){if(rPe(e,t,n)){const i=e.items,a=e.marktype,o=i.length;let s=0;if(a==="group")for(;s<o;++s)ore(i[s],t,n,r);else for(const l=Pa[a].isect;s<o;++s){const u=i[s];sre(u,t,l)&&r.push(u)}}return r}function rPe(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function ore(e,t,n,r){n&&n(e.mark)&&sre(e,t,Pa.group.isect)&&r.push(e);const i=e.items,a=i&&i.length;if(a){const o=e.x||0,s=e.y||0;t.translate(-o,-s);for(let l=0;l<a;++l)are(i[l],t,n,r);t.translate(o,s)}return r}function sre(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const NP=new zn;function lre(e){const t=e.clip;if(et(t))t(px(NP.clear()));else if(t)NP.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(NP)}const iPe=1e-9;function KI(e,t,n){return e===t?!0:n==="path"?ure(e,t):e instanceof Date&&t instanceof Date?+e==+t:St(e)&&St(t)?Math.abs(e-t)<=iPe:!e||!t||!Se(e)&&!Se(t)?e==t:aPe(e,t)}function ure(e,t){return KI(xm(e),xm(t))}function aPe(e,t){var n=Object.keys(e),r=Object.keys(t),i,a;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),a=n.length-1;a>=0;a--)if(n[a]!=r[a])return!1;for(a=n.length-1;a>=0;a--)if(i=n[a],!KI(e[i],t[i],i))return!1;return typeof e==typeof t}function oPe(){hne(),$ke()}const wm="top",zo="left",Bo="right",Bc="bottom",sPe="top-left",lPe="top-right",uPe="bottom-left",cPe="bottom-right",QI="start",fM="middle",ui="end",fPe="x",dPe="y",HE="group",JI="axis",e4="title",hPe="frame",pPe="scope",t4="legend",cre="row-header",fre="row-footer",dre="row-title",hre="column-header",pre="column-footer",mre="column-title",mPe="padding",gPe="symbol",gre="fit",yre="fit-x",vre="fit-y",yPe="pad",n4="none",Gb="all",dM="each",r4="flush",cc="column",fc="row";function xre(e){J.call(this,null,e)}xe(xre,J,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,a=Pa[i],o=a.bound;let s=r.bounds,l;if(a.nested)r.items.length&&n.dirty(r.items[0]),s=Vb(r,o),r.items.forEach(u=>{u.bounds.clear().union(s)});else if(i===HE||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),s.clear(),r.items.forEach(u=>s.union(Vb(u,o))),r.role){case JI:case t4:case e4:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{s.union(Vb(u,o))}),t.visit(t.MOD,u=>{l=l||s.alignsWith(u.bounds),n.dirty(u),s.union(Vb(u,o))}),l&&(s.clear(),r.items.forEach(u=>s.union(u.bounds)));return lre(r),t.modifies("bounds")}});function Vb(e,t,n){return t(e.bounds.clear(),e,n)}const k7=":vega_identifier:";function i4(e){J.call(this,0,e)}i4.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};xe(i4,J,{transform(e,t){const n=vPe(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,a=>a[r]=a[r]||++i),n.set(this.value=i),t}});function vPe(e){return e._signals[k7]||(e._signals[k7]=e.add(0))}function bre(e){J.call(this,null,e)}xe(bre,J,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,xPe(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===HE?FE:DE;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function xPe(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function _re(e){J.call(this,null,e)}const C7={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!wre(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},wre=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),O7=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,a;n<r;i=a,++n)if(wre(i,a=e[n].bounds,t))return!0},bPe=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},_Pe=(e,t,n)=>{var r=e.range(),i=new zn;return t===wm||t===Bc?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),a=>i.encloses(a.bounds)},P7=e=>(e.forEach(t=>t.opacity=1),e),$7=(e,t)=>e.reflow(t.modified()).modifies("opacity");xe(_re,J,{transform(e,t){const n=C7[e.method]||C7.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,a,o;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(P7(i),t=$7(t,e)),t;if(i=i.filter(bPe),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),a=P7(i),t=$7(t,e),a.length>=3&&O7(a,r)){do a=n(a,r);while(a.length>=3&&O7(a,r));a.length<3&&!pt(i).opacity&&(a.length>1&&(pt(a).opacity=0),pt(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(o=_Pe(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{o(l)||(l.opacity=0)}));const s=a[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&s.union(l.bounds)}),t}});function Sre(e){J.call(this,null,e)}xe(Sre,J,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Rr=new zn;function Sp(e,t,n){return e[t]===n?0:(e[t]=n,1)}function wPe(e){var t=e.items[0].orient;return t===zo||t===Bo}function SPe(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function APe(e,t,n,r){var i=t.items[0],a=i.datum,o=i.translate!=null?i.translate:.5,s=i.orient,l=SPe(a),u=i.range,c=i.offset,f=i.position,d=i.minExtent,p=i.maxExtent,m=a.title&&i.items[l[2]].items[0],g=i.titlePadding,v=i.bounds,x=m&&zI(m),b=0,S=0,k,A;switch(Rr.clear().union(v),v.clear(),(k=l[0])>-1&&v.union(i.items[k].bounds),(k=l[1])>-1&&v.union(i.items[k].bounds),s){case wm:b=f||0,S=-c,A=Math.max(d,Math.min(p,-v.y1)),v.add(0,-A).add(u,0),m&&Xb(e,m,A,g,x,0,-1,v);break;case zo:b=-c,S=f||0,A=Math.max(d,Math.min(p,-v.x1)),v.add(-A,0).add(0,u),m&&Xb(e,m,A,g,x,1,-1,v);break;case Bo:b=n+c,S=f||0,A=Math.max(d,Math.min(p,v.x2)),v.add(0,0).add(A,u),m&&Xb(e,m,A,g,x,1,1,v);break;case Bc:b=f||0,S=r+c,A=Math.max(d,Math.min(p,v.y2)),v.add(0,0).add(u,A),m&&Xb(e,m,A,g,0,0,1,v);break;default:b=i.x,S=i.y}return Su(v.translate(b,S),i),Sp(i,"x",b+o)|Sp(i,"y",S+o)&&(i.bounds=Rr,e.dirty(i),i.bounds=v,e.dirty(i)),i.mark.bounds.clear().union(v)}function Xb(e,t,n,r,i,a,o,s){const l=t.bounds;if(t.auto){const u=o*(n+i+r);let c=0,f=0;e.dirty(t),a?c=(t.x||0)-(t.x=u):f=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-f)),e.dirty(t)}s.union(l)}const T7=(e,t)=>Math.floor(Math.min(e,t)),N7=(e,t)=>Math.ceil(Math.max(e,t));function EPe(e){var t=e.items,n=t.length,r=0,i,a;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],a=i.items,i.marktype===HE)switch(i.role){case JI:case t4:case e4:break;case cre:o.rowheaders.push(...a);break;case fre:o.rowfooters.push(...a);break;case hre:o.colheaders.push(...a);break;case pre:o.colfooters.push(...a);break;case dre:o.rowtitle=a[0];break;case mre:o.coltitle=a[0];break;default:o.marks.push(...a)}return o}function kPe(e){return new zn().set(0,0,e.width||0,e.height||0)}function CPe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function un(e,t,n){const r=Se(e)?e[t]:e;return r??(n!==void 0?n:0)}function M7(e){return e<0?Math.ceil(-e):0}function Are(e,t,n){var r=!n.nodirty,i=n.bounds===r4?kPe:CPe,a=Rr.set(0,0,0,0),o=un(n.align,cc),s=un(n.align,fc),l=un(n.padding,cc),u=un(n.padding,fc),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,p=Array(d),m=Array(c),g=0,v=Array(d),x=Array(f),b=0,S=Array(d),k=Array(d),A=Array(d),E,C,P,T,j,D,F,W,R,N,z;for(C=0;C<c;++C)m[C]=0;for(C=0;C<f;++C)x[C]=0;for(C=0;C<d;++C)D=t[C],j=A[C]=i(D),D.x=D.x||0,S[C]=0,D.y=D.y||0,k[C]=0,P=C%c,T=~~(C/c),g=Math.max(g,F=Math.ceil(j.x2)),b=Math.max(b,W=Math.ceil(j.y2)),m[P]=Math.max(m[P],F),x[T]=Math.max(x[T],W),p[C]=l+M7(j.x1),v[C]=u+M7(j.y1),r&&e.dirty(t[C]);for(C=0;C<d;++C)C%c===0&&(p[C]=0),C<c&&(v[C]=0);if(o===dM)for(P=1;P<c;++P){for(z=0,C=P;C<d;C+=c)z<p[C]&&(z=p[C]);for(C=P;C<d;C+=c)p[C]=z+m[P-1]}else if(o===Gb){for(z=0,C=0;C<d;++C)C%c&&z<p[C]&&(z=p[C]);for(C=0;C<d;++C)C%c&&(p[C]=z+g)}else for(o=!1,P=1;P<c;++P)for(C=P;C<d;C+=c)p[C]+=m[P-1];if(s===dM)for(T=1;T<f;++T){for(z=0,C=T*c,E=C+c;C<E;++C)z<v[C]&&(z=v[C]);for(C=T*c;C<E;++C)v[C]=z+x[T-1]}else if(s===Gb){for(z=0,C=c;C<d;++C)z<v[C]&&(z=v[C]);for(C=c;C<d;++C)v[C]=z+b}else for(s=!1,T=1;T<f;++T)for(C=T*c,E=C+c;C<E;++C)v[C]+=x[T-1];for(R=0,C=0;C<d;++C)R=p[C]+(C%c?R:0),S[C]+=R-t[C].x;for(P=0;P<c;++P)for(N=0,C=P;C<d;C+=c)N+=v[C],k[C]+=N-t[C].y;if(o&&un(n.center,cc)&&f>1)for(C=0;C<d;++C)j=o===Gb?g:m[C%c],R=j-A[C].x2-t[C].x-S[C],R>0&&(S[C]+=R/2);if(s&&un(n.center,fc)&&c!==1)for(C=0;C<d;++C)j=s===Gb?b:x[~~(C/c)],N=j-A[C].y2-t[C].y-k[C],N>0&&(k[C]+=N/2);for(C=0;C<d;++C)a.union(A[C].translate(S[C],k[C]));switch(R=un(n.anchor,fPe),N=un(n.anchor,dPe),un(n.anchor,cc)){case ui:R-=a.width();break;case fM:R-=a.width()/2}switch(un(n.anchor,fc)){case ui:N-=a.height();break;case fM:N-=a.height()/2}for(R=Math.round(R),N=Math.round(N),a.clear(),C=0;C<d;++C)t[C].mark.bounds.clear();for(C=0;C<d;++C)D=t[C],D.x+=S[C]+=R,D.y+=k[C]+=N,a.union(D.mark.bounds.union(D.bounds.translate(S[C],k[C]))),r&&e.dirty(D);return a}function OPe(e,t,n){var r=EPe(t),i=r.marks,a=n.bounds===r4?PPe:$Pe,o=n.offset,s=n.columns||i.length,l=s<=0?1:Math.ceil(i.length/s),u=l*s,c,f,d,p,m,g,v;const x=Are(e,i,n);x.empty()&&x.set(0,0,0,0),r.rowheaders&&(g=un(n.headerBand,fc,null),c=Zb(e,r.rowheaders,i,s,l,-un(o,"rowHeader"),T7,0,a,"x1",0,s,1,g)),r.colheaders&&(g=un(n.headerBand,cc,null),f=Zb(e,r.colheaders,i,s,s,-un(o,"columnHeader"),T7,1,a,"y1",0,1,s,g)),r.rowfooters&&(g=un(n.footerBand,fc,null),d=Zb(e,r.rowfooters,i,s,l,un(o,"rowFooter"),N7,0,a,"x2",s-1,s,1,g)),r.colfooters&&(g=un(n.footerBand,cc,null),p=Zb(e,r.colfooters,i,s,s,un(o,"columnFooter"),N7,1,a,"y2",u-s,1,s,g)),r.rowtitle&&(m=un(n.titleAnchor,fc),v=un(o,"rowTitle"),v=m===ui?d+v:c-v,g=un(n.titleBand,fc,.5),j7(e,r.rowtitle,v,0,x,g)),r.coltitle&&(m=un(n.titleAnchor,cc),v=un(o,"columnTitle"),v=m===ui?p+v:f-v,g=un(n.titleBand,cc,.5),j7(e,r.coltitle,v,1,x,g))}function PPe(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function $Pe(e,t){return e.bounds[t]}function Zb(e,t,n,r,i,a,o,s,l,u,c,f,d,p){var m=n.length,g=0,v=0,x,b,S,k,A,E,C,P,T;if(!m)return g;for(x=c;x<m;x+=f)n[x]&&(g=o(g,l(n[x],u)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=a,b=0,k=t.length;b<k;++b)e.dirty(t[b]),t[b].mark.bounds.clear();for(x=c,b=0,k=t.length;b<k;++b,x+=f){for(E=t[b],A=E.mark.bounds,S=x;S>=0&&(C=n[S])==null;S-=d);s?(P=p==null?C.x:Math.round(C.bounds.x1+p*C.bounds.width()),T=g):(P=g,T=p==null?C.y:Math.round(C.bounds.y1+p*C.bounds.height())),A.union(E.bounds.translate(P-(E.x||0),T-(E.y||0))),E.x=P,E.y=T,e.dirty(E),v=o(v,A[u])}return v}function j7(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,s=n;r?o=Math.round(i.x1+a*i.width()):s=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=s,e.dirty(t)}}function TPe(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function NPe(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function MPe(e,t,n,r,i,a,o){const s=TPe(n,t),l=NPe(e,s("offset",0)),u=s("anchor",QI),c=u===ui?1:u===fM?.5:0,f={align:dM,bounds:s("bounds",r4),columns:s("direction")==="vertical"?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case zo:f.anchor={x:Math.floor(r.x1)-l,column:ui,y:c*(o||r.height()+2*r.y1),row:u};break;case Bo:f.anchor={x:Math.ceil(r.x2)+l,y:c*(o||r.height()+2*r.y1),row:u};break;case wm:f.anchor={y:Math.floor(i.y1)-l,row:ui,x:c*(a||i.width()+2*i.x1),column:u};break;case Bc:f.anchor={y:Math.ceil(i.y2)+l,x:c*(a||i.width()+2*i.x1),column:u};break;case sPe:f.anchor={x:l,y:l};break;case lPe:f.anchor={x:a-l,y:l,column:ui};break;case uPe:f.anchor={x:l,y:o-l,row:ui};break;case cPe:f.anchor={x:a-l,y:o-l,column:ui,row:ui};break}return f}function jPe(e,t){var n=t.items[0],r=n.datum,i=n.orient,a=n.bounds,o=n.x,s=n.y,l,u;return n._bounds?n._bounds.clear().union(a):n._bounds=a.clone(),a.clear(),FPe(e,n,n.items[0].items[0]),a=DPe(n,a),l=2*n.padding,u=2*n.padding,a.empty()||(l=Math.ceil(a.width()+l),u=Math.ceil(a.height()+u)),r.type===gPe&&LPe(n.items[0].items[0].items[0].items),i!==n4&&(n.x=o=0,n.y=s=0),n.width=l,n.height=u,Su(a.set(o,s,o+l,s+u),n),n.mark.bounds.clear().union(a),n}function DPe(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function FPe(e,t,n){var r=t.padding,i=r-n.x,a=r-n.y;if(!t.datum.title)(i||a)&&D0(e,n,i,a);else{var o=t.items[1].items[0],s=o.anchor,l=t.titlePadding||0,u=r-o.x,c=r-o.y;switch(o.orient){case zo:i+=Math.ceil(o.bounds.width())+l;break;case Bo:case Bc:break;default:a+=o.bounds.height()+l}switch((i||a)&&D0(e,n,i,a),o.orient){case zo:c+=Gh(t,n,o,s,1,1);break;case Bo:u+=Gh(t,n,o,ui,0,0)+l,c+=Gh(t,n,o,s,1,1);break;case Bc:u+=Gh(t,n,o,s,0,0),c+=Gh(t,n,o,ui,-1,0,1)+l;break;default:u+=Gh(t,n,o,s,0,0)}(u||c)&&D0(e,o,u,c),(u=Math.round(o.bounds.x1-r))<0&&(D0(e,n,-u,0),D0(e,o,-u,0))}}function Gh(e,t,n,r,i,a,o){const s=e.datum.type!=="symbol",l=n.datum.vgrad,u=s&&(a||!l)&&!o?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,f=l&&a?c:0,d=l&&a?0:c,p=i<=0?0:zI(n);return Math.round(r===QI?f:r===ui?d-p:.5*(c-p))}function D0(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function LPe(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function IPe(e,t,n,r,i){var a=t.items[0],o=a.frame,s=a.orient,l=a.anchor,u=a.offset,c=a.padding,f=a.items[0].items[0],d=a.items[1]&&a.items[1].items[0],p=s===zo||s===Bo?r:n,m=0,g=0,v=0,x=0,b=0,S;if(o!==HE?s===zo?(m=i.y2,p=i.y1):s===Bo?(m=i.y1,p=i.y2):(m=i.x1,p=i.x2):s===zo&&(m=r,p=0),S=l===QI?m:l===ui?p:(m+p)/2,d&&d.text){switch(s){case wm:case Bc:b=f.bounds.height()+c;break;case zo:x=f.bounds.width()+c;break;case Bo:x=-f.bounds.width()-c;break}Rr.clear().union(d.bounds),Rr.translate(x-(d.x||0),b-(d.y||0)),Sp(d,"x",x)|Sp(d,"y",b)&&(e.dirty(d),d.bounds.clear().union(Rr),d.mark.bounds.clear().union(Rr),e.dirty(d)),Rr.clear().union(d.bounds)}else Rr.clear();switch(Rr.union(f.bounds),s){case wm:g=S,v=i.y1-Rr.height()-u;break;case zo:g=i.x1-Rr.width()-u,v=S;break;case Bo:g=i.x2+Rr.width()+u,v=S;break;case Bc:g=S,v=i.y2+u;break;default:g=a.x,v=a.y}return Sp(a,"x",g)|Sp(a,"y",v)&&(Rr.translate(g,v),e.dirty(a),a.bounds.clear().union(Rr),t.bounds.clear().union(Rr),e.dirty(a)),a.bounds}function Ere(e){J.call(this,null,e)}xe(Ere,J,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&OPe(n,r,e.layout),zPe(n,r,e)}),RPe(e.mark.group)?t.reflow():t}});function RPe(e){return e&&e.mark.role!=="legend-entry"}function zPe(e,t,n){var r=t.items,i=Math.max(0,t.width||0),a=Math.max(0,t.height||0),o=new zn().set(0,0,i,a),s=o.clone(),l=o.clone(),u=[],c,f,d,p,m,g;for(m=0,g=r.length;m<g;++m)switch(f=r[m],f.role){case JI:p=wPe(f)?s:l,p.union(APe(e,f,i,a));break;case e4:c=f;break;case t4:u.push(jPe(e,f));break;case hPe:case pPe:case cre:case fre:case dre:case hre:case pre:case mre:s.union(f.bounds),l.union(f.bounds);break;default:o.union(f.bounds)}if(u.length){const v={};u.forEach(x=>{d=x.orient||Bo,d!==n4&&(v[d]||(v[d]=[])).push(x)});for(const x in v){const b=v[x];Are(e,b,MPe(b,x,n.legends,s,l,i,a))}u.forEach(x=>{const b=x.bounds;if(b.equals(x._bounds)||(x.bounds=x._bounds,e.dirty(x),x.bounds=b,e.dirty(x)),n.autosize&&(n.autosize.type===gre||n.autosize.type===yre||n.autosize.type===vre))switch(x.orient){case zo:case Bo:o.add(b.x1,0).add(b.x2,0);break;case wm:case Bc:o.add(0,b.y1).add(0,b.y2)}else o.union(b)})}o.union(s).union(l),c&&o.union(IPe(e,c,i,a,o)),t.clip&&o.set(0,0,t.width||0,t.height||0),BPe(e,t,o,n)}function BPe(e,t,n,r){const i=r.autosize||{},a=i.type;if(e._autosize<1||!a)return;let o=e._width,s=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),p=Math.max(0,Math.ceil(n.y2-c));if(i.contains===mPe){const m=e.padding();o-=m.left+m.right,s-=m.top+m.bottom}a===n4?(u=0,f=0,l=o,c=s):a===gre?(l=Math.max(0,o-u-d),c=Math.max(0,s-f-p)):a===yre?(l=Math.max(0,o-u-d),s=c+f+p):a===vre?(o=l+u+d,c=Math.max(0,s-f-p)):a===yPe&&(o=l+u+d,s=c+f+p),e._resizeView(o,s,l,c,[u,f],i.resize)}const UPe=Object.freeze(Object.defineProperty({__proto__:null,bound:xre,identifier:i4,mark:bre,overlap:_re,render:Sre,viewlayout:Ere},Symbol.toStringTag,{value:"Module"}));function kre(e){J.call(this,null,e)}xe(kre,J,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.scale,o=e.count==null?e.values?e.values.length:10:e.count,s=wI(a,o,e.minstep),l=e.format||Jte(n,a,s,e.formatSpecifier,e.formatType,!!e.values),u=e.values?Qte(a,e.values,s):SI(a,s);return i&&(r.rem=i),i=u.map((c,f)=>Pt({index:f/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(Pt({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function Cre(e){J.call(this,null,e)}function WPe(){return Pt({})}function qPe(e){const t=_g().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}xe(Cre,J,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||WPe,a=e.key||Ie,o=this.value;return ae(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(a))&&ee("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=qPe(a)),t.visit(t.ADD,s=>{const l=a(s);let u=o.get(l);u?u.exit?(o.empty--,r.add.push(u)):r.mod.push(u):(u=i(s),o.set(l,u),r.add.push(u)),u.datum=s,u.exit=!1}),t.visit(t.MOD,s=>{const l=a(s),u=o.get(l);u&&(u.datum=s,r.mod.push(u))}),t.visit(t.REM,s=>{const l=a(s),u=o.get(l);s===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}});function Ore(e){J.call(this,null,e)}xe(Ore,J,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,a=t.encode;if(ae(a))if(n.changed()||a.every(f=>i[f]))a=a[0],n.encode=null;else return t.StopPropagation;var o=a==="enter",s=i.update||Uu,l=i.enter||Uu,u=i.exit||Uu,c=(a&&!o?i[a]:s)||Uu;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),s(f,e)}),n.modifies(l.output),n.modifies(s.output),c!==Uu&&c!==s&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==Uu&&(t.visit(t.REM,f=>{u(f,e)}),n.modifies(u.output)),o||c!==Uu){const f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,d=>{const p=l(d,e)||r;(c(d,e)||p)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function Pre(e){J.call(this,[],e)}xe(Pre,J,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.type||K_,o=e.scale,s=+e.limit,l=wI(o,e.count==null?5:e.count,e.minstep),u=!!e.values||a===K_,c=e.format||rne(n,o,l,a,e.formatSpecifier,e.formatType,u),f=e.values||nne(o,l),d,p,m,g,v;return i&&(r.rem=i),a===K_?(s&&f.length>s?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,s-1),v=!0):i=f,et(m=e.size)?(!e.values&&o(i[0])===0&&(i=i.slice(1)),g=i.reduce((x,b)=>Math.max(x,m(b,e)),0)):m=ti(g=m||8),i=i.map((x,b)=>Pt({index:b,label:c(x,b,i),value:x,offset:g,size:m(x,e)})),v&&(v=f[i.length],i.push(Pt({index:i.length,label:`${f.length-i.length} entries`,value:v,offset:g,size:m(v,e)})))):a===yke?(d=o.domain(),p=Zte(o,d[0],pt(d)),f.length<3&&!e.values&&d[0]!==pt(d)&&(f=[d[0],pt(d)]),i=f.map((x,b)=>Pt({index:b,label:c(x,b,f),value:x,perc:p(x)}))):(m=f.length-1,p=Oke(o),i=f.map((x,b)=>Pt({index:b,label:c(x,b,f),value:x,perc:b?p(x):0,perc2:b===m?1:p(f[b+1])}))),r.source=i,r.add=i,this.value=i,r}});const HPe=e=>e.source.x,GPe=e=>e.source.y,VPe=e=>e.target.x,XPe=e=>e.target.y;function a4(e){J.call(this,{},e)}a4.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};xe(a4,J,{transform(e,t){var n=e.sourceX||HPe,r=e.sourceY||GPe,i=e.targetX||VPe,a=e.targetY||XPe,o=e.as||"path",s=e.orient||"vertical",l=e.shape||"line",u=D7.get(l+"-"+s)||D7.get(l);return u||ee("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[o]=u(n(c),r(c),i(c),a(c))}),t.reflow(e.modified()).modifies(o)}});const $re=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,ZPe=(e,t,n,r)=>$re(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Tre=(e,t,n,r)=>{var i=n-e,a=r-t,o=Math.hypot(i,a)/2,s=180*Math.atan2(a,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+s+" 0 1 "+n+","+r},YPe=(e,t,n,r)=>Tre(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Nre=(e,t,n,r)=>{const i=n-e,a=r-t,o=.2*(i+a),s=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+s)+" "+(n+s)+","+(r-o)+" "+n+","+r},KPe=(e,t,n,r)=>Nre(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),QPe=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,JPe=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,e$e=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*o+","+t*s+"L"+r*o+","+r*s},t$e=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},n$e=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},r$e=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*a+"C"+l*i+","+l*a+" "+l*o+","+l*s+" "+r*o+","+r*s},D7=_g({line:$re,"line-radial":ZPe,arc:Tre,"arc-radial":YPe,curve:Nre,"curve-radial":KPe,"orthogonal-horizontal":QPe,"orthogonal-vertical":JPe,"orthogonal-radial":e$e,"diagonal-horizontal":t$e,"diagonal-vertical":n$e,"diagonal-radial":r$e});function o4(e){J.call(this,null,e)}o4.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};xe(o4,J,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],a=e.field||yg,o=e.startAngle||0,s=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(a),c=u.length,f=o,d=(s-o)/WQ(u),p=Bi(c),m,g,v;for(e.sort&&p.sort((x,b)=>u[x]-u[b]),m=0;m<c;++m)v=u[p[m]],g=l[p[m]],g[r]=f,g[i]=f+=v*d;return this.value=u,t.reflow(e.modified()).modifies(n)}});const i$e=5;function a$e(e){const t=e.type;return!e.bins&&(t===gm||t===sx||t===lx)}function Mre(e){return xI(e)&&e!==Ws}const o$e=Ko(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function jre(e){J.call(this,null,e),this.modified(!0)}xe(jre,J,{transform(e,t){var n=t.dataflow,r=this.value,i=s$e(e);(!r||i!==r.type)&&(this.value=r=Et(i)());for(i in e)if(!o$e[i]){if(i==="padding"&&Mre(r.type))continue;et(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return h$e(r,e,d$e(r,e,u$e(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function s$e(e){var t=e.type,n="",r;return t===Ws?Ws+"-"+gm:(l$e(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Ws+"-":r===3?Pg+"-":""),(n+t||gm).toLowerCase())}function l$e(e){const t=e.type;return xI(t)&&t!==Od&&t!==Pd&&(e.scheme||e.range&&e.range.length&&e.range.every(Ae))}function u$e(e,t,n){const r=c$e(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,a=e.type,o=t.zero||t.zero===void 0&&a$e(e),s,l;if(!i)return 0;if((o||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(s=(i=i.slice()).length-1||1,o&&(i[0]>0&&(i[0]=0),i[s]<0&&(i[s]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[s]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[s]?s+1:l<i[0]?0:s;u!==s&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return Mre(a)&&t.padding&&i[0]!==pt(i)&&(i=f$e(a,i,t.range,t.padding,t.exponent,t.constant)),e.domain(Dre(a,i,n)),a===mI&&e.unknown(t.domainImplicit?h2:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&wI(e,t.nice)||null),i.length}function c$e(e,t,n){return t?(e.domain(Dre(e.type,t,n)),t.length):-1}function f$e(e,t,n,r,i,a){var o=Math.abs(pt(n)-n[0]),s=o/(o-2*r),l=e===gu?kF(t,null,s):e===lx?Jw(t,null,s,.5):e===sx?Jw(t,null,s,i||1):e===$E?CF(t,null,s,a||1):EF(t,null,s);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function Dre(e,t,n){if(qte(e)){var r=Math.abs(t.reduce((i,a)=>i+(a<0?-1:a>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+ye(t))}return t}function d$e(e,t,n){let r=t.bins;if(r&&!ae(r)){const i=e.domain(),a=i[0],o=pt(i),s=r.step;let l=r.start==null?a:r.start,u=r.stop==null?o:r.stop;s||ee("Scale bins parameter missing step property."),l<a&&(l=s*Math.ceil(a/s)),u>o&&(u=s*Math.floor(o/s)),r=Bi(l,u+s/2,s)}return r?e.bins=r:e.bins&&delete e.bins,e.type===gI&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function h$e(e,t,n){var r=e.type,i=t.round||!1,a=t.range;if(t.rangeStep!=null)a=p$e(r,t,n);else if(t.scheme&&(a=m$e(r,t,n),et(a))){if(e.interpolator)return e.interpolator(a);ee(`Scale type ${r} does not support interpolating color schemes.`)}if(a&&Hte(r))return e.interpolator(ME(hM(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate(bI(t.interpolate,t.interpolateGamma)):et(e.round)?e.round(i):et(e.rangeRound)&&e.interpolate(i?ax:ef),a&&e.range(hM(a,t.reverse))}function p$e(e,t,n){e!==Ite&&e!==QN&&ee("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===QN?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*pI(n,i,r)]}function m$e(e,t,n){var r=t.schemeExtent,i,a;return ae(t.scheme)?a=ME(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),a=_I(i),a||ee(`Unrecognized scheme name: ${t.scheme}`)),n=e===NE?n+1:e===gI?n-1:e===ym||e===TE?+t.schemeCount||i$e:n,Hte(e)?F7(a,r,t.reverse):et(a)?Xte(F7(a,r),n):e===mI?a:a.slice(0,n)}function F7(e,t,n){return et(e)&&(t||n)?Vte(e,hM(t||[0,1],n)):e}function hM(e,t){return t?e.slice().reverse():e}function Fre(e){J.call(this,null,e)}xe(Fre,J,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(ch(e.sort)),this.modified(n),t}});const L7="zero",Lre="center",Ire="normalize",Rre=["y0","y1"];function s4(e){J.call(this,null,e)}s4.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:L7,values:[L7,Lre,Ire]},{name:"as",type:"string",array:!0,length:2,default:Rre}]};xe(s4,J,{transform(e,t){var n=e.as||Rre,r=n[0],i=n[1],a=ch(e.sort),o=e.field||yg,s=e.offset===Lre?g$e:e.offset===Ire?y$e:v$e,l,u,c,f;for(l=x$e(t.source,e.groupby,a,o),u=0,c=l.length,f=l.max;u<c;++u)s(l[u],f,o,r,i);return t.reflow(e.modified()).modifies(n)}});function g$e(e,t,n,r,i){for(var a=(t-e.sum)/2,o=e.length,s=0,l;s<o;++s)l=e[s],l[r]=a,l[i]=a+=Math.abs(n(l))}function y$e(e,t,n,r,i){for(var a=1/e.sum,o=0,s=e.length,l=0,u=0,c;l<s;++l)c=e[l],c[r]=o,c[i]=o=a*(u+=Math.abs(n(c)))}function v$e(e,t,n,r,i){for(var a=0,o=0,s=e.length,l=0,u,c;l<s;++l)c=e[l],u=+n(c),u<0?(c[r]=o,c[i]=o+=u):(c[r]=a,c[i]=a+=u)}function x$e(e,t,n,r){var i=[],a=g=>g(c),o,s,l,u,c,f,d,p,m;if(t==null)i.push(e.slice());else for(o={},s=0,l=e.length;s<l;++s)c=e[s],f=t.map(a),d=o[f],d||(o[f]=d=[],i.push(d)),d.push(c);for(f=0,m=0,u=i.length;f<u;++f){for(d=i[f],s=0,p=0,l=d.length;s<l;++s)p+=Math.abs(r(d[s]));d.sum=p,p>m&&(m=p),n&&d.sort(n)}return i.max=m,i}const b$e=Object.freeze(Object.defineProperty({__proto__:null,axisticks:kre,datajoin:Cre,encode:Ore,legendentries:Pre,linkpath:a4,pie:o4,scale:jre,sortitems:Fre,stack:s4},Symbol.toStringTag,{value:"Module"}));var Be=1e-6,j2=1e-12,st=Math.PI,En=st/2,D2=st/4,wi=st*2,On=180/st,at=st/180,ht=Math.abs,Tg=Math.atan,fo=Math.atan2,Ue=Math.cos,Yb=Math.ceil,zre=Math.exp,pM=Math.hypot,F2=Math.log,MP=Math.pow,Re=Math.sin,Ja=Math.sign||function(e){return e>0?1:e<0?-1:0},Si=Math.sqrt,l4=Math.tan;function Bre(e){return e>1?0:e<-1?st:Math.acos(e)}function Yi(e){return e>1?En:e<-1?-En:Math.asin(e)}function Er(){}function L2(e,t){e&&R7.hasOwnProperty(e.type)&&R7[e.type](e,t)}var I7={Feature:function(e,t){L2(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)L2(n[r].geometry,t)}},R7={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){mM(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)mM(n[r],t,0)},Polygon:function(e,t){z7(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)z7(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)L2(n[r],t)}};function mM(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function z7(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)mM(e[n],t,1);t.polygonEnd()}function Bl(e,t){e&&I7.hasOwnProperty(e.type)?I7[e.type](e,t):L2(e,t)}var I2=new bi,R2=new bi,Ure,Wre,gM,yM,vM,tl={point:Er,lineStart:Er,lineEnd:Er,polygonStart:function(){I2=new bi,tl.lineStart=_$e,tl.lineEnd=w$e},polygonEnd:function(){var e=+I2;R2.add(e<0?wi+e:e),this.lineStart=this.lineEnd=this.point=Er},sphere:function(){R2.add(wi)}};function _$e(){tl.point=S$e}function w$e(){qre(Ure,Wre)}function S$e(e,t){tl.point=qre,Ure=e,Wre=t,e*=at,t*=at,gM=e,yM=Ue(t=t/2+D2),vM=Re(t)}function qre(e,t){e*=at,t*=at,t=t/2+D2;var n=e-gM,r=n>=0?1:-1,i=r*n,a=Ue(t),o=Re(t),s=vM*o,l=yM*a+s*Ue(i),u=s*r*Re(i);I2.add(fo(u,l)),gM=e,yM=a,vM=o}function A$e(e){return R2=new bi,Bl(e,tl),R2*2}function z2(e){return[fo(e[1],e[0]),Yi(e[2])]}function Td(e){var t=e[0],n=e[1],r=Ue(n);return[r*Ue(t),r*Re(t),Re(n)]}function Kb(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Sm(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function jP(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Qb(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function B2(e){var t=Si(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var mn,Li,_n,ha,Rf,Hre,Gre,qp,Zy,Yu,yu,Il={point:xM,lineStart:B7,lineEnd:U7,polygonStart:function(){Il.point=Xre,Il.lineStart=E$e,Il.lineEnd=k$e,Zy=new bi,tl.polygonStart()},polygonEnd:function(){tl.polygonEnd(),Il.point=xM,Il.lineStart=B7,Il.lineEnd=U7,I2<0?(mn=-(_n=180),Li=-(ha=90)):Zy>Be?ha=90:Zy<-Be&&(Li=-90),yu[0]=mn,yu[1]=_n},sphere:function(){mn=-(_n=180),Li=-(ha=90)}};function xM(e,t){Yu.push(yu=[mn=e,_n=e]),t<Li&&(Li=t),t>ha&&(ha=t)}function Vre(e,t){var n=Td([e*at,t*at]);if(qp){var r=Sm(qp,n),i=[r[1],-r[0],0],a=Sm(i,r);B2(a),a=z2(a);var o=e-Rf,s=o>0?1:-1,l=a[0]*On*s,u,c=ht(o)>180;c^(s*Rf<l&&l<s*e)?(u=a[1]*On,u>ha&&(ha=u)):(l=(l+360)%360-180,c^(s*Rf<l&&l<s*e)?(u=-a[1]*On,u<Li&&(Li=u)):(t<Li&&(Li=t),t>ha&&(ha=t))),c?e<Rf?ca(mn,e)>ca(mn,_n)&&(_n=e):ca(e,_n)>ca(mn,_n)&&(mn=e):_n>=mn?(e<mn&&(mn=e),e>_n&&(_n=e)):e>Rf?ca(mn,e)>ca(mn,_n)&&(_n=e):ca(e,_n)>ca(mn,_n)&&(mn=e)}else Yu.push(yu=[mn=e,_n=e]);t<Li&&(Li=t),t>ha&&(ha=t),qp=n,Rf=e}function B7(){Il.point=Vre}function U7(){yu[0]=mn,yu[1]=_n,Il.point=xM,qp=null}function Xre(e,t){if(qp){var n=e-Rf;Zy.add(ht(n)>180?n+(n>0?360:-360):n)}else Hre=e,Gre=t;tl.point(e,t),Vre(e,t)}function E$e(){tl.lineStart()}function k$e(){Xre(Hre,Gre),tl.lineEnd(),ht(Zy)>Be&&(mn=-(_n=180)),yu[0]=mn,yu[1]=_n,qp=null}function ca(e,t){return(t-=e)<0?t+360:t}function C$e(e,t){return e[0]-t[0]}function W7(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function O$e(e){var t,n,r,i,a,o,s;if(ha=_n=-(mn=Li=1/0),Yu=[],Bl(e,Il),n=Yu.length){for(Yu.sort(C$e),t=1,r=Yu[0],a=[r];t<n;++t)i=Yu[t],W7(r,i[0])||W7(r,i[1])?(ca(r[0],i[1])>ca(r[0],r[1])&&(r[1]=i[1]),ca(i[0],r[1])>ca(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,t=0,r=a[n];t<=n;r=i,++t)i=a[t],(s=ca(r[1],i[0]))>o&&(o=s,mn=i[0],_n=r[1])}return Yu=yu=null,mn===1/0||Li===1/0?[[NaN,NaN],[NaN,NaN]]:[[mn,Li],[_n,ha]]}var py,U2,W2,q2,H2,G2,V2,X2,bM,_M,wM,Zre,Yre,ci,fi,di,Uo={sphere:Er,point:u4,lineStart:q7,lineEnd:H7,polygonStart:function(){Uo.lineStart=T$e,Uo.lineEnd=N$e},polygonEnd:function(){Uo.lineStart=q7,Uo.lineEnd=H7}};function u4(e,t){e*=at,t*=at;var n=Ue(t);bx(n*Ue(e),n*Re(e),Re(t))}function bx(e,t,n){++py,W2+=(e-W2)/py,q2+=(t-q2)/py,H2+=(n-H2)/py}function q7(){Uo.point=P$e}function P$e(e,t){e*=at,t*=at;var n=Ue(t);ci=n*Ue(e),fi=n*Re(e),di=Re(t),Uo.point=$$e,bx(ci,fi,di)}function $$e(e,t){e*=at,t*=at;var n=Ue(t),r=n*Ue(e),i=n*Re(e),a=Re(t),o=fo(Si((o=fi*a-di*i)*o+(o=di*r-ci*a)*o+(o=ci*i-fi*r)*o),ci*r+fi*i+di*a);U2+=o,G2+=o*(ci+(ci=r)),V2+=o*(fi+(fi=i)),X2+=o*(di+(di=a)),bx(ci,fi,di)}function H7(){Uo.point=u4}function T$e(){Uo.point=M$e}function N$e(){Kre(Zre,Yre),Uo.point=u4}function M$e(e,t){Zre=e,Yre=t,e*=at,t*=at,Uo.point=Kre;var n=Ue(t);ci=n*Ue(e),fi=n*Re(e),di=Re(t),bx(ci,fi,di)}function Kre(e,t){e*=at,t*=at;var n=Ue(t),r=n*Ue(e),i=n*Re(e),a=Re(t),o=fi*a-di*i,s=di*r-ci*a,l=ci*i-fi*r,u=pM(o,s,l),c=Yi(u),f=u&&-c/u;bM.add(f*o),_M.add(f*s),wM.add(f*l),U2+=c,G2+=c*(ci+(ci=r)),V2+=c*(fi+(fi=i)),X2+=c*(di+(di=a)),bx(ci,fi,di)}function j$e(e){py=U2=W2=q2=H2=G2=V2=X2=0,bM=new bi,_M=new bi,wM=new bi,Bl(e,Uo);var t=+bM,n=+_M,r=+wM,i=pM(t,n,r);return i<j2&&(t=G2,n=V2,r=X2,U2<Be&&(t=W2,n=q2,r=H2),i=pM(t,n,r),i<j2)?[NaN,NaN]:[fo(n,t)*On,Yi(r/i)*On]}function SM(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function AM(e,t){return ht(e)>st&&(e-=Math.round(e/wi)*wi),[e,t]}AM.invert=AM;function Qre(e,t,n){return(e%=wi)?t||n?SM(V7(e),X7(t,n)):V7(e):t||n?X7(t,n):AM}function G7(e){return function(t,n){return t+=e,ht(t)>st&&(t-=Math.round(t/wi)*wi),[t,n]}}function V7(e){var t=G7(e);return t.invert=G7(-e),t}function X7(e,t){var n=Ue(e),r=Re(e),i=Ue(t),a=Re(t);function o(s,l){var u=Ue(l),c=Ue(s)*u,f=Re(s)*u,d=Re(l),p=d*n+c*r;return[fo(f*i-p*a,c*n-d*r),Yi(p*i+f*a)]}return o.invert=function(s,l){var u=Ue(l),c=Ue(s)*u,f=Re(s)*u,d=Re(l),p=d*i-f*a;return[fo(f*i+d*a,c*n+p*r),Yi(p*n-c*r)]},o}function D$e(e){e=Qre(e[0]*at,e[1]*at,e.length>2?e[2]*at:0);function t(n){return n=e(n[0]*at,n[1]*at),n[0]*=On,n[1]*=On,n}return t.invert=function(n){return n=e.invert(n[0]*at,n[1]*at),n[0]*=On,n[1]*=On,n},t}function F$e(e,t,n,r,i,a){if(n){var o=Ue(t),s=Re(t),l=r*n;i==null?(i=t+r*wi,a=t-l/2):(i=Z7(o,i),a=Z7(o,a),(r>0?i<a:i>a)&&(i+=r*wi));for(var u,c=i;r>0?c>a:c<a;c-=l)u=z2([o,-s*Ue(c),-s*Re(c)]),e.point(u[0],u[1])}}function Z7(e,t){t=Td(t),t[0]-=e,B2(t);var n=Bre(-t[1]);return((-t[2]<0?-n:n)+wi-Be)%wi}function Jre(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Er,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function ow(e,t){return ht(e[0]-t[0])<Be&&ht(e[1]-t[1])<Be}function Jb(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function eie(e,t,n,r,i){var a=[],o=[],s,l;if(e.forEach(function(m){if(!((g=m.length-1)<=0)){var g,v=m[0],x=m[g],b;if(ow(v,x)){if(!v[2]&&!x[2]){for(i.lineStart(),s=0;s<g;++s)i.point((v=m[s])[0],v[1]);i.lineEnd();return}x[0]+=2*Be}a.push(b=new Jb(v,m,null,!0)),o.push(b.o=new Jb(v,null,b,!1)),a.push(b=new Jb(x,m,null,!1)),o.push(b.o=new Jb(x,null,b,!0))}}),!!a.length){for(o.sort(t),Y7(a),Y7(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var u=a[0],c,f;;){for(var d=u,p=!0;d.v;)if((d=d.n)===u)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(s=0,l=c.length;s<l;++s)i.point((f=c[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(c=d.p.z,s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);i.lineEnd()}}}function Y7(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function DP(e){return ht(e[0])<=st?e[0]:Ja(e[0])*((ht(e[0])+st)%wi-st)}function L$e(e,t){var n=DP(t),r=t[1],i=Re(r),a=[Re(n),-Ue(n),0],o=0,s=0,l=new bi;i===1?r=En+Be:i===-1&&(r=-En-Be);for(var u=0,c=e.length;u<c;++u)if(d=(f=e[u]).length)for(var f,d,p=f[d-1],m=DP(p),g=p[1]/2+D2,v=Re(g),x=Ue(g),b=0;b<d;++b,m=k,v=E,x=C,p=S){var S=f[b],k=DP(S),A=S[1]/2+D2,E=Re(A),C=Ue(A),P=k-m,T=P>=0?1:-1,j=T*P,D=j>st,F=v*E;if(l.add(fo(F*T*Re(j),x*C+F*Ue(j))),o+=D?P+T*wi:P,D^m>=n^k>=n){var W=Sm(Td(p),Td(S));B2(W);var R=Sm(a,W);B2(R);var N=(D^P>=0?-1:1)*Yi(R[2]);(r>N||r===N&&(W[0]||W[1]))&&(s+=D^P>=0?1:-1)}}return(o<-Be||o<Be&&l<-j2)^s&1}function tie(e,t,n,r){return function(i){var a=t(i),o=Jre(),s=t(o),l=!1,u,c,f,d={point:p,lineStart:g,lineEnd:v,polygonStart:function(){d.point=x,d.lineStart=b,d.lineEnd=S,c=[],u=[]},polygonEnd:function(){d.point=p,d.lineStart=g,d.lineEnd=v,c=UQ(c);var k=L$e(u,r);c.length?(l||(i.polygonStart(),l=!0),eie(c,R$e,k,n,i)):k&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(k,A){e(k,A)&&i.point(k,A)}function m(k,A){a.point(k,A)}function g(){d.point=m,a.lineStart()}function v(){d.point=p,a.lineEnd()}function x(k,A){f.push([k,A]),s.point(k,A)}function b(){s.lineStart(),f=[]}function S(){x(f[0][0],f[0][1]),s.lineEnd();var k=s.clean(),A=o.result(),E,C=A.length,P,T,j;if(f.pop(),u.push(f),f=null,!!C){if(k&1){if(T=A[0],(P=T.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),E=0;E<P;++E)i.point((j=T[E])[0],j[1]);i.lineEnd()}return}C>1&&k&2&&A.push(A.pop().concat(A.shift())),c.push(A.filter(I$e))}}return d}}function I$e(e){return e.length>1}function R$e(e,t){return((e=e.x)[0]<0?e[1]-En-Be:En-e[1])-((t=t.x)[0]<0?t[1]-En-Be:En-t[1])}const K7=tie(function(){return!0},z$e,U$e,[-st,-En]);function z$e(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?st:-st,l=ht(a-t);ht(l-st)<Be?(e.point(t,n=(n+o)/2>0?En:-En),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(a,n),i=0):r!==s&&l>=st&&(ht(t-r)<Be&&(t-=r*Be),ht(a-s)<Be&&(a-=s*Be),n=B$e(t,n,a,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=a,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function B$e(e,t,n,r){var i,a,o=Re(e-n);return ht(o)>Be?Tg((Re(t)*(a=Ue(r))*Re(n)-Re(r)*(i=Ue(t))*Re(e))/(i*a*o)):(t+r)/2}function U$e(e,t,n,r){var i;if(e==null)i=n*En,r.point(-st,i),r.point(0,i),r.point(st,i),r.point(st,0),r.point(st,-i),r.point(0,-i),r.point(-st,-i),r.point(-st,0),r.point(-st,i);else if(ht(e[0]-t[0])>Be){var a=e[0]<t[0]?st:-st;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function W$e(e){var t=Ue(e),n=2*at,r=t>0,i=ht(t)>Be;function a(c,f,d,p){F$e(p,e,n,d,c,f)}function o(c,f){return Ue(c)*Ue(f)>t}function s(c){var f,d,p,m,g;return{lineStart:function(){m=p=!1,g=1},point:function(v,x){var b=[v,x],S,k=o(v,x),A=r?k?0:u(v,x):k?u(v+(v<0?st:-st),x):0;if(!f&&(m=p=k)&&c.lineStart(),k!==p&&(S=l(f,b),(!S||ow(f,S)||ow(b,S))&&(b[2]=1)),k!==p)g=0,k?(c.lineStart(),S=l(b,f),c.point(S[0],S[1])):(S=l(f,b),c.point(S[0],S[1],2),c.lineEnd()),f=S;else if(i&&f&&r^k){var E;!(A&d)&&(E=l(b,f,!0))&&(g=0,r?(c.lineStart(),c.point(E[0][0],E[0][1]),c.point(E[1][0],E[1][1]),c.lineEnd()):(c.point(E[1][0],E[1][1]),c.lineEnd(),c.lineStart(),c.point(E[0][0],E[0][1],3)))}k&&(!f||!ow(f,b))&&c.point(b[0],b[1]),f=b,p=k,d=A},lineEnd:function(){p&&c.lineEnd(),f=null},clean:function(){return g|(m&&p)<<1}}}function l(c,f,d){var p=Td(c),m=Td(f),g=[1,0,0],v=Sm(p,m),x=Kb(v,v),b=v[0],S=x-b*b;if(!S)return!d&&c;var k=t*x/S,A=-t*b/S,E=Sm(g,v),C=Qb(g,k),P=Qb(v,A);jP(C,P);var T=E,j=Kb(C,T),D=Kb(T,T),F=j*j-D*(Kb(C,C)-1);if(!(F<0)){var W=Si(F),R=Qb(T,(-j-W)/D);if(jP(R,C),R=z2(R),!d)return R;var N=c[0],z=f[0],q=c[1],B=f[1],G;z<N&&(G=N,N=z,z=G);var M=z-N,K=ht(M-st)<Be,Z=K||M<Be;if(!K&&B<q&&(G=q,q=B,B=G),Z?K?q+B>0^R[1]<(ht(R[0]-N)<Be?q:B):q<=R[1]&&R[1]<=B:M>st^(N<=R[0]&&R[0]<=z)){var U=Qb(T,(-j+W)/D);return jP(U,C),[R,z2(U)]}}}function u(c,f){var d=r?e:st-e,p=0;return c<-d?p|=1:c>d&&(p|=2),f<-d?p|=4:f>d&&(p|=8),p}return tie(o,s,a,r?[0,-e]:[-st,e-st])}function q$e(e,t,n,r,i,a){var o=e[0],s=e[1],l=t[0],u=t[1],c=0,f=1,d=l-o,p=u-s,m;if(m=n-o,!(!d&&m>0)){if(m/=d,d<0){if(m<c)return;m<f&&(f=m)}else if(d>0){if(m>f)return;m>c&&(c=m)}if(m=i-o,!(!d&&m<0)){if(m/=d,d<0){if(m>f)return;m>c&&(c=m)}else if(d>0){if(m<c)return;m<f&&(f=m)}if(m=r-s,!(!p&&m>0)){if(m/=p,p<0){if(m<c)return;m<f&&(f=m)}else if(p>0){if(m>f)return;m>c&&(c=m)}if(m=a-s,!(!p&&m<0)){if(m/=p,p<0){if(m>f)return;m>c&&(c=m)}else if(p>0){if(m<c)return;m<f&&(f=m)}return c>0&&(e[0]=o+c*d,e[1]=s+c*p),f<1&&(t[0]=o+f*d,t[1]=s+f*p),!0}}}}}var my=1e9,e_=-my;function nie(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function a(u,c,f,d){var p=0,m=0;if(u==null||(p=o(u,f))!==(m=o(c,f))||l(u,c)<0^f>0)do d.point(p===0||p===3?e:n,p>1?r:t);while((p=(p+f+4)%4)!==m);else d.point(c[0],c[1])}function o(u,c){return ht(u[0]-e)<Be?c>0?0:3:ht(u[0]-n)<Be?c>0?2:1:ht(u[1]-t)<Be?c>0?1:0:c>0?3:2}function s(u,c){return l(u.x,c.x)}function l(u,c){var f=o(u,1),d=o(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=Jre(),d,p,m,g,v,x,b,S,k,A,E,C={point:P,lineStart:F,lineEnd:W,polygonStart:j,polygonEnd:D};function P(N,z){i(N,z)&&c.point(N,z)}function T(){for(var N=0,z=0,q=p.length;z<q;++z)for(var B=p[z],G=1,M=B.length,K=B[0],Z,U,me=K[0],le=K[1];G<M;++G)Z=me,U=le,K=B[G],me=K[0],le=K[1],U<=r?le>r&&(me-Z)*(r-U)>(le-U)*(e-Z)&&++N:le<=r&&(me-Z)*(r-U)<(le-U)*(e-Z)&&--N;return N}function j(){c=f,d=[],p=[],E=!0}function D(){var N=T(),z=E&&N,q=(d=UQ(d)).length;(z||q)&&(u.polygonStart(),z&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),q&&eie(d,s,N,a,u),u.polygonEnd()),c=u,d=p=m=null}function F(){C.point=R,p&&p.push(m=[]),A=!0,k=!1,b=S=NaN}function W(){d&&(R(g,v),x&&k&&f.rejoin(),d.push(f.result())),C.point=P,k&&c.lineEnd()}function R(N,z){var q=i(N,z);if(p&&m.push([N,z]),A)g=N,v=z,x=q,A=!1,q&&(c.lineStart(),c.point(N,z));else if(q&&k)c.point(N,z);else{var B=[b=Math.max(e_,Math.min(my,b)),S=Math.max(e_,Math.min(my,S))],G=[N=Math.max(e_,Math.min(my,N)),z=Math.max(e_,Math.min(my,z))];q$e(B,G,e,t,n,r)?(k||(c.lineStart(),c.point(B[0],B[1])),c.point(G[0],G[1]),q||c.lineEnd(),E=!1):q&&(c.lineStart(),c.point(N,z),E=!1)}b=N,S=z,k=q}return C}}function Q7(e,t,n){var r=Bi(e,t-Be,n).concat(t);return function(i){return r.map(function(a){return[i,a]})}}function J7(e,t,n){var r=Bi(e,t-Be,n).concat(t);return function(i){return r.map(function(a){return[a,i]})}}function H$e(){var e,t,n,r,i,a,o,s,l=10,u=l,c=90,f=360,d,p,m,g,v=2.5;function x(){return{type:"MultiLineString",coordinates:b()}}function b(){return Bi(Yb(r/c)*c,n,c).map(m).concat(Bi(Yb(s/f)*f,o,f).map(g)).concat(Bi(Yb(t/l)*l,e,l).filter(function(S){return ht(S%c)>Be}).map(d)).concat(Bi(Yb(a/u)*u,i,u).filter(function(S){return ht(S%f)>Be}).map(p))}return x.lines=function(){return b().map(function(S){return{type:"LineString",coordinates:S}})},x.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(g(o).slice(1),m(n).reverse().slice(1),g(s).reverse().slice(1))]}},x.extent=function(S){return arguments.length?x.extentMajor(S).extentMinor(S):x.extentMinor()},x.extentMajor=function(S){return arguments.length?(r=+S[0][0],n=+S[1][0],s=+S[0][1],o=+S[1][1],r>n&&(S=r,r=n,n=S),s>o&&(S=s,s=o,o=S),x.precision(v)):[[r,s],[n,o]]},x.extentMinor=function(S){return arguments.length?(t=+S[0][0],e=+S[1][0],a=+S[0][1],i=+S[1][1],t>e&&(S=t,t=e,e=S),a>i&&(S=a,a=i,i=S),x.precision(v)):[[t,a],[e,i]]},x.step=function(S){return arguments.length?x.stepMajor(S).stepMinor(S):x.stepMinor()},x.stepMajor=function(S){return arguments.length?(c=+S[0],f=+S[1],x):[c,f]},x.stepMinor=function(S){return arguments.length?(l=+S[0],u=+S[1],x):[l,u]},x.precision=function(S){return arguments.length?(v=+S,d=Q7(a,i,90),p=J7(t,e,v),m=Q7(s,o,90),g=J7(r,n,v),x):v},x.extentMajor([[-180,-90+Be],[180,90-Be]]).extentMinor([[-180,-80-Be],[180,80+Be]])}const Hv=e=>e;var FP=new bi,EM=new bi,rie,iie,kM,CM,Ul={point:Er,lineStart:Er,lineEnd:Er,polygonStart:function(){Ul.lineStart=G$e,Ul.lineEnd=X$e},polygonEnd:function(){Ul.lineStart=Ul.lineEnd=Ul.point=Er,FP.add(ht(EM)),EM=new bi},result:function(){var e=FP/2;return FP=new bi,e}};function G$e(){Ul.point=V$e}function V$e(e,t){Ul.point=aie,rie=kM=e,iie=CM=t}function aie(e,t){EM.add(CM*e-kM*t),kM=e,CM=t}function X$e(){aie(rie,iie)}var Am=1/0,Z2=Am,Gv=-Am,Y2=Gv,K2={point:Z$e,lineStart:Er,lineEnd:Er,polygonStart:Er,polygonEnd:Er,result:function(){var e=[[Am,Z2],[Gv,Y2]];return Gv=Y2=-(Z2=Am=1/0),e}};function Z$e(e,t){e<Am&&(Am=e),e>Gv&&(Gv=e),t<Z2&&(Z2=t),t>Y2&&(Y2=t)}var OM=0,PM=0,gy=0,Q2=0,J2=0,Ap=0,$M=0,TM=0,yy=0,oie,sie,Ts,Ns,Za={point:Nd,lineStart:eU,lineEnd:tU,polygonStart:function(){Za.lineStart=Q$e,Za.lineEnd=J$e},polygonEnd:function(){Za.point=Nd,Za.lineStart=eU,Za.lineEnd=tU},result:function(){var e=yy?[$M/yy,TM/yy]:Ap?[Q2/Ap,J2/Ap]:gy?[OM/gy,PM/gy]:[NaN,NaN];return OM=PM=gy=Q2=J2=Ap=$M=TM=yy=0,e}};function Nd(e,t){OM+=e,PM+=t,++gy}function eU(){Za.point=Y$e}function Y$e(e,t){Za.point=K$e,Nd(Ts=e,Ns=t)}function K$e(e,t){var n=e-Ts,r=t-Ns,i=Si(n*n+r*r);Q2+=i*(Ts+e)/2,J2+=i*(Ns+t)/2,Ap+=i,Nd(Ts=e,Ns=t)}function tU(){Za.point=Nd}function Q$e(){Za.point=eTe}function J$e(){lie(oie,sie)}function eTe(e,t){Za.point=lie,Nd(oie=Ts=e,sie=Ns=t)}function lie(e,t){var n=e-Ts,r=t-Ns,i=Si(n*n+r*r);Q2+=i*(Ts+e)/2,J2+=i*(Ns+t)/2,Ap+=i,i=Ns*e-Ts*t,$M+=i*(Ts+e),TM+=i*(Ns+t),yy+=i*3,Nd(Ts=e,Ns=t)}function uie(e){this._context=e}uie.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,wi);break}}},result:Er};var NM=new bi,LP,cie,fie,vy,xy,Vv={point:Er,lineStart:function(){Vv.point=tTe},lineEnd:function(){LP&&die(cie,fie),Vv.point=Er},polygonStart:function(){LP=!0},polygonEnd:function(){LP=null},result:function(){var e=+NM;return NM=new bi,e}};function tTe(e,t){Vv.point=die,cie=vy=e,fie=xy=t}function die(e,t){vy-=e,xy-=t,NM.add(Si(vy*vy+xy*xy)),vy=e,xy=t}let nU,eS,rU,iU;class aU{constructor(t){this._append=t==null?hie:nTe(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==rU||this._append!==eS){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,rU=r,eS=this._append,iU=this._,this._=i}this._+=iU;break}}}result(){const t=this._;return this._="",t.length?t:null}}function hie(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function nTe(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return hie;if(t!==nU){const n=10**t;nU=t,eS=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return eS}function pie(e,t){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Bl(s,i(a))),a.result()}return o.area=function(s){return Bl(s,i(Ul)),Ul.result()},o.measure=function(s){return Bl(s,i(Vv)),Vv.result()},o.bounds=function(s){return Bl(s,i(K2)),K2.result()},o.centroid=function(s){return Bl(s,i(Za)),Za.result()},o.projection=function(s){return arguments.length?(i=s==null?(e=null,Hv):(e=s).stream,o):e},o.context=function(s){return arguments.length?(a=s==null?(t=null,new aU(n)):new uie(t=s),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return t===null&&(a=new aU(n)),o},o.projection(e).digits(n).context(t)}function GE(e){return function(t){var n=new MM;for(var r in e)n[r]=e[r];return n.stream=t,n}}function MM(){}MM.prototype={constructor:MM,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function c4(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Bl(n,e.stream(K2)),t(K2.result()),r!=null&&e.clipExtent(r),e}function VE(e,t,n){return c4(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,l])},n)}function f4(e,t,n){return VE(e,[[0,0],t],n)}function d4(e,t,n){return c4(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];e.scale(150*a).translate([o,s])},n)}function h4(e,t,n){return c4(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,s])},n)}var oU=16,rTe=Ue(30*at);function sU(e,t){return+t?aTe(e,t):iTe(e)}function iTe(e){return GE({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function aTe(e,t){function n(r,i,a,o,s,l,u,c,f,d,p,m,g,v){var x=u-r,b=c-i,S=x*x+b*b;if(S>4*t&&g--){var k=o+d,A=s+p,E=l+m,C=Si(k*k+A*A+E*E),P=Yi(E/=C),T=ht(ht(E)-1)<Be||ht(a-f)<Be?(a+f)/2:fo(A,k),j=e(T,P),D=j[0],F=j[1],W=D-r,R=F-i,N=b*W-x*R;(N*N/S>t||ht((x*W+b*R)/S-.5)>.3||o*d+s*p+l*m<rTe)&&(n(r,i,a,o,s,l,D,F,T,k/=C,A/=C,E,g,v),v.point(D,F),n(D,F,T,k,A,E,u,c,f,d,p,m,g,v))}}return function(r){var i,a,o,s,l,u,c,f,d,p,m,g,v={point:x,lineStart:b,lineEnd:k,polygonStart:function(){r.polygonStart(),v.lineStart=A},polygonEnd:function(){r.polygonEnd(),v.lineStart=b}};function x(P,T){P=e(P,T),r.point(P[0],P[1])}function b(){f=NaN,v.point=S,r.lineStart()}function S(P,T){var j=Td([P,T]),D=e(P,T);n(f,d,c,p,m,g,f=D[0],d=D[1],c=P,p=j[0],m=j[1],g=j[2],oU,r),r.point(f,d)}function k(){v.point=x,r.lineEnd()}function A(){b(),v.point=E,v.lineEnd=C}function E(P,T){S(i=P,T),a=f,o=d,s=p,l=m,u=g,v.point=S}function C(){n(f,d,c,p,m,g,a,o,i,s,l,u,oU,r),v.lineEnd=k,k()}return v}}var oTe=GE({point:function(e,t){this.stream.point(e*at,t*at)}});function sTe(e){return GE({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function lTe(e,t,n,r,i){function a(o,s){return o*=r,s*=i,[t+e*o,n-e*s]}return a.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*i]},a}function lU(e,t,n,r,i,a){if(!a)return lTe(e,t,n,r,i);var o=Ue(a),s=Re(a),l=o*e,u=s*e,c=o/e,f=s/e,d=(s*n-o*t)/e,p=(s*t+o*n)/e;function m(g,v){return g*=r,v*=i,[l*g-u*v+t,n-u*g-l*v]}return m.invert=function(g,v){return[r*(c*g-f*v+d),i*(p-f*g-c*v)]},m}function cl(e){return mie(function(){return e})()}function mie(e){var t,n=150,r=480,i=250,a=0,o=0,s=0,l=0,u=0,c,f=0,d=1,p=1,m=null,g=K7,v=null,x,b,S,k=Hv,A=.5,E,C,P,T,j;function D(N){return P(N[0]*at,N[1]*at)}function F(N){return N=P.invert(N[0],N[1]),N&&[N[0]*On,N[1]*On]}D.stream=function(N){return T&&j===N?T:T=oTe(sTe(c)(g(E(k(j=N)))))},D.preclip=function(N){return arguments.length?(g=N,m=void 0,R()):g},D.postclip=function(N){return arguments.length?(k=N,v=x=b=S=null,R()):k},D.clipAngle=function(N){return arguments.length?(g=+N?W$e(m=N*at):(m=null,K7),R()):m*On},D.clipExtent=function(N){return arguments.length?(k=N==null?(v=x=b=S=null,Hv):nie(v=+N[0][0],x=+N[0][1],b=+N[1][0],S=+N[1][1]),R()):v==null?null:[[v,x],[b,S]]},D.scale=function(N){return arguments.length?(n=+N,W()):n},D.translate=function(N){return arguments.length?(r=+N[0],i=+N[1],W()):[r,i]},D.center=function(N){return arguments.length?(a=N[0]%360*at,o=N[1]%360*at,W()):[a*On,o*On]},D.rotate=function(N){return arguments.length?(s=N[0]%360*at,l=N[1]%360*at,u=N.length>2?N[2]%360*at:0,W()):[s*On,l*On,u*On]},D.angle=function(N){return arguments.length?(f=N%360*at,W()):f*On},D.reflectX=function(N){return arguments.length?(d=N?-1:1,W()):d<0},D.reflectY=function(N){return arguments.length?(p=N?-1:1,W()):p<0},D.precision=function(N){return arguments.length?(E=sU(C,A=N*N),R()):Si(A)},D.fitExtent=function(N,z){return VE(D,N,z)},D.fitSize=function(N,z){return f4(D,N,z)},D.fitWidth=function(N,z){return d4(D,N,z)},D.fitHeight=function(N,z){return h4(D,N,z)};function W(){var N=lU(n,0,0,d,p,f).apply(null,t(a,o)),z=lU(n,r-N[0],i-N[1],d,p,f);return c=Qre(s,l,u),C=SM(t,z),P=SM(c,C),E=sU(C,A),R()}function R(){return T=j=null,D}return function(){return t=e.apply(this,arguments),D.invert=t.invert&&F,W()}}function p4(e){var t=0,n=st/3,r=mie(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*at,n=a[1]*at):[t*On,n*On]},i}function uTe(e){var t=Ue(e);function n(r,i){return[r*t,Re(i)/t]}return n.invert=function(r,i){return[r/t,Yi(i*t)]},n}function cTe(e,t){var n=Re(e),r=(n+Re(t))/2;if(ht(r)<Be)return uTe(e);var i=1+n*(2*r-n),a=Si(i)/r;function o(s,l){var u=Si(i-2*r*Re(l))/r;return[u*Re(s*=r),a-u*Ue(s)]}return o.invert=function(s,l){var u=a-l,c=fo(s,ht(u))*Ja(u);return u*r<0&&(c-=st*Ja(s)*Ja(u)),[c/r,Yi((i-(s*s+u*u)*r*r)/(2*r))]},o}function tS(){return p4(cTe).scale(155.424).center([0,33.6442])}function gie(){return tS().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function fTe(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function dTe(){var e,t,n=gie(),r,i=tS().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=tS().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,u={point:function(d,p){l=[d,p]}};function c(d){var p=d[0],m=d[1];return l=null,r.point(p,m),l||(a.point(p,m),l)||(s.point(p,m),l)}c.invert=function(d){var p=n.scale(),m=n.translate(),g=(d[0]-m[0])/p,v=(d[1]-m[1])/p;return(v>=.12&&v<.234&&g>=-.425&&g<-.214?i:v>=.166&&v<.234&&g>=-.214&&g<-.115?o:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=fTe([n.stream(t=d),i.stream(d),o.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var p=n.scale(),m=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[m-.455*p,g-.238*p],[m+.455*p,g+.238*p]]).stream(u),a=i.translate([m-.307*p,g+.201*p]).clipExtent([[m-.425*p+Be,g+.12*p+Be],[m-.214*p-Be,g+.234*p-Be]]).stream(u),s=o.translate([m-.205*p,g+.212*p]).clipExtent([[m-.214*p+Be,g+.166*p+Be],[m-.115*p-Be,g+.234*p-Be]]).stream(u),f()},c.fitExtent=function(d,p){return VE(c,d,p)},c.fitSize=function(d,p){return f4(c,d,p)},c.fitWidth=function(d,p){return d4(c,d,p)},c.fitHeight=function(d,p){return h4(c,d,p)};function f(){return e=t=null,c}return c.scale(1070)}function yie(e){return function(t,n){var r=Ue(t),i=Ue(n),a=e(r*i);return a===1/0?[2,0]:[a*i*Re(t),a*Re(n)]}}function _x(e){return function(t,n){var r=Si(t*t+n*n),i=e(r),a=Re(i),o=Ue(i);return[fo(t*a,r*o),Yi(r&&n*a/r)]}}var vie=yie(function(e){return Si(2/(1+e))});vie.invert=_x(function(e){return 2*Yi(e/2)});function hTe(){return cl(vie).scale(124.75).clipAngle(180-.001)}var xie=yie(function(e){return(e=Bre(e))&&e/Re(e)});xie.invert=_x(function(e){return e});function pTe(){return cl(xie).scale(79.4188).clipAngle(180-.001)}function XE(e,t){return[e,F2(l4((En+t)/2))]}XE.invert=function(e,t){return[e,2*Tg(zre(t))-En]};function mTe(){return bie(XE).scale(961/wi)}function bie(e){var t=cl(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,s,l,u;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?o=s=l=u=null:(o=+f[0][0],s=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):o==null?null:[[o,s],[l,u]]};function c(){var f=st*r(),d=t(D$e(t.rotate()).invert([0,0]));return a(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===XE?[[Math.max(d[0]-f,o),s],[Math.min(d[0]+f,l),u]]:[[o,Math.max(d[1]-f,s)],[l,Math.min(d[1]+f,u)]])}return c()}function t_(e){return l4((En+e)/2)}function gTe(e,t){var n=Ue(e),r=e===t?Re(e):F2(n/Ue(t))/F2(t_(t)/t_(e)),i=n*MP(t_(e),r)/r;if(!r)return XE;function a(o,s){i>0?s<-En+Be&&(s=-En+Be):s>En-Be&&(s=En-Be);var l=i/MP(t_(s),r);return[l*Re(r*o),i-l*Ue(r*o)]}return a.invert=function(o,s){var l=i-s,u=Ja(r)*Si(o*o+l*l),c=fo(o,ht(l))*Ja(l);return l*r<0&&(c-=st*Ja(o)*Ja(l)),[c/r,2*Tg(MP(i/u,1/r))-En]},a}function yTe(){return p4(gTe).scale(109.5).parallels([30,30])}function nS(e,t){return[e,t]}nS.invert=nS;function vTe(){return cl(nS).scale(152.63)}function xTe(e,t){var n=Ue(e),r=e===t?Re(e):(n-Ue(t))/(t-e),i=n/r+e;if(ht(r)<Be)return nS;function a(o,s){var l=i-s,u=r*o;return[l*Re(u),i-l*Ue(u)]}return a.invert=function(o,s){var l=i-s,u=fo(o,ht(l))*Ja(l);return l*r<0&&(u-=st*Ja(o)*Ja(l)),[u/r,i-Ja(r)*Si(o*o+l*l)]},a}function bTe(){return p4(xTe).scale(131.154).center([0,13.9389])}var Yy=1.340264,Ky=-.081106,Qy=893e-6,Jy=.003796,rS=Si(3)/2,_Te=12;function _ie(e,t){var n=Yi(rS*Re(t)),r=n*n,i=r*r*r;return[e*Ue(n)/(rS*(Yy+3*Ky*r+i*(7*Qy+9*Jy*r))),n*(Yy+Ky*r+i*(Qy+Jy*r))]}_ie.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,s,l;a<_Te&&(s=n*(Yy+Ky*r+i*(Qy+Jy*r))-t,l=Yy+3*Ky*r+i*(7*Qy+9*Jy*r),n-=o=s/l,r=n*n,i=r*r*r,!(ht(o)<j2));++a);return[rS*e*(Yy+3*Ky*r+i*(7*Qy+9*Jy*r))/Ue(n),Yi(Re(n)/rS)]};function wTe(){return cl(_ie).scale(177.158)}function wie(e,t){var n=Ue(t),r=Ue(e)*n;return[n*Re(e)/r,Re(t)/r]}wie.invert=_x(Tg);function STe(){return cl(wie).scale(144.049).clipAngle(60)}function ATe(){var e=1,t=0,n=0,r=1,i=1,a=0,o,s,l=null,u,c,f,d=1,p=1,m=GE({point:function(k,A){var E=S([k,A]);this.stream.point(E[0],E[1])}}),g=Hv,v,x;function b(){return d=e*r,p=e*i,v=x=null,S}function S(k){var A=k[0]*d,E=k[1]*p;if(a){var C=E*o-A*s;A=A*o+E*s,E=C}return[A+t,E+n]}return S.invert=function(k){var A=k[0]-t,E=k[1]-n;if(a){var C=E*o+A*s;A=A*o-E*s,E=C}return[A/d,E/p]},S.stream=function(k){return v&&x===k?v:v=m(g(x=k))},S.postclip=function(k){return arguments.length?(g=k,l=u=c=f=null,b()):g},S.clipExtent=function(k){return arguments.length?(g=k==null?(l=u=c=f=null,Hv):nie(l=+k[0][0],u=+k[0][1],c=+k[1][0],f=+k[1][1]),b()):l==null?null:[[l,u],[c,f]]},S.scale=function(k){return arguments.length?(e=+k,b()):e},S.translate=function(k){return arguments.length?(t=+k[0],n=+k[1],b()):[t,n]},S.angle=function(k){return arguments.length?(a=k%360*at,s=Re(a),o=Ue(a),b()):a*On},S.reflectX=function(k){return arguments.length?(r=k?-1:1,b()):r<0},S.reflectY=function(k){return arguments.length?(i=k?-1:1,b()):i<0},S.fitExtent=function(k,A){return VE(S,k,A)},S.fitSize=function(k,A){return f4(S,k,A)},S.fitWidth=function(k,A){return d4(S,k,A)},S.fitHeight=function(k,A){return h4(S,k,A)},S}function Sie(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Sie.invert=function(e,t){var n=t,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-t)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(ht(i)>Be&&--r>0);return[e/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function ETe(){return cl(Sie).scale(175.295)}function Aie(e,t){return[Ue(t)*Re(e),Re(t)]}Aie.invert=_x(Yi);function kTe(){return cl(Aie).scale(249.5).clipAngle(90+Be)}function Eie(e,t){var n=Ue(t),r=1+Ue(e)*n;return[n*Re(e)/r,Re(t)/r]}Eie.invert=_x(function(e){return 2*Tg(e)});function CTe(){return cl(Eie).scale(250).clipAngle(142)}function kie(e,t){return[F2(l4((En+t)/2)),-e]}kie.invert=function(e,t){return[-t,2*Tg(zre(e))-En]};function OTe(){var e=bie(kie),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var PTe=Math.abs,jM=Math.cos,iS=Math.sin,$Te=1e-6,Cie=Math.PI,DM=Cie/2,uU=TTe(2);function cU(e){return e>1?DM:e<-1?-DM:Math.asin(e)}function TTe(e){return e>0?Math.sqrt(e):0}function NTe(e,t){var n=e*iS(t),r=30,i;do t-=i=(t+iS(t)-n)/(1+jM(t));while(PTe(i)>$Te&&--r>0);return t/2}function MTe(e,t,n){function r(i,a){return[e*i*jM(a=NTe(n,a)),t*iS(a)]}return r.invert=function(i,a){return a=cU(a/t),[i/(e*jM(a)),cU((2*a+iS(2*a))/n)]},r}var jTe=MTe(uU/DM,uU,Cie);function DTe(){return cl(jTe).scale(169.529)}const FTe=pie(),FM=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function LTe(e,t){return function n(){const r=t();return r.type=e,r.path=pie().projection(r),r.copy=r.copy||function(){const i=n();return FM.forEach(a=>{r[a]&&i[a](r[a]())}),i.path.pointRadius(r.path.pointRadius()),i},Ute(r)}}function m4(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(aS[e]=LTe(e,t),this):aS[e]||null}function Oie(e){return e&&e.path||FTe}const aS={albers:gie,albersusa:dTe,azimuthalequalarea:hTe,azimuthalequidistant:pTe,conicconformal:yTe,conicequalarea:tS,conicequidistant:bTe,equalEarth:wTe,equirectangular:vTe,gnomonic:STe,identity:ATe,mercator:mTe,mollweide:DTe,naturalEarth1:ETe,orthographic:kTe,stereographic:CTe,transversemercator:OTe};for(const e in aS)m4(e,aS[e]);function ITe(){}const Pl=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Pie(){var e=1,t=1,n=s;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],f=[];return a(l,u,d=>{n(d,l,u),RTe(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var p=0,m=c.length,g;p<m;++p)if(zTe((g=c[p])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function a(l,u,c){var f=[],d=[],p,m,g,v,x,b;for(p=m=-1,v=l[0]>=u,Pl[v<<1].forEach(S);++p<e-1;)g=v,v=l[p+1]>=u,Pl[g|v<<1].forEach(S);for(Pl[v<<0].forEach(S);++m<t-1;){for(p=-1,v=l[m*e+e]>=u,x=l[m*e]>=u,Pl[v<<1|x<<2].forEach(S);++p<e-1;)g=v,v=l[m*e+e+p+1]>=u,b=x,x=l[m*e+p+1]>=u,Pl[g|v<<1|x<<2|b<<3].forEach(S);Pl[v|x<<3].forEach(S)}for(p=-1,x=l[m*e]>=u,Pl[x<<2].forEach(S);++p<e-1;)b=x,x=l[m*e+p+1]>=u,Pl[x<<2|b<<3].forEach(S);Pl[x<<3].forEach(S);function S(k){var A=[k[0][0]+p,k[0][1]+m],E=[k[1][0]+p,k[1][1]+m],C=o(A),P=o(E),T,j;(T=d[C])?(j=f[P])?(delete d[T.end],delete f[j.start],T===j?(T.ring.push(E),c(T.ring)):f[T.start]=d[j.end]={start:T.start,end:j.end,ring:T.ring.concat(j.ring)}):(delete d[T.end],T.ring.push(E),d[T.end=P]=T):(T=f[P])?(j=d[C])?(delete f[T.start],delete d[j.end],T===j?(T.ring.push(E),c(T.ring)):f[j.start]=d[T.end]={start:j.start,end:T.end,ring:j.ring.concat(T.ring)}):(delete f[T.start],T.ring.unshift(A),f[T.start=C]=T):f[C]=d[P]={start:C,end:P,ring:[A,E]}}}function o(l){return l[0]*2+l[1]*(e+1)*4}function s(l,u,c){l.forEach(f=>{var d=f[0],p=f[1],m=d|0,g=p|0,v,x=u[g*e+m];d>0&&d<e&&m===d&&(v=u[g*e+m-1],f[0]=d+(c-v)/(x-v)-.5),p>0&&p<t&&g===p&&(v=u[(g-1)*e+m],f[1]=p+(c-v)/(x-v)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||ee("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?s:ITe,r):n===s},r}function RTe(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function zTe(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=BTe(e,t[n]))return i;return 0}function BTe(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var l=e[a],u=l[0],c=l[1],f=e[s],d=f[0],p=f[1];if(UTe(l,f,t))return 0;c>r!=p>r&&n<(d-u)*(r-c)/(p-c)+u&&(i=-i)}return i}function UTe(e,t,n){var r;return WTe(e,t,n)&&qTe(e[r=+(e[0]===t[0])],n[r],t[r])}function WTe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function qTe(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function $ie(e,t,n){return function(r){var i=Ks(r),a=n?Math.min(i[0],0):i[0],o=i[1],s=o-a,l=t?Mc(a,o,e):s/(e+1);return Bi(a+l,o,l)}}function g4(e){J.call(this,null,e)}g4.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};xe(g4,J,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||ei,a=Pie().smooth(e.smooth!==!1),o=e.thresholds||HTe(r,i,e),s=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),f=a.size([c.width,c.height])(c.values,ae(o)?o:o(c.values));GTe(f,c,u,e),f.forEach(d=>{l.push(sE(u,Pt(s!=null?{[s]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function HTe(e,t,n){const r=$ie(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>sd(t(i).values)))}function GTe(e,t,n,r){let i=r.scale||t.scale,a=r.translate||t.translate;if(et(i)&&(i=i(n,r)),et(a)&&(a=a(n,r)),(i===1||i==null)&&!a)return;const o=(St(i)?i:i[0])||1,s=(St(i)?i:i[1])||1,l=a&&a[0]||0,u=a&&a[1]||0;e.forEach(Tie(t,o,s,l,u))}function Tie(e,t,n,r,i){const a=e.x1||0,o=e.y1||0,s=t*n<0;function l(f){f.forEach(u)}function u(f){s&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-a)*t+r,f[1]=(f[1]-o)*n+i}return function(f){return f.coordinates.forEach(l),f}}function fU(e,t,n){const r=e>=0?e:QF(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function IP(e){return et(e)?e:ti(+e)}function Nie(){var e=l=>l[0],t=l=>l[1],n=yg,r=[-1,-1],i=960,a=500,o=2;function s(l,u){const c=fU(r[0],l,e)>>o,f=fU(r[1],l,t)>>o,d=c?c+2:0,p=f?f+2:0,m=2*d+(i>>o),g=2*p+(a>>o),v=new Float32Array(m*g),x=new Float32Array(m*g);let b=v;l.forEach(k=>{const A=d+(+e(k)>>o),E=p+(+t(k)>>o);A>=0&&A<m&&E>=0&&E<g&&(v[A+E*m]+=+n(k))}),c>0&&f>0?(Vh(m,g,v,x,c),Xh(m,g,x,v,f),Vh(m,g,v,x,c),Xh(m,g,x,v,f),Vh(m,g,v,x,c),Xh(m,g,x,v,f)):c>0?(Vh(m,g,v,x,c),Vh(m,g,x,v,c),Vh(m,g,v,x,c),b=x):f>0&&(Xh(m,g,v,x,f),Xh(m,g,x,v,f),Xh(m,g,v,x,f),b=x);const S=u?Math.pow(2,-2*o):1/WQ(b);for(let k=0,A=m*g;k<A;++k)b[k]*=S;return{values:b,scale:1<<o,width:m,height:g,x1:d,y1:p,x2:d+(i>>o),y2:p+(a>>o)}}return s.x=function(l){return arguments.length?(e=IP(l),s):e},s.y=function(l){return arguments.length?(t=IP(l),s):t},s.weight=function(l){return arguments.length?(n=IP(l),s):n},s.size=function(l){if(!arguments.length)return[i,a];var u=+l[0],c=+l[1];return u>=0&&c>=0||ee("invalid size"),i=u,a=c,s},s.cellSize=function(l){return arguments.length?((l=+l)>=1||ee("invalid cell size"),o=Math.floor(Math.log(l)/Math.LN2),s):1<<o},s.bandwidth=function(l){return arguments.length?(l=Ee(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&ee("invalid bandwidth"),r=l,s):r},s}function Vh(e,t,n,r,i){const a=(i<<1)+1;for(let o=0;o<t;++o)for(let s=0,l=0;s<e+i;++s)s<e&&(l+=n[s+o*e]),s>=i&&(s>=a&&(l-=n[s-a+o*e]),r[s-i+o*e]=l/Math.min(s+1,e-1+a-s,a))}function Xh(e,t,n,r,i){const a=(i<<1)+1;for(let o=0;o<e;++o)for(let s=0,l=0;s<t+i;++s)s<t&&(l+=n[o+s*e]),s>=i&&(s>=a&&(l-=n[o+(s-a)*e]),r[o+(s-i)*e]=l/Math.min(s+1,t-1+a-s,a))}function y4(e){J.call(this,null,e)}y4.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const VTe=["x","y","weight","size","cellSize","bandwidth"];function Mie(e,t){return VTe.forEach(n=>t[n]!=null?e[n](t[n]):0),e}xe(y4,J,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=XTe(r,e.groupby),a=(e.groupby||[]).map(kn),o=Mie(Nie(),e),s=e.as||"grid",l=[];function u(c,f){for(let d=0;d<a.length;++d)c[a[d]]=f[d];return c}return l=i.map(c=>Pt(u({[s]:o(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function XTe(e,t){var n=[],r=c=>c(s),i,a,o,s,l,u;if(t==null)n.push(e);else for(i={},a=0,o=e.length;a<o;++a)s=e[a],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(s);return n}function v4(e){J.call(this,null,e)}v4.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};xe(v4,J,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=Pie().smooth(e.smooth!==!1),i=e.values,a=e.thresholds||$ie(e.count||10,e.nice,!!i),o=e.size,s,l;return i||(i=t.materialize(t.SOURCE).source,s=Mie(Nie(),e)(i,!0),l=Tie(s,s.scale||1,s.scale||1,0,0),o=[s.width,s.height],i=s.values),a=ae(a)?a:a(i),i=r.size(o)(i,a),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Pt),n}});const LM="Feature",x4="FeatureCollection",ZTe="MultiPoint";function b4(e){J.call(this,null,e)}b4.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};xe(b4,J,{transform(e,t){var n=this._features,r=this._points,i=e.fields,a=i&&i[0],o=i&&i[1],s=e.geojson||!i&&ei,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(Vr(s))||a&&t.modified(Vr(a))||o&&t.modified(Vr(o)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),s&&t.visit(l,c=>n.push(s(c))),a&&o&&(t.visit(l,c=>{var f=a(c),d=o(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:LM,geometry:{type:ZTe,coordinates:r}})),this.value={type:x4,features:n}}});function _4(e){J.call(this,null,e)}_4.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};xe(_4,J,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||ei,a=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=Oie(e.projection),n.materialize().reflow()):o=i===ei||t.modified(i.fields)?n.ADD_MOD:n.ADD;const s=YTe(r,e.pointRadius);return n.visit(o,l=>l[a]=r(i(l))),r.pointRadius(s),n.modifies(a)}});function YTe(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function w4(e){J.call(this,null,e)}w4.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};xe(w4,J,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],a=e.as||["x","y"],o=a[0],s=a[1],l;function u(c){const f=n([r(c),i(c)]);f?(c[o]=f[0],c[s]=f[1]):(c[o]=void 0,c[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(a)}});function S4(e){J.call(this,null,e)}S4.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};xe(S4,J,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",a=n.ADD;return(!r||e.modified())&&(this.value=r=KTe(Oie(e.projection),e.field||so("datum"),e.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,o=>o[i]=r),n.modifies(i)}});function KTe(e,t,n){const r=n==null?i=>e(t(i)):i=>{var a=e.pointRadius(),o=e.pointRadius(n)(t(i));return e.pointRadius(a),o};return r.context=i=>(e.context(i),r),r}function A4(e){J.call(this,[],e),this.generator=H$e()}A4.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};xe(A4,J,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const a in e)et(r[a])&&r[a](e[a]);return i=r(),n.length?t.mod.push(LJ(n[0],i)):t.add.push(Pt(i)),n[0]=i,t}});function E4(e){J.call(this,null,e)}E4.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};xe(E4,J,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||ei,a=JTe(e.opacity,e),o=QTe(e.color,e),s=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?sd(n.map(u=>sd(i(u).values))):0};return n.forEach(u=>{const c=i(u),f=Je({},u,l);r||(f.$max=sd(c.values||[])),u[s]=eNe(c,f,o.dep?o:ti(o(f)),a.dep?a:ti(a(f)))}),t.reflow(!0).modifies(s)}});function QTe(e,t){let n;return et(e)?(n=r=>Lc(e(r,t)),n.dep=jie(e)):n=ti(Lc(e||"#888")),n}function JTe(e,t){let n;return et(e)?(n=r=>e(r,t),n.dep=jie(e)):e?n=ti(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function jie(e){if(!et(e))return!1;const t=Ko(Vr(e));return t.$x||t.$y||t.$value||t.$max}function eNe(e,t,n,r){const i=e.width,a=e.height,o=e.x1||0,s=e.y1||0,l=e.x2||i,u=e.y2||a,c=e.values,f=c?v=>c[v]:nc,d=Oc(l-o,u-s),p=d.getContext("2d"),m=p.getImageData(0,0,l-o,u-s),g=m.data;for(let v=s,x=0;v<u;++v){t.$y=v-s;for(let b=o,S=v*i;b<l;++b,x+=4){t.$x=b-o,t.$value=f(b+S);const k=n(t);g[x+0]=k.r,g[x+1]=k.g,g[x+2]=k.b,g[x+3]=~~(255*r(t))}}return p.putImageData(m,0,0),d}function Die(e){J.call(this,null,e),this.modified(!0)}xe(Die,J,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=nNe(e.type),FM.forEach(r=>{e[r]!=null&&dU(n,r,e[r])})):FM.forEach(r=>{e.modified(r)&&dU(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&tNe(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function tNe(e,t){const n=rNe(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function nNe(e){const t=m4((e||"mercator").toLowerCase());return t||ee("Unrecognized projection type: "+e),t()}function dU(e,t,n){et(e[t])&&e[t](n)}function rNe(e){return e=Ee(e),e.length===1?e[0]:{type:x4,features:e.reduce((t,n)=>t.concat(iNe(n)),[])}}function iNe(e){return e.type===x4?e.features:Ee(e).filter(t=>t!=null).map(t=>t.type===LM?t:{type:LM,geometry:t})}const aNe=Object.freeze(Object.defineProperty({__proto__:null,contour:v4,geojson:b4,geopath:_4,geopoint:w4,geoshape:S4,graticule:A4,heatmap:E4,isocontour:g4,kde2d:y4,projection:Die},Symbol.toStringTag,{value:"Module"}));function oNe(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,o=n.length,s,l=0,u=0;for(a=0;a<o;++a)s=n[a],l+=s.x,u+=s.y;for(l=(l/o-e)*r,u=(u/o-t)*r,a=0;a<o;++a)s=n[a],s.x-=l,s.y-=u}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function sNe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Fie(this.cover(t,n),t,n,e)}function Fie(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a=e._root,o={data:r},s=e._x0,l=e._y0,u=e._x1,c=e._y1,f,d,p,m,g,v,x,b;if(!a)return e._root=o,e;for(;a.length;)if((g=t>=(f=(s+u)/2))?s=f:u=f,(v=n>=(d=(l+c)/2))?l=d:c=d,i=a,!(a=a[x=v<<1|g]))return i[x]=o,e;if(p=+e._x.call(null,a.data),m=+e._y.call(null,a.data),t===p&&n===m)return o.next=a,i?i[x]=o:e._root=o,e;do i=i?i[x]=new Array(4):e._root=new Array(4),(g=t>=(f=(s+u)/2))?s=f:u=f,(v=n>=(d=(l+c)/2))?l=d:c=d;while((x=v<<1|g)===(b=(m>=d)<<1|p>=f));return i[b]=a,i[x]=o,e}function lNe(e){var t,n,r=e.length,i,a,o=new Array(r),s=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(o[n]=i,s[n]=a,i<l&&(l=i),i>c&&(c=i),a<u&&(u=a),a>f&&(f=a));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<r;++n)Fie(this,o[n],s[n],e[n]);return this}function uNe(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o=i-n||1,s=this._root,l,u;n>e||e>=i||r>t||t>=a;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function cNe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function fNe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function hi(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function dNe(e,t,n){var r,i=this._x0,a=this._y0,o,s,l,u,c=this._x1,f=this._y1,d=[],p=this._root,m,g;for(p&&d.push(new hi(p,i,a,c,f)),n==null?n=1/0:(i=e-n,a=t-n,c=e+n,f=t+n,n*=n);m=d.pop();)if(!(!(p=m.node)||(o=m.x0)>c||(s=m.y0)>f||(l=m.x1)<i||(u=m.y1)<a))if(p.length){var v=(o+l)/2,x=(s+u)/2;d.push(new hi(p[3],v,x,l,u),new hi(p[2],o,x,v,u),new hi(p[1],v,s,l,x),new hi(p[0],o,s,v,x)),(g=(t>=x)<<1|e>=v)&&(m=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=m)}else{var b=e-+this._x.call(null,p.data),S=t-+this._y.call(null,p.data),k=b*b+S*S;if(k<n){var A=Math.sqrt(n=k);i=e-A,a=t-A,c=e+A,f=t+A,r=p.data}}return r}function hNe(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,c,f,d,p,m,g,v,x;if(!n)return this;if(n.length)for(;;){if((m=c>=(d=(o+l)/2))?o=d:l=d,(g=f>=(p=(s+u)/2))?s=p:u=p,t=n,!(n=n[v=g<<1|m]))return this;if(!n.length)break;(t[v+1&3]||t[v+2&3]||t[v+3&3])&&(r=t,x=v)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):t?(a?t[v]=a:delete t[v],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[x]=n:this._root=n),this):(this._root=a,this)}function pNe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function mNe(){return this._root}function gNe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function yNe(e){var t=[],n,r=this._root,i,a,o,s,l;for(r&&t.push(new hi(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var u=(a+s)/2,c=(o+l)/2;(i=r[3])&&t.push(new hi(i,u,c,s,l)),(i=r[2])&&t.push(new hi(i,a,c,u,l)),(i=r[1])&&t.push(new hi(i,u,o,s,c)),(i=r[0])&&t.push(new hi(i,a,o,u,c))}return this}function vNe(e){var t=[],n=[],r;for(this._root&&t.push(new hi(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,f=(s+u)/2;(a=i[0])&&t.push(new hi(a,o,s,c,f)),(a=i[1])&&t.push(new hi(a,c,s,l,f)),(a=i[2])&&t.push(new hi(a,o,f,c,u)),(a=i[3])&&t.push(new hi(a,c,f,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function xNe(e){return e[0]}function bNe(e){return arguments.length?(this._x=e,this):this._x}function _Ne(e){return e[1]}function wNe(e){return arguments.length?(this._y=e,this):this._y}function k4(e,t,n){var r=new C4(t??xNe,n??_Ne,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function C4(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function hU(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ci=k4.prototype=C4.prototype;Ci.copy=function(){var e=new C4(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=hU(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=hU(r));return e};Ci.add=sNe;Ci.addAll=lNe;Ci.cover=uNe;Ci.data=cNe;Ci.extent=fNe;Ci.find=dNe;Ci.remove=hNe;Ci.removeAll=pNe;Ci.root=mNe;Ci.size=gNe;Ci.visit=yNe;Ci.visitAfter=vNe;Ci.x=bNe;Ci.y=wNe;function mi(e){return function(){return e}}function dc(e){return(e()-.5)*1e-6}function SNe(e){return e.x+e.vx}function ANe(e){return e.y+e.vy}function ENe(e){var t,n,r,i=1,a=1;typeof e!="function"&&(e=mi(e==null?1:+e));function o(){for(var u,c=t.length,f,d,p,m,g,v,x=0;x<a;++x)for(f=k4(t,SNe,ANe).visitAfter(s),u=0;u<c;++u)d=t[u],g=n[d.index],v=g*g,p=d.x+d.vx,m=d.y+d.vy,f.visit(b);function b(S,k,A,E,C){var P=S.data,T=S.r,j=g+T;if(P){if(P.index>d.index){var D=p-P.x-P.vx,F=m-P.y-P.vy,W=D*D+F*F;W<j*j&&(D===0&&(D=dc(r),W+=D*D),F===0&&(F=dc(r),W+=F*F),W=(j-(W=Math.sqrt(W)))/W*i,d.vx+=(D*=W)*(j=(T*=T)/(v+T)),d.vy+=(F*=W)*j,P.vx-=D*(j=1-j),P.vy-=F*j)}return}return k>p+j||E<p-j||A>m+j||C<m-j}}function s(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(n=new Array(c),u=0;u<c;++u)f=t[u],n[f.index]=+e(f,u,t)}}return o.initialize=function(u,c){t=u,r=c,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(e=typeof u=="function"?u:mi(+u),l(),o):e},o}function kNe(e){return e.index}function pU(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function CNe(e){var t=kNe,n=f,r,i=mi(30),a,o,s,l,u,c=1;e==null&&(e=[]);function f(v){return 1/Math.min(s[v.source.index],s[v.target.index])}function d(v){for(var x=0,b=e.length;x<c;++x)for(var S=0,k,A,E,C,P,T,j;S<b;++S)k=e[S],A=k.source,E=k.target,C=E.x+E.vx-A.x-A.vx||dc(u),P=E.y+E.vy-A.y-A.vy||dc(u),T=Math.sqrt(C*C+P*P),T=(T-a[S])/T*v*r[S],C*=T,P*=T,E.vx-=C*(j=l[S]),E.vy-=P*j,A.vx+=C*(j=1-j),A.vy+=P*j}function p(){if(o){var v,x=o.length,b=e.length,S=new Map(o.map((A,E)=>[t(A,E,o),A])),k;for(v=0,s=new Array(x);v<b;++v)k=e[v],k.index=v,typeof k.source!="object"&&(k.source=pU(S,k.source)),typeof k.target!="object"&&(k.target=pU(S,k.target)),s[k.source.index]=(s[k.source.index]||0)+1,s[k.target.index]=(s[k.target.index]||0)+1;for(v=0,l=new Array(b);v<b;++v)k=e[v],l[v]=s[k.source.index]/(s[k.source.index]+s[k.target.index]);r=new Array(b),m(),a=new Array(b),g()}}function m(){if(o)for(var v=0,x=e.length;v<x;++v)r[v]=+n(e[v],v,e)}function g(){if(o)for(var v=0,x=e.length;v<x;++v)a[v]=+i(e[v],v,e)}return d.initialize=function(v,x){o=v,u=x,p()},d.links=function(v){return arguments.length?(e=v,p(),d):e},d.id=function(v){return arguments.length?(t=v,d):t},d.iterations=function(v){return arguments.length?(c=+v,d):c},d.strength=function(v){return arguments.length?(n=typeof v=="function"?v:mi(+v),m(),d):n},d.distance=function(v){return arguments.length?(i=typeof v=="function"?v:mi(+v),g(),d):i},d}var ONe={value:()=>{}};function Lie(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new sw(n)}function sw(e){this._=e}function PNe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}sw.prototype=Lie.prototype={constructor:sw,on:function(e,t){var n=this._,r=PNe(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=$Ne(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=mU(n[i],e.name,t);else if(t==null)for(i in n)n[i]=mU(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new sw(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function $Ne(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function mU(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=ONe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Em=0,by=0,F0=0,Iie=1e3,oS,_y,sS=0,Md=0,ZE=0,Xv=typeof performance=="object"&&performance.now?performance:Date,Rie=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function O4(){return Md||(Rie(TNe),Md=Xv.now()+ZE)}function TNe(){Md=0}function lS(){this._call=this._time=this._next=null}lS.prototype=zie.prototype={constructor:lS,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?O4():+n)+(t==null?0:+t),!this._next&&_y!==this&&(_y?_y._next=this:oS=this,_y=this),this._call=e,this._time=n,IM()},stop:function(){this._call&&(this._call=null,this._time=1/0,IM())}};function zie(e,t,n){var r=new lS;return r.restart(e,t,n),r}function NNe(){O4(),++Em;for(var e=oS,t;e;)(t=Md-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Em}function gU(){Md=(sS=Xv.now())+ZE,Em=by=0;try{NNe()}finally{Em=0,jNe(),Md=0}}function MNe(){var e=Xv.now(),t=e-sS;t>Iie&&(ZE-=t,sS=e)}function jNe(){for(var e,t=oS,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:oS=n);_y=e,IM(r)}function IM(e){if(!Em){by&&(by=clearTimeout(by));var t=e-Md;t>24?(e<1/0&&(by=setTimeout(gU,e-Xv.now()-ZE)),F0&&(F0=clearInterval(F0))):(F0||(sS=Xv.now(),F0=setInterval(MNe,Iie)),Em=1,Rie(gU))}}function DNe(e,t,n){var r=new lS,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(a,o,s){o=+o,s=s==null?O4():+s,r._restart(function l(u){u+=i,r._restart(l,i+=o,s),a(u)},o,s)},r.restart(e,t,n),r)}const FNe=1664525,LNe=1013904223,yU=4294967296;function INe(){let e=1;return()=>(e=(FNe*e+LNe)%yU)/yU}function RNe(e){return e.x}function zNe(e){return e.y}var BNe=10,UNe=Math.PI*(3-Math.sqrt(5));function WNe(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=zie(f),u=Lie("tick","end"),c=INe();e==null&&(e=[]);function f(){d(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function d(g){var v,x=e.length,b;g===void 0&&(g=1);for(var S=0;S<g;++S)for(n+=(a-n)*i,s.forEach(function(k){k(n)}),v=0;v<x;++v)b=e[v],b.fx==null?b.x+=b.vx*=o:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=o:(b.y=b.fy,b.vy=0);return t}function p(){for(var g=0,v=e.length,x;g<v;++g){if(x=e[g],x.index=g,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var b=BNe*Math.sqrt(.5+g),S=g*UNe;x.x=b*Math.cos(S),x.y=b*Math.sin(S)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function m(g){return g.initialize&&g.initialize(e,c),g}return p(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,p(),s.forEach(m),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(a=+g,t):a},velocityDecay:function(g){return arguments.length?(o=1-g,t):1-o},randomSource:function(g){return arguments.length?(c=g,s.forEach(m),t):c},force:function(g,v){return arguments.length>1?(v==null?s.delete(g):s.set(g,m(v)),t):s.get(g)},find:function(g,v,x){var b=0,S=e.length,k,A,E,C,P;for(x==null?x=1/0:x*=x,b=0;b<S;++b)C=e[b],k=g-C.x,A=v-C.y,E=k*k+A*A,E<x&&(P=C,x=E);return P},on:function(g,v){return arguments.length>1?(u.on(g,v),t):u.on(g)}}}function qNe(){var e,t,n,r,i=mi(-30),a,o=1,s=1/0,l=.81;function u(p){var m,g=e.length,v=k4(e,RNe,zNe).visitAfter(f);for(r=p,m=0;m<g;++m)t=e[m],v.visit(d)}function c(){if(e){var p,m=e.length,g;for(a=new Array(m),p=0;p<m;++p)g=e[p],a[g.index]=+i(g,p,e)}}function f(p){var m=0,g,v,x=0,b,S,k;if(p.length){for(b=S=k=0;k<4;++k)(g=p[k])&&(v=Math.abs(g.value))&&(m+=g.value,x+=v,b+=v*g.x,S+=v*g.y);p.x=b/x,p.y=S/x}else{g=p,g.x=g.data.x,g.y=g.data.y;do m+=a[g.data.index];while(g=g.next)}p.value=m}function d(p,m,g,v){if(!p.value)return!0;var x=p.x-t.x,b=p.y-t.y,S=v-m,k=x*x+b*b;if(S*S/l<k)return k<s&&(x===0&&(x=dc(n),k+=x*x),b===0&&(b=dc(n),k+=b*b),k<o&&(k=Math.sqrt(o*k)),t.vx+=x*p.value*r/k,t.vy+=b*p.value*r/k),!0;if(p.length||k>=s)return;(p.data!==t||p.next)&&(x===0&&(x=dc(n),k+=x*x),b===0&&(b=dc(n),k+=b*b),k<o&&(k=Math.sqrt(o*k)));do p.data!==t&&(S=a[p.data.index]*r/k,t.vx+=x*S,t.vy+=b*S);while(p=p.next)}return u.initialize=function(p,m){e=p,n=m,c()},u.strength=function(p){return arguments.length?(i=typeof p=="function"?p:mi(+p),c(),u):i},u.distanceMin=function(p){return arguments.length?(o=p*p,u):Math.sqrt(o)},u.distanceMax=function(p){return arguments.length?(s=p*p,u):Math.sqrt(s)},u.theta=function(p){return arguments.length?(l=p*p,u):Math.sqrt(l)},u}function HNe(e){var t=mi(.1),n,r,i;typeof e!="function"&&(e=mi(e==null?0:+e));function a(s){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:mi(+s),o(),a):t},a.x=function(s){return arguments.length?(e=typeof s=="function"?s:mi(+s),o(),a):e},a}function GNe(e){var t=mi(.1),n,r,i;typeof e!="function"&&(e=mi(e==null?0:+e));function a(s){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:mi(+s),o(),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:mi(+s),o(),a):e},a}const vU={center:oNe,collide:ENe,nbody:qNe,link:CNe,x:HNe,y:GNe},wy="forces",RM=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],VNe=["static","iterations"],Bie=["x","y","vx","vy"];function P4(e){J.call(this,null,e)}P4.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Bie}]};xe(P4,J,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(RM),a=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&Uie(n,e,0,t)):(this.value=n=ZNe(t.source,e),n.on("tick",XNe(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(VNe)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/a)),e.static)for(n.stop();--a>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let s=this._argops,l=0,u=s.length,c;l<u;++l)if(c=s[l],!(c.name!==wy||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,a=r.length,o;i<a;++i)if(r[i].name==="links"&&(o=r[i].op.source)){n.pulse(o,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(Bie)}});function XNe(e,t){return()=>e.touch(t).run()}function ZNe(e,t){const n=WNe(e),r=n.stop,i=n.restart;let a=!1;return n.stopped=()=>a,n.restart=()=>(a=!1,i()),n.stop=()=>(a=!0,r()),Uie(n,t,!0).on("end",()=>a=!0)}function Uie(e,t,n,r){var i=Ee(t.forces),a,o,s,l;for(a=0,o=RM.length;a<o;++a)s=RM[a],s!==wy&&t.modified(s)&&e[s](t[s]);for(a=0,o=i.length;a<o;++a)l=wy+a,s=n||t.modified(wy,a)?KNe(i[a]):r&&YNe(i[a],r)?e.force(l):null,s&&e.force(l,s);for(o=e.numForces||0;a<o;++a)e.force(wy+a,null);return e.numForces=i.length,e}function YNe(e,t){var n,r;for(n in e)if(et(r=e[n])&&t.modified(Vr(r)))return 1;return 0}function KNe(e){var t,n;ke(vU,e.force)||ee("Unrecognized force: "+e.force),t=vU[e.force]();for(n in e)et(t[n])&&QNe(t[n],e[n],e);return t}function QNe(e,t,n){e(et(t)?r=>t(r,n):t)}const JNe=Object.freeze(Object.defineProperty({__proto__:null,force:P4},Symbol.toStringTag,{value:"Module"}));function eMe(e,t){return e.parent===t.parent?1:2}function tMe(e){return e.reduce(nMe,0)/e.length}function nMe(e,t){return e+t.x}function rMe(e){return 1+e.reduce(iMe,0)}function iMe(e,t){return Math.max(e,t.y)}function aMe(e){for(var t;t=e.children;)e=t[0];return e}function oMe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function sMe(){var e=eMe,t=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(d){var p=d.children;p?(d.x=tMe(p),d.y=rMe(p)):(d.x=o?s+=e(d,o):0,d.y=0,o=d)});var l=aMe(a),u=oMe(a),c=l.x-e(l,u)/2,f=u.x+e(u,l)/2;return a.eachAfter(r?function(d){d.x=(d.x-a.x)*t,d.y=(a.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(a.y?d.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function lMe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function uMe(){return this.eachAfter(lMe)}function cMe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function fMe(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function dMe(e,t){for(var n=this,r=[n],i=[],a,o,s,l=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function hMe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function pMe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function mMe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function gMe(e){for(var t=this,n=yMe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function yMe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function vMe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function xMe(){return Array.from(this)}function bMe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function _Me(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*wMe(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function $4(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=EMe)):t===void 0&&(t=AMe);for(var n=new km(e),r,i=[n],a,o,s,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new km(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(Wie)}function SMe(){return $4(this).eachBefore(kMe)}function AMe(e){return e.children}function EMe(e){return Array.isArray(e)?e[1]:null}function kMe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Wie(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function km(e){this.data=e,this.depth=this.height=0,this.parent=null}km.prototype=$4.prototype={constructor:km,count:uMe,each:cMe,eachAfter:dMe,eachBefore:fMe,find:hMe,sum:pMe,sort:mMe,path:gMe,ancestors:vMe,descendants:xMe,leaves:bMe,links:_Me,copy:SMe,[Symbol.iterator]:wMe};function lw(e){return e==null?null:qie(e)}function qie(e){if(typeof e!="function")throw new Error;return e}function Xf(){return 0}function ip(e){return function(){return e}}const CMe=1664525,OMe=1013904223,xU=4294967296;function PMe(){let e=1;return()=>(e=(CMe*e+OMe)%xU)/xU}function $Me(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TMe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function NMe(e,t){for(var n=0,r=(e=TMe(Array.from(e),t)).length,i=[],a,o;n<r;)a=e[n],o&&Hie(o,a)?++n:(o=jMe(i=MMe(i,a)),n=0);return o}function MMe(e,t){var n,r;if(RP(t,e))return[t];for(n=0;n<e.length;++n)if(n_(t,e[n])&&RP(Sy(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(n_(Sy(e[n],e[r]),t)&&n_(Sy(e[n],t),e[r])&&n_(Sy(e[r],t),e[n])&&RP(Gie(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function n_(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Hie(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function RP(e,t){for(var n=0;n<t.length;++n)if(!Hie(e,t[n]))return!1;return!0}function jMe(e){switch(e.length){case 1:return DMe(e[0]);case 2:return Sy(e[0],e[1]);case 3:return Gie(e[0],e[1],e[2])}}function DMe(e){return{x:e.x,y:e.y,r:e.r}}function Sy(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,l=a-n,u=o-r,c=s-i,f=Math.sqrt(l*l+u*u);return{x:(n+a+l/f*c)/2,y:(r+o+u/f*c)/2,r:(f+i+s)/2}}function Gie(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-o,p=r-u,m=i-s,g=i-c,v=l-a,x=f-a,b=r*r+i*i-a*a,S=b-o*o-s*s+l*l,k=b-u*u-c*c+f*f,A=p*m-d*g,E=(m*k-g*S)/(A*2)-r,C=(g*v-m*x)/A,P=(p*S-d*k)/(A*2)-i,T=(d*x-p*v)/A,j=C*C+T*T-1,D=2*(a+E*C+P*T),F=E*E+P*P-a*a,W=-(Math.abs(j)>1e-6?(D+Math.sqrt(D*D-4*j*F))/(2*j):F/D);return{x:r+E+C*W,y:i+P+T*W,r:W}}function bU(e,t,n){var r=e.x-t.x,i,a,o=e.y-t.y,s,l,u=r*r+o*o;u?(a=t.r+n.r,a*=a,l=e.r+n.r,l*=l,a>l?(i=(u+l-a)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-s*o,n.y=e.y-i*o+s*r):(i=(u+a-l)/(2*u),s=Math.sqrt(Math.max(0,a/u-i*i)),n.x=t.x+i*r-s*o,n.y=t.y+i*o+s*r)):(n.x=t.x+n.r,n.y=t.y)}function _U(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function wU(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function r_(e){this._=e,this.next=null,this.previous=null}function FMe(e,t){if(!(a=(e=$Me(e)).length))return 0;var n,r,i,a,o,s,l,u,c,f,d;if(n=e[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;bU(r,n,i=e[2]),n=new r_(n),r=new r_(r),i=new r_(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<a;++l){bU(n._,r._,i=e[l]),i=new r_(i),u=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(_U(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.next}else{if(_U(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=wU(n);(i=i.next)!==r;)(s=wU(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=NMe(n,t),l=0;l<a;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function LMe(e){return Math.sqrt(e.value)}function IMe(){var e=null,t=1,n=1,r=Xf;function i(a){const o=PMe();return a.x=t/2,a.y=n/2,e?a.eachBefore(SU(e)).eachAfter(zP(r,.5,o)).eachBefore(AU(1)):a.eachBefore(SU(LMe)).eachAfter(zP(Xf,1,o)).eachAfter(zP(r,a.r/Math.min(t,n),o)).eachBefore(AU(Math.min(t,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=lw(a),i):e},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:ip(+a),i):r},i}function SU(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function zP(e,t,n){return function(r){if(i=r.children){var i,a,o=i.length,s=e(r)*t||0,l;if(s)for(a=0;a<o;++a)i[a].r+=s;if(l=FMe(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=l+s}}}function AU(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Vie(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function wx(e,t,n,r,i){for(var a=e.children,o,s=-1,l=a.length,u=e.value&&(r-t)/e.value;++s<l;)o=a[s],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u}function RMe(){var e=1,t=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/s,o.eachBefore(a(t,s)),r&&o.eachBefore(Vie),o}function a(o,s){return function(l){l.children&&wx(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var u=l.x0,c=l.y0,f=l.x1-n,d=l.y1-n;f<u&&(u=f=(u+f)/2),d<c&&(c=d=(c+d)/2),l.x0=u,l.y0=c,l.x1=f,l.y1=d}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var zMe={depth:-1},EU={},BP={};function BMe(e){return e.id}function UMe(e){return e.parentId}function kU(){var e=BMe,t=UMe,n;function r(i){var a=Array.from(i),o=e,s=t,l,u,c,f,d,p,m,g,v=new Map;if(n!=null){const x=a.map((k,A)=>WMe(n(k,A,i))),b=x.map(CU),S=new Set(x).add("");for(const k of b)S.has(k)||(S.add(k),x.push(k),b.push(CU(k)),a.push(BP));o=(k,A)=>x[A],s=(k,A)=>b[A]}for(c=0,l=a.length;c<l;++c)u=a[c],p=a[c]=new km(u),(m=o(u,c,i))!=null&&(m+="")&&(g=p.id=m,v.set(g,v.has(g)?EU:p)),(m=s(u,c,i))!=null&&(m+="")&&(p.parent=m);for(c=0;c<l;++c)if(p=a[c],m=p.parent){if(d=v.get(m),!d)throw new Error("missing: "+m);if(d===EU)throw new Error("ambiguous: "+m);d.children?d.children.push(p):d.children=[p],p.parent=d}else{if(f)throw new Error("multiple roots");f=p}if(!f)throw new Error("no root");if(n!=null){for(;f.data===BP&&f.children.length===1;)f=f.children[0],--l;for(let x=a.length-1;x>=0&&(p=a[x],p.data===BP);--x)p.data=null}if(f.parent=zMe,f.eachBefore(function(x){x.depth=x.parent.depth+1,--l}).eachBefore(Wie),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=lw(i),r):e},r.parentId=function(i){return arguments.length?(t=lw(i),r):t},r.path=function(i){return arguments.length?(n=lw(i),r):n},r}function WMe(e){e=`${e}`;let t=e.length;return zM(e,t-1)&&!zM(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function CU(e){let t=e.length;if(t<2)return"";for(;--t>1&&!zM(e,t););return e.slice(0,t)}function zM(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function qMe(e,t){return e.parent===t.parent?1:2}function UP(e){var t=e.children;return t?t[0]:e.t}function WP(e){var t=e.children;return t?t[t.length-1]:e.t}function HMe(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function GMe(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function VMe(e,t,n){return e.a.parent===t.parent?e.a:n}function uw(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}uw.prototype=Object.create(km.prototype);function XMe(e){for(var t=new uw(e,0),n,r=[t],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new uw(a[o],o)),i.parent=n;return(t.parent=new uw(null,0)).children=[t],t}function ZMe(){var e=qMe,t=1,n=1,r=null;function i(u){var c=XMe(u);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var f=u,d=u,p=u;u.eachBefore(function(b){b.x<f.x&&(f=b),b.x>d.x&&(d=b),b.depth>p.depth&&(p=b)});var m=f===d?1:e(f,d)/2,g=m-f.x,v=t/(d.x+m+g),x=n/(p.depth||1);u.eachBefore(function(b){b.x=(b.x+g)*v,b.y=b.depth*x})}return u}function a(u){var c=u.children,f=u.parent.children,d=u.i?f[u.i-1]:null;if(c){GMe(u);var p=(c[0].z+c[c.length-1].z)/2;d?(u.z=d.z+e(u._,d._),u.m=u.z-p):u.z=p}else d&&(u.z=d.z+e(u._,d._));u.parent.A=s(u,d,u.parent.A||f[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,f){if(c){for(var d=u,p=u,m=c,g=d.parent.children[0],v=d.m,x=p.m,b=m.m,S=g.m,k;m=WP(m),d=UP(d),m&&d;)g=UP(g),p=WP(p),p.a=u,k=m.z+b-d.z-v+e(m._,d._),k>0&&(HMe(VMe(m,u,f),u,k),v+=k,x+=k),b+=m.m,v+=d.m,S+=g.m,x+=p.m;m&&!WP(p)&&(p.t=m,p.m+=b-x),d&&!UP(g)&&(g.t=d,g.m+=v-S,f=u)}return f}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function YE(e,t,n,r,i){for(var a=e.children,o,s=-1,l=a.length,u=e.value&&(i-n)/e.value;++s<l;)o=a[s],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*u}var Xie=(1+Math.sqrt(5))/2;function Zie(e,t,n,r,i,a){for(var o=[],s=t.children,l,u,c=0,f=0,d=s.length,p,m,g=t.value,v,x,b,S,k,A,E;c<d;){p=i-n,m=a-r;do v=s[f++].value;while(!v&&f<d);for(x=b=v,A=Math.max(m/p,p/m)/(g*e),E=v*v*A,k=Math.max(b/E,E/x);f<d;++f){if(v+=u=s[f].value,u<x&&(x=u),u>b&&(b=u),E=v*v*A,S=Math.max(b/E,E/x),S>k){v-=u;break}k=S}o.push(l={value:v,dice:p<m,children:s.slice(c,f)}),l.dice?wx(l,n,r,i,g?r+=m*v/g:a):YE(l,n,r,g?n+=p*v/g:i,a),g-=v,c=f}return o}const Yie=function e(t){function n(r,i,a,o,s){Zie(t,r,i,a,o,s)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(Xie);function YMe(){var e=Yie,t=!1,n=1,r=1,i=[0],a=Xf,o=Xf,s=Xf,l=Xf,u=Xf;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(Vie),d}function f(d){var p=i[d.depth],m=d.x0+p,g=d.y0+p,v=d.x1-p,x=d.y1-p;v<m&&(m=v=(m+v)/2),x<g&&(g=x=(g+x)/2),d.x0=m,d.y0=g,d.x1=v,d.y1=x,d.children&&(p=i[d.depth+1]=a(d)/2,m+=u(d)-p,g+=o(d)-p,v-=s(d)-p,x-=l(d)-p,v<m&&(m=v=(m+v)/2),x<g&&(g=x=(g+x)/2),e(d,m,g,v,x))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=qie(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(a=typeof d=="function"?d:ip(+d),c):a},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(o=typeof d=="function"?d:ip(+d),c):o},c.paddingRight=function(d){return arguments.length?(s=typeof d=="function"?d:ip(+d),c):s},c.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:ip(+d),c):l},c.paddingLeft=function(d){return arguments.length?(u=typeof d=="function"?d:ip(+d),c):u},c}function KMe(e,t,n,r,i){var a=e.children,o,s=a.length,l,u=new Array(s+1);for(u[0]=l=o=0;o<s;++o)u[o+1]=l+=a[o].value;c(0,s,e.value,t,n,r,i);function c(f,d,p,m,g,v,x){if(f>=d-1){var b=a[f];b.x0=m,b.y0=g,b.x1=v,b.y1=x;return}for(var S=u[f],k=p/2+S,A=f+1,E=d-1;A<E;){var C=A+E>>>1;u[C]<k?A=C+1:E=C}k-u[A-1]<u[A]-k&&f+1<A&&--A;var P=u[A]-S,T=p-P;if(v-m>x-g){var j=p?(m*T+v*P)/p:v;c(f,A,P,m,g,j,x),c(A,d,T,j,g,v,x)}else{var D=p?(g*T+x*P)/p:x;c(f,A,P,m,g,v,D),c(A,d,T,m,D,v,x)}}}function QMe(e,t,n,r,i){(e.depth&1?YE:wx)(e,t,n,r,i)}const JMe=function e(t){function n(r,i,a,o,s){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,f,d=-1,p,m=l.length,g=r.value;++d<m;){for(u=l[d],c=u.children,f=u.value=0,p=c.length;f<p;++f)u.value+=c[f].value;u.dice?wx(u,i,a,o,g?a+=(s-a)*u.value/g:s):YE(u,i,a,g?i+=(o-i)*u.value/g:o,s),g-=u.value}else r._squarify=l=Zie(t,r,i,a,o,s),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(Xie);function BM(e,t,n){const r={};return e.each(i=>{const a=i.data;n(a)&&(r[t(a)]=i)}),e.lookup=r,e}function T4(e){J.call(this,null,e)}T4.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const eje=e=>e.values;xe(T4,J,{transform(e,t){t.source||ee("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),a=this.value;return(!a||r||t.changed())&&(a&&a.each(o=>{o.children&&oE(o.data)&&i.rem.push(o.data)}),this.value=a=$4({values:Ee(e.keys).reduce((o,s)=>(o.key(s),o),tje()).entries(i.source)},eje),n&&a.each(o=>{o.children&&(o=Pt(o.data),i.add.push(o),i.source.push(o))}),BM(a,Ie,Ie)),i.source.root=a,i}});function tje(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,a){if(a>=e.length)return i;const o=i.length,s=e[a++],l={},u={};let c=-1,f,d,p;for(;++c<o;)f=s(d=i[c])+"",(p=l[f])?p.push(d):l[f]=[d];for(f in l)u[f]=n(l[f],a);return u}function r(i,a){if(++a>e.length)return i;const o=[];for(const s in i)o.push({key:s,values:r(i[s],a)});return o}return t}function Au(e){J.call(this,null,e)}const nje=(e,t)=>e.parent===t.parent?1:2;xe(Au,J,{transform(e,t){(!t.source||!t.source.root)&&ee(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(ch(e.sort,o=>o.data)),rje(n,this.params,e),n.separation&&n.separation(e.separation!==!1?nje:yg);try{this.value=n(i)}catch(o){ee(o)}return i.each(o=>ije(o,r,a)),t.reflow(e.modified()).modifies(a).modifies("leaf")}});function rje(e,t,n){for(let r,i=0,a=t.length;i<a;++i)r=t[i],r in n&&e[r](n[r])}function ije(e,t,n){const r=e.data,i=t.length-1;for(let a=0;a<i;++a)r[n[a]]=e[t[a]];r[n[i]]=e.children?e.children.length:0}const UM=["x","y","r","depth","children"];function N4(e){Au.call(this,e)}N4.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:UM.length,default:UM}]};xe(N4,Au,{layout:IMe,params:["radius","size","padding"],fields:UM});const WM=["x0","y0","x1","y1","depth","children"];function M4(e){Au.call(this,e)}M4.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:WM.length,default:WM}]};xe(M4,Au,{layout:RMe,params:["size","round","padding"],fields:WM});function j4(e){J.call(this,null,e)}j4.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};xe(j4,J,{transform(e,t){t.source||ee("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),a=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),a&&(n=i.source.length?BM(kU().id(e.key).parentId(e.parentKey)(i.source),e.key,lo):BM(kU()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const OU={tidy:ZMe,cluster:sMe},qM=["x","y","depth","children"];function D4(e){Au.call(this,e)}D4.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:qM.length,default:qM}]};xe(D4,Au,{layout(e){const t=e||"tidy";if(ke(OU,t))return OU[t]();ee("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:qM});function F4(e){J.call(this,[],e)}F4.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};xe(F4,J,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),a={};return r||ee("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,o=>a[Ie(o)]=1),r.each(o=>{const s=o.data,l=o.parent&&o.parent.data;l&&a[Ie(s)]&&a[Ie(l)]&&i.add.push(Pt({source:l,target:s}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,o=>a[Ie(o)]=1),n.forEach(o=>{(a[Ie(o.source)]||a[Ie(o.target)])&&i.mod.push(o)})),i}});const PU={binary:KMe,dice:wx,slice:YE,slicedice:QMe,squarify:Yie,resquarify:JMe},HM=["x0","y0","x1","y1","depth","children"];function L4(e){Au.call(this,e)}L4.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:HM.length,default:HM}]};xe(L4,Au,{layout(){const e=YMe();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{ke(PU,t)?e.tile(PU[t]):ee("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:HM});const aje=Object.freeze(Object.defineProperty({__proto__:null,nest:T4,pack:N4,partition:M4,stratify:j4,tree:D4,treelinks:F4,treemap:L4},Symbol.toStringTag,{value:"Module"})),qP=4278190080;function oje(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function sje(e,t,n,r,i){const a=e.width,o=e.height,s=r||i,l=Oc(a,o).getContext("2d"),u=Oc(a,o).getContext("2d"),c=s&&Oc(a,o).getContext("2d");n.forEach(P=>cw(l,P,!1)),cw(u,t,!1),s&&cw(c,t,!0);const f=HP(l,a,o),d=HP(u,a,o),p=s&&HP(c,a,o),m=e.bitmap(),g=s&&e.bitmap();let v,x,b,S,k,A,E,C;for(x=0;x<o;++x)for(v=0;v<a;++v)k=x*a+v,A=f[k]&qP,C=d[k]&qP,E=s&&p[k]&qP,(A||E||C)&&(b=e(v),S=e(x),!i&&(A||C)&&m.set(b,S),s&&(A||E)&&g.set(b,S));return[m,g]}function HP(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function cw(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(a=>cw(e,a.items,n))}):Pa[r].draw(e,{items:n?t.map(lje):t})}function lje(e){const t=sE(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const $l=5,ai=31,Zv=32,Ku=new Uint32Array(Zv+1),Io=new Uint32Array(Zv+1);Io[0]=0;Ku[0]=~Io[0];for(let e=1;e<=Zv;++e)Io[e]=Io[e-1]<<1|1,Ku[e]=~Io[e];function uje(e,t){const n=new Uint32Array(~~((e*t+Zv)/Zv));function r(a,o){n[a]|=o}function i(a,o){n[a]&=o}return{array:n,get:(a,o)=>{const s=o*e+a;return n[s>>>$l]&1<<(s&ai)},set:(a,o)=>{const s=o*e+a;r(s>>>$l,1<<(s&ai))},clear:(a,o)=>{const s=o*e+a;i(s>>>$l,~(1<<(s&ai)))},getRange:(a,o,s,l)=>{let u=l,c,f,d,p;for(;u>=o;--u)if(c=u*e+a,f=u*e+s,d=c>>>$l,p=f>>>$l,d===p){if(n[d]&Ku[c&ai]&Io[(f&ai)+1])return!0}else{if(n[d]&Ku[c&ai]||n[p]&Io[(f&ai)+1])return!0;for(let m=d+1;m<p;++m)if(n[m])return!0}return!1},setRange:(a,o,s,l)=>{let u,c,f,d,p;for(;o<=l;++o)if(u=o*e+a,c=o*e+s,f=u>>>$l,d=c>>>$l,f===d)r(f,Ku[u&ai]&Io[(c&ai)+1]);else for(r(f,Ku[u&ai]),r(d,Io[(c&ai)+1]),p=f+1;p<d;++p)r(p,4294967295)},clearRange:(a,o,s,l)=>{let u,c,f,d,p;for(;o<=l;++o)if(u=o*e+a,c=o*e+s,f=u>>>$l,d=c>>>$l,f===d)i(f,Io[u&ai]|Ku[(c&ai)+1]);else for(i(f,Io[u&ai]),i(d,Ku[(c&ai)+1]),p=f+1;p<d;++p)i(p,0)},outOfBounds:(a,o,s,l)=>a<0||o<0||l>=t||s>=e}}function cje(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),a=~~((t+2*n+r)/r),o=s=>~~((s+n)/r);return o.invert=s=>s*r-n,o.bitmap=()=>uje(i,a),o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function fje(e,t,n,r){const i=e.width,a=e.height;return function(o){const s=o.datum.datum.items[r].items,l=s.length,u=o.datum.fontSize,c=_a.width(o.datum,o.datum.text);let f=0,d,p,m,g,v,x,b;for(let S=0;S<l;++S)d=s[S].x,m=s[S].y,p=s[S].x2===void 0?d:s[S].x2,g=s[S].y2===void 0?m:s[S].y2,v=(d+p)/2,x=(m+g)/2,b=Math.abs(p-d+g-m),b>=f&&(f=b,o.x=v,o.y=x);return v=c/2,x=u/2,d=o.x-v,p=o.x+v,m=o.y-x,g=o.y+x,o.align="center",d<0&&p<=i?o.align="left":0<=d&&i<p&&(o.align="right"),o.baseline="middle",m<0&&g<=a?o.baseline="top":0<=m&&a<g&&(o.baseline="bottom"),!0}}function uS(e,t,n,r,i,a){let o=n/2;return e-o<0||e+o>i||t-(o=r/2)<0||t+o>a}function hc(e,t,n,r,i,a,o,s){const l=i*a/(r*2),u=e(t-l),c=e(t+l),f=e(n-(a=a/2)),d=e(n+a);return o.outOfBounds(u,f,c,d)||o.getRange(u,f,c,d)||s&&s.getRange(u,f,c,d)}function dje(e,t,n,r){const i=e.width,a=e.height,o=t[0],s=t[1];function l(u,c,f,d,p){const m=e.invert(u),g=e.invert(c);let v=f,x=a,b;if(!uS(m,g,d,p,i,a)&&!hc(e,m,g,p,d,v,o,s)&&!hc(e,m,g,p,d,p,o,null)){for(;x-v>=1;)b=(v+x)/2,hc(e,m,g,p,d,b,o,s)?x=b:v=b;if(v>f)return[m,g,v,!0]}}return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,p=_a.width(u.datum,u.datum.text);let m=n?d:0,g=!1,v=!1,x=0,b,S,k,A,E,C,P,T,j,D,F,W,R,N,z,q,B;for(let G=0;G<f;++G){for(b=c[G].x,k=c[G].y,S=c[G].x2===void 0?b:c[G].x2,A=c[G].y2===void 0?k:c[G].y2,b>S&&(B=b,b=S,S=B),k>A&&(B=k,k=A,A=B),j=e(b),F=e(S),D=~~((j+F)/2),W=e(k),N=e(A),R=~~((W+N)/2),P=D;P>=j;--P)for(T=R;T>=W;--T)q=l(P,T,m,p,d),q&&([u.x,u.y,m,g]=q);for(P=D;P<=F;++P)for(T=R;T<=N;++T)q=l(P,T,m,p,d),q&&([u.x,u.y,m,g]=q);!g&&!n&&(z=Math.abs(S-b+A-k),E=(b+S)/2,C=(k+A)/2,z>=x&&!uS(E,C,p,d,i,a)&&!hc(e,E,C,d,p,d,o,null)&&(x=z,u.x=E,u.y=C,v=!0))}return g||v?(E=p/2,C=d/2,o.setRange(e(u.x-E),e(u.y-C),e(u.x+E),e(u.y+C)),u.align="center",u.baseline="middle",!0):!1}}const hje=[-1,-1,1,1],pje=[-1,1,-1,1];function mje(e,t,n,r){const i=e.width,a=e.height,o=t[0],s=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,f=c.length,d=u.datum.fontSize,p=_a.width(u.datum,u.datum.text),m=[];let g=n?d:0,v=!1,x=!1,b=0,S,k,A,E,C,P,T,j,D,F,W,R;for(let N=0;N<f;++N){for(S=c[N].x,A=c[N].y,k=c[N].x2===void 0?S:c[N].x2,E=c[N].y2===void 0?A:c[N].y2,m.push([e((S+k)/2),e((A+E)/2)]);m.length;)if([T,j]=m.pop(),!(o.get(T,j)||s.get(T,j)||l.get(T,j))){l.set(T,j);for(let z=0;z<4;++z)C=T+hje[z],P=j+pje[z],l.outOfBounds(C,P,C,P)||m.push([C,P]);if(C=e.invert(T),P=e.invert(j),D=g,F=a,!uS(C,P,p,d,i,a)&&!hc(e,C,P,d,p,D,o,s)&&!hc(e,C,P,d,p,d,o,null)){for(;F-D>=1;)W=(D+F)/2,hc(e,C,P,d,p,W,o,s)?F=W:D=W;D>g&&(u.x=C,u.y=P,g=D,v=!0)}}!v&&!n&&(R=Math.abs(k-S+E-A),C=(S+k)/2,P=(A+E)/2,R>=b&&!uS(C,P,p,d,i,a)&&!hc(e,C,P,d,p,d,o,null)&&(b=R,u.x=C,u.y=P,x=!0))}return v||x?(C=p/2,P=d/2,o.setRange(e(u.x-C),e(u.y-P),e(u.x+C),e(u.y+P)),u.align="center",u.baseline="middle",!0):!1}}const gje=["right","center","left"],yje=["bottom","middle","top"];function vje(e,t,n,r){const i=e.width,a=e.height,o=t[0],s=t[1],l=r.length;return function(u){const c=u.boundary,f=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>a)return!1;let d=u.textWidth??0,p,m,g,v,x,b,S,k,A,E,C,P,T,j,D;for(let F=0;F<l;++F){if(p=(n[F]&3)-1,m=(n[F]>>>2&3)-1,g=p===0&&m===0||r[F]<0,v=p&&m?Math.SQRT1_2:1,x=r[F]<0?-1:1,b=c[1+p]+r[F]*p*v,C=c[4+m]+x*f*m/2+r[F]*m*v,k=C-f/2,A=C+f/2,P=e(b),j=e(k),D=e(A),!d)if($U(P,P,j,D,o,s,b,b,k,A,c,g))d=_a.width(u.datum,u.datum.text);else continue;if(E=b+x*d*p/2,b=E-d/2,S=E+d/2,P=e(b),T=e(S),$U(P,T,j,D,o,s,b,S,k,A,c,g))return u.x=p?p*x<0?S:b:E,u.y=m?m*x<0?A:k:C,u.align=gje[p*x+1],u.baseline=yje[m*x+1],o.setRange(P,j,T,D),!0}return!1}}function $U(e,t,n,r,i,a,o,s,l,u,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&a||i).getRange(e,n,t,r))}const GP=0,VP=4,XP=8,ZP=0,YP=1,KP=2,xje={"top-left":GP+ZP,top:GP+YP,"top-right":GP+KP,left:VP+ZP,middle:VP+YP,right:VP+KP,"bottom-left":XP+ZP,bottom:XP+YP,"bottom-right":XP+KP},bje={naive:fje,"reduced-search":dje,floodfill:mje};function _je(e,t,n,r,i,a,o,s,l,u,c){if(!e.length)return e;const f=Math.max(r.length,i.length),d=wje(r,f),p=Sje(i,f),m=Aje(e[0].datum),g=m==="group"&&e[0].datum.items[l].marktype,v=g==="area",x=Eje(m,g,s,l),b=u===null||u===1/0,S=v&&c==="naive";let k=-1,A=-1;const E=e.map(j=>{const D=b?_a.width(j,j.text):void 0;return k=Math.max(k,D),A=Math.max(A,j.fontSize),{datum:j,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:x(j),textWidth:D}});u=u===null||u===1/0?Math.max(k,A)+Math.max(...r):u;const C=cje(t[0],t[1],u);let P;if(!S){n&&E.sort((F,W)=>n(F.datum,W.datum));let j=!1;for(let F=0;F<p.length&&!j;++F)j=p[F]===5||d[F]<0;const D=(m&&o||v)&&e.map(F=>F.datum);P=a.length||D?sje(C,D||[],a,j,v):oje(C,o&&E)}const T=v?bje[c](C,P,o,l):vje(C,P,p,d);return E.forEach(j=>j.opacity=+T(j)),E}function wje(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function Sje(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=xje[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function Aje(e){return e&&e.mark&&e.mark.marktype}function Eje(e,t,n,r){const i=a=>[a.x,a.x,a.x,a.y,a.y,a.y];return e?e==="line"||e==="area"?a=>i(a.datum):t==="line"?a=>{const o=a.datum.items[r].items;return i(o.length?o[n==="start"?0:o.length-1]:{x:NaN,y:NaN})}:a=>{const o=a.datum.bounds;return[o.x1,(o.x1+o.x2)/2,o.x2,o.y1,(o.y1+o.y2)/2,o.y2]}:i}const GM=["x","y","opacity","align","baseline"],Kie=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function I4(e){J.call(this,null,e)}I4.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Kie},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:GM.length,default:GM}]};xe(I4,J,{transform(e,t){function n(a){const o=e[a];return et(o)&&t.modified(o.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&ee("Size parameter should be specified as a [width, height] array.");const i=e.as||GM;return _je(t.materialize(t.SOURCE).source||[],e.size,e.sort,Ee(e.offset==null?1:e.offset),Ee(e.anchor||Kie),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(a=>{const o=a.datum;o[i[0]]=a.x,o[i[1]]=a.y,o[i[2]]=a.opacity,o[i[3]]=a.align,o[i[4]]=a.baseline}),t.reflow(r).modifies(i)}});const kje=Object.freeze(Object.defineProperty({__proto__:null,label:I4},Symbol.toStringTag,{value:"Module"}));function Qie(e,t){var n=[],r=function(c){return c(s)},i,a,o,s,l,u;if(t==null)n.push(e);else for(i={},a=0,o=e.length;a<o;++a)s=e[a],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(s);return n}function R4(e){J.call(this,null,e)}R4.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};xe(R4,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=Qie(r,e.groupby),a=(e.groupby||[]).map(kn),o=a.length,s=e.as||[kn(e.x),kn(e.y)],l=[];i.forEach(u=>{tee(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<o;++d)f[a[d]]=u.dims[d];f[s[0]]=c[0],f[s[1]]=c[1],l.push(Pt(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const VM={constant:cL,linear:fL,log:KJ,exp:QJ,pow:JJ,quad:dL,poly:eee},Cje=(e,t)=>e==="poly"?t:e==="quad"?2:1;function z4(e){J.call(this,null,e)}z4.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(VM)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};xe(z4,J,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=Qie(r,e.groupby),a=(e.groupby||[]).map(kn),o=e.method||"linear",s=e.order==null?3:e.order,l=Cje(o,s),u=e.as||[kn(e.x),kn(e.y)],c=VM[o],f=[];let d=e.extent;ke(VM,o)||ee("Invalid regression method: "+o),d!=null&&o==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(p=>{if(p.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=c(p,e.x,e.y,s);if(e.params){f.push(Pt({keys:p.dims,coef:g.coef,rSquared:g.rSquared}));return}const v=d||Ks(p,e.x),x=b=>{const S={};for(let k=0;k<a.length;++k)S[a[k]]=p.dims[k];S[u[0]]=b[0],S[u[1]]=b[1],f.push(Pt(S))};o==="linear"||o==="constant"?v.forEach(b=>x([b,g.predict(b)])):pE(g.predict,v,25,200).forEach(x)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const Oje=Object.freeze(Object.defineProperty({__proto__:null,loess:R4,regression:z4},Symbol.toStringTag,{value:"Module"})),tu=11102230246251565e-32,Lr=134217729,Pje=(3+8*tu)*tu;function QP(e,t,n,r,i){let a,o,s,l,u=t[0],c=r[0],f=0,d=0;c>u==c>-u?(a=u,u=t[++f]):(a=c,c=r[++d]);let p=0;if(f<e&&d<n)for(c>u==c>-u?(o=u+a,s=a-(o-u),u=t[++f]):(o=c+a,s=a-(o-c),c=r[++d]),a=o,s!==0&&(i[p++]=s);f<e&&d<n;)c>u==c>-u?(o=a+u,l=o-a,s=a-(o-l)+(u-l),u=t[++f]):(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=r[++d]),a=o,s!==0&&(i[p++]=s);for(;f<e;)o=a+u,l=o-a,s=a-(o-l)+(u-l),u=t[++f],a=o,s!==0&&(i[p++]=s);for(;d<n;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=r[++d],a=o,s!==0&&(i[p++]=s);return(a!==0||p===0)&&(i[p++]=a),p}function $je(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function Sx(e){return new Float64Array(e)}const Tje=(3+16*tu)*tu,Nje=(2+12*tu)*tu,Mje=(9+64*tu)*tu*tu,Zh=Sx(4),TU=Sx(8),NU=Sx(12),MU=Sx(16),oi=Sx(4);function jje(e,t,n,r,i,a,o){let s,l,u,c,f,d,p,m,g,v,x,b,S,k,A,E,C,P;const T=e-i,j=n-i,D=t-a,F=r-a;k=T*F,d=Lr*T,p=d-(d-T),m=T-p,d=Lr*F,g=d-(d-F),v=F-g,A=m*v-(k-p*g-m*g-p*v),E=D*j,d=Lr*D,p=d-(d-D),m=D-p,d=Lr*j,g=d-(d-j),v=j-g,C=m*v-(E-p*g-m*g-p*v),x=A-C,f=A-x,Zh[0]=A-(x+f)+(f-C),b=k+x,f=b-k,S=k-(b-f)+(x-f),x=S-E,f=S-x,Zh[1]=S-(x+f)+(f-E),P=b+x,f=P-b,Zh[2]=b-(P-f)+(x-f),Zh[3]=P;let W=$je(4,Zh),R=Nje*o;if(W>=R||-W>=R||(f=e-T,s=e-(T+f)+(f-i),f=n-j,u=n-(j+f)+(f-i),f=t-D,l=t-(D+f)+(f-a),f=r-F,c=r-(F+f)+(f-a),s===0&&l===0&&u===0&&c===0)||(R=Mje*o+Pje*Math.abs(W),W+=T*c+F*s-(D*u+j*l),W>=R||-W>=R))return W;k=s*F,d=Lr*s,p=d-(d-s),m=s-p,d=Lr*F,g=d-(d-F),v=F-g,A=m*v-(k-p*g-m*g-p*v),E=l*j,d=Lr*l,p=d-(d-l),m=l-p,d=Lr*j,g=d-(d-j),v=j-g,C=m*v-(E-p*g-m*g-p*v),x=A-C,f=A-x,oi[0]=A-(x+f)+(f-C),b=k+x,f=b-k,S=k-(b-f)+(x-f),x=S-E,f=S-x,oi[1]=S-(x+f)+(f-E),P=b+x,f=P-b,oi[2]=b-(P-f)+(x-f),oi[3]=P;const N=QP(4,Zh,4,oi,TU);k=T*c,d=Lr*T,p=d-(d-T),m=T-p,d=Lr*c,g=d-(d-c),v=c-g,A=m*v-(k-p*g-m*g-p*v),E=D*u,d=Lr*D,p=d-(d-D),m=D-p,d=Lr*u,g=d-(d-u),v=u-g,C=m*v-(E-p*g-m*g-p*v),x=A-C,f=A-x,oi[0]=A-(x+f)+(f-C),b=k+x,f=b-k,S=k-(b-f)+(x-f),x=S-E,f=S-x,oi[1]=S-(x+f)+(f-E),P=b+x,f=P-b,oi[2]=b-(P-f)+(x-f),oi[3]=P;const z=QP(N,TU,4,oi,NU);k=s*c,d=Lr*s,p=d-(d-s),m=s-p,d=Lr*c,g=d-(d-c),v=c-g,A=m*v-(k-p*g-m*g-p*v),E=l*u,d=Lr*l,p=d-(d-l),m=l-p,d=Lr*u,g=d-(d-u),v=u-g,C=m*v-(E-p*g-m*g-p*v),x=A-C,f=A-x,oi[0]=A-(x+f)+(f-C),b=k+x,f=b-k,S=k-(b-f)+(x-f),x=S-E,f=S-x,oi[1]=S-(x+f)+(f-E),P=b+x,f=P-b,oi[2]=b-(P-f)+(x-f),oi[3]=P;const q=QP(z,NU,4,oi,MU);return MU[q-1]}function i_(e,t,n,r,i,a){const o=(t-a)*(n-i),s=(e-i)*(r-a),l=o-s,u=Math.abs(o+s);return Math.abs(l)>=Tje*u?l:-jje(e,t,n,r,i,a,u)}const jU=Math.pow(2,-52),a_=new Uint32Array(512);class cS{static from(t,n=Rje,r=zje){const i=t.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const s=t[o];a[2*o]=n(s),a[2*o+1]=r(s)}return new cS(a)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=t.length>>1;let s=1/0,l=1/0,u=-1/0,c=-1/0;for(let T=0;T<o;T++){const j=t[2*T],D=t[2*T+1];j<s&&(s=j),D<l&&(l=D),j>u&&(u=j),D>c&&(c=D),this._ids[T]=T}const f=(s+u)/2,d=(l+c)/2;let p,m,g;for(let T=0,j=1/0;T<o;T++){const D=JP(f,d,t[2*T],t[2*T+1]);D<j&&(p=T,j=D)}const v=t[2*p],x=t[2*p+1];for(let T=0,j=1/0;T<o;T++){if(T===p)continue;const D=JP(v,x,t[2*T],t[2*T+1]);D<j&&D>0&&(m=T,j=D)}let b=t[2*m],S=t[2*m+1],k=1/0;for(let T=0;T<o;T++){if(T===p||T===m)continue;const j=Lje(v,x,b,S,t[2*T],t[2*T+1]);j<k&&(g=T,k=j)}let A=t[2*g],E=t[2*g+1];if(k===1/0){for(let D=0;D<o;D++)this._dists[D]=t[2*D]-t[0]||t[2*D+1]-t[1];Ep(this._ids,this._dists,0,o-1);const T=new Uint32Array(o);let j=0;for(let D=0,F=-1/0;D<o;D++){const W=this._ids[D],R=this._dists[W];R>F&&(T[j++]=W,F=R)}this.hull=T.subarray(0,j),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(i_(v,x,b,S,A,E)<0){const T=m,j=b,D=S;m=g,b=A,S=E,g=T,A=j,E=D}const C=Ije(v,x,b,S,A,E);this._cx=C.x,this._cy=C.y;for(let T=0;T<o;T++)this._dists[T]=JP(t[2*T],t[2*T+1],C.x,C.y);Ep(this._ids,this._dists,0,o-1),this._hullStart=p;let P=3;r[p]=n[g]=m,r[m]=n[p]=g,r[g]=n[m]=p,i[p]=0,i[m]=1,i[g]=2,a.fill(-1),a[this._hashKey(v,x)]=p,a[this._hashKey(b,S)]=m,a[this._hashKey(A,E)]=g,this.trianglesLen=0,this._addTriangle(p,m,g,-1,-1,-1);for(let T=0,j,D;T<this._ids.length;T++){const F=this._ids[T],W=t[2*F],R=t[2*F+1];if(T>0&&Math.abs(W-j)<=jU&&Math.abs(R-D)<=jU||(j=W,D=R,F===p||F===m||F===g))continue;let N=0;for(let M=0,K=this._hashKey(W,R);M<this._hashSize&&(N=a[(K+M)%this._hashSize],!(N!==-1&&N!==r[N]));M++);N=n[N];let z=N,q;for(;q=r[z],i_(W,R,t[2*z],t[2*z+1],t[2*q],t[2*q+1])>=0;)if(z=q,z===N){z=-1;break}if(z===-1)continue;let B=this._addTriangle(z,F,r[z],-1,-1,i[z]);i[F]=this._legalize(B+2),i[z]=B,P++;let G=r[z];for(;q=r[G],i_(W,R,t[2*G],t[2*G+1],t[2*q],t[2*q+1])<0;)B=this._addTriangle(G,F,q,i[F],-1,i[G]),i[F]=this._legalize(B+2),r[G]=G,P--,G=q;if(z===N)for(;q=n[z],i_(W,R,t[2*q],t[2*q+1],t[2*z],t[2*z+1])<0;)B=this._addTriangle(q,F,z,-1,i[z],i[q]),this._legalize(B+2),i[q]=B,r[z]=z,P--,z=q;this._hullStart=n[F]=z,r[z]=n[G]=F,r[F]=G,a[this._hashKey(W,R)]=F,a[this._hashKey(t[2*z],t[2*z+1])]=z}this.hull=new Uint32Array(P);for(let T=0,j=this._hullStart;T<P;T++)this.hull[T]=j,j=r[j];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(Dje(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const s=r[t],l=t-t%3;if(o=l+(t+2)%3,s===-1){if(a===0)break;t=a_[--a];continue}const u=s-s%3,c=l+(t+1)%3,f=u+(s+2)%3,d=n[o],p=n[t],m=n[c],g=n[f];if(Fje(i[2*d],i[2*d+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1],i[2*g],i[2*g+1])){n[t]=g,n[s]=d;const x=r[f];if(x===-1){let S=this._hullStart;do{if(this._hullTri[S]===f){this._hullTri[S]=t;break}S=this._hullPrev[S]}while(S!==this._hullStart)}this._link(t,x),this._link(s,r[o]),this._link(o,f);const b=u+(s+1)%3;a<a_.length&&(a_[a++]=b)}else{if(a===0)break;t=a_[--a]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,a,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,a),this._link(s+2,o),this.trianglesLen+=3,s}}function Dje(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function JP(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function Fje(e,t,n,r,i,a,o,s){const l=e-o,u=t-s,c=n-o,f=r-s,d=i-o,p=a-s,m=l*l+u*u,g=c*c+f*f,v=d*d+p*p;return l*(f*v-g*p)-u*(c*v-g*d)+m*(c*p-f*d)<0}function Lje(e,t,n,r,i,a){const o=n-e,s=r-t,l=i-e,u=a-t,c=o*o+s*s,f=l*l+u*u,d=.5/(o*u-s*l),p=(u*c-s*f)*d,m=(o*f-l*c)*d;return p*p+m*m}function Ije(e,t,n,r,i,a){const o=n-e,s=r-t,l=i-e,u=a-t,c=o*o+s*s,f=l*l+u*u,d=.5/(o*u-s*l),p=e+(u*c-s*f)*d,m=t+(o*f-l*c)*d;return{x:p,y:m}}function Ep(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=e[i],o=t[a];let s=i-1;for(;s>=n&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=a}else{const i=n+r>>1;let a=n+1,o=r;L0(e,i,a),t[e[n]]>t[e[r]]&&L0(e,n,r),t[e[a]]>t[e[r]]&&L0(e,a,r),t[e[n]]>t[e[a]]&&L0(e,n,a);const s=e[a],l=t[s];for(;;){do a++;while(t[e[a]]<l);do o--;while(t[e[o]]>l);if(o<a)break;L0(e,a,o)}e[n+1]=e[o],e[o]=s,r-a+1>=o-n?(Ep(e,t,a,r),Ep(e,t,n,o-1)):(Ep(e,t,n,o-1),Ep(e,t,a,r))}}function L0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Rje(e){return e[0]}function zje(e){return e[1]}const DU=1e-6;class td{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>DU||Math.abs(this._y1-a)>DU)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}let XM=class{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}},Bje=class{constructor(t,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let a,o;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,v=0,x=r.length,b,S;g<x;g+=3,v+=2){const k=r[g]*2,A=r[g+1]*2,E=r[g+2]*2,C=t[k],P=t[k+1],T=t[A],j=t[A+1],D=t[E],F=t[E+1],W=T-C,R=j-P,N=D-C,z=F-P,q=(W*z-R*N)*2;if(Math.abs(q)<1e-9){if(a===void 0){a=o=0;for(const G of n)a+=t[G*2],o+=t[G*2+1];a/=n.length,o/=n.length}const B=1e9*Math.sign((a-C)*z-(o-P)*N);b=(C+D)/2-B*z,S=(P+F)/2+B*N}else{const B=1/q,G=W*W+R*R,M=N*N+z*z;b=C+(z*G-R*M)*B,S=P+(W*M-N*G)*B}s[v]=b,s[v+1]=S}let l=n[n.length-1],u,c=l*4,f,d=t[2*l],p,m=t[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],u=c,f=d,p=m,c=l*4,d=t[2*l],m=t[2*l+1],i[u+2]=i[c]=p-m,i[u+3]=i[c+1]=d-f}render(t){const n=t==null?t=new td:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:s}=this;if(a.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const p=Math.floor(c/3)*2,m=Math.floor(d/3)*2,g=o[p],v=o[p+1],x=o[m],b=o[m+1];this._renderSegment(g,v,x,b,t)}let l,u=a[a.length-1];for(let c=0;c<a.length;++c){l=u,u=a[c];const f=Math.floor(i[u]/3)*2,d=o[f],p=o[f+1],m=l*4,g=this._project(d,p,s[m+2],s[m+3]);g&&this._renderSegment(d,p,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new td:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new td:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new XM;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,a){let o;const s=this._regioncode(t,n),l=this._regioncode(r,i);s===0&&l===0?(a.moveTo(t,n),a.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,s,l))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let a=0,o=n.length;a<o;a+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[a]===i[s]&&n[a+1]===i[s+1]&&n[(a+2)%o]===i[(s+l-2)%l]&&n[(a+3)%o]===i[(s+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[t];if(o===-1)return null;const s=[];let l=o;do{const u=Math.floor(l/3);if(s.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,a[l]!==t)break;l=i[l]}while(l!==o&&l!==-1);return s}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,a,o,s=n[r-2],l=n[r-1],u,c=this._regioncode(s,l),f,d=0;for(let p=0;p<r;p+=2)if(a=s,o=l,s=n[p],l=n[p+1],u=c,c=this._regioncode(s,l),u===0&&c===0)f=d,d=0,i?i.push(s,l):i=[s,l];else{let m,g,v,x,b;if(u===0){if((m=this._clipSegment(a,o,s,l,u,c))===null)continue;[g,v,x,b]=m}else{if((m=this._clipSegment(s,l,a,o,c,u))===null)continue;[x,b,g,v]=m,f=d,d=this._edgecode(g,v),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(g,v):i=[g,v]}f=d,d=this._edgecode(x,b),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(x,b):i=[x,b]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,a,o){const s=a<o;for(s&&([t,n,r,i,a,o]=[r,i,t,n,o,a]);;){if(a===0&&o===0)return s?[r,i,t,n]:[t,n,r,i];if(a&o)return null;let l,u,c=a||o;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),a?(t=l,n=u,a=this._regioncode(t,n)):(r=l,i=u,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,a,o){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],a,o))&&s.push(l[0],l[1]),s=this._clipFinite(t,s))for(let u=0,c=s.length,f,d=this._edgecode(s[c-2],s[c-1]);u<c;u+=2)f=d,d=this._edgecode(s[u],s[u+1]),f&&d&&(u=this._edge(t,f,d,s,u),c=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,n,r,i,a){for(;n!==r;){let o,s;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,s=this.ymin;break}(i[a]!==o||i[a+1]!==s)&&this.contains(t,o,s)&&(i.splice(a,0,o,s),a+=2)}return a}_project(t,n,r,i){let a=1/0,o,s,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<a&&(l=this.ymin,s=t+(a=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<a&&(l=this.ymax,s=t+(a=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<a&&(s=this.xmax,l=n+(a=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<a&&(s=this.xmin,l=n+(a=o)*i)}return[s,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const Uje=2*Math.PI,Yh=Math.pow;function Wje(e){return e[0]}function qje(e){return e[1]}function Hje(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function Gje(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class B4{static from(t,n=Wje,r=qje,i){return new B4("length"in t?Vje(t,n,r,i):Float64Array.from(Xje(t,n,r,i)))}constructor(t){this._delaunator=new cS(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&Hje(t)){this.collinear=Int32Array.from({length:n.length/2},(d,p)=>p).sort((d,p)=>n[2*d]-n[2*p]||n[2*d+1]-n[2*p+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,p=n.length/2;d<p;++d){const m=Gje(n[2*d],n[2*d+1],f);n[2*d]=m[0],n[2*d+1]=m[1]}this._delaunator=new cS(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=a[l%3===2?l-2:l+1];(r[l]===-1||o[c]===-1)&&(o[c]=l)}for(let l=0,u=i.length;l<u;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new Bje(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:s}=this;if(s){const f=s.indexOf(t);f>0&&(yield s[f-1]),f<s.length-1&&(yield s[f+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=o[u],u=u%3===2?u-2:u+1,o[u]!==t)return;if(u=a[u],u===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,t,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(t,n,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:s,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,f=Yh(n-u[t*2],2)+Yh(r-u[t*2+1],2);const d=i[t];let p=d;do{let m=l[p];const g=Yh(n-u[m*2],2)+Yh(r-u[m*2+1],2);if(g<f&&(f=g,c=m),p=p%3===2?p-2:p+1,l[p]!==t)break;if(p=s[p],p===-1){if(p=a[(o[t]+1)%a.length],p!==m&&Yh(n-u[p*2],2)+Yh(r-u[p*2+1],2)<f)return p;break}}while(p!==d);return c}render(t){const n=t==null?t=new td:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,s=i.length;o<s;++o){const l=i[o];if(l<o)continue;const u=a[o]*2,c=a[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new td:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const s=i[a],l=i[a+1];t.moveTo(s+n,l),t.arc(s,l,n,0,Uje)}return r&&r.value()}renderHull(t){const n=t==null?t=new td:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;t.moveTo(i[a],i[a+1]);for(let s=1;s<o;++s){const l=2*r[s];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new XM;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new td:void 0,{points:i,triangles:a}=this,o=a[t*=3]*2,s=a[t+1]*2,l=a[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new XM;return this.renderTriangle(t,n),n.value()}}function Vje(e,t,n,r){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const s=e[o];a[o*2]=t.call(r,s,o,e),a[o*2+1]=n.call(r,s,o,e)}return a}function*Xje(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}function U4(e){J.call(this,null,e)}U4.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const Zje=[-1e5,-1e5,1e5,1e5];xe(U4,J,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:Zje;const a=this.value=B4.from(r,e.x,e.y).voronoi(i);for(let o=0,s=r.length;o<s;++o){const l=a.cellPolygon(o);r[o][n]=l&&!Kje(l)?Yje(l):null}return t.reflow(e.modified()).modifies(n)}});function Yje(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function Kje(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const Qje=Object.freeze(Object.defineProperty({__proto__:null,voronoi:U4},Symbol.toStringTag,{value:"Module"}));var e$=Math.PI/180,Ay=64,fw=2048;function Jje(){var e=[256,256],t,n,r,i,a,o,s,l=Jie,u=[],c=Math.random,f={};f.layout=function(){for(var m=d(Oc()),g=a3e((e[0]>>5)*e[1]),v=null,x=u.length,b=-1,S=[],k=u.map(E=>({text:t(E),font:n(E),style:i(E),weight:a(E),rotate:o(E),size:~~(r(E)+1e-14),padding:s(E),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:E})).sort((E,C)=>C.size-E.size);++b<x;){var A=k[b];A.x=e[0]*(c()+.5)>>1,A.y=e[1]*(c()+.5)>>1,e3e(m,A,k,b),A.hasText&&p(g,A,v)&&(S.push(A),v?n3e(v,A):v=[{x:A.x+A.x0,y:A.y+A.y0},{x:A.x+A.x1,y:A.y+A.y1}],A.x-=e[0]>>1,A.y-=e[1]>>1)}return S};function d(m){m.width=m.height=1;var g=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=(Ay<<5)/g,m.height=fw/g;var v=m.getContext("2d");return v.fillStyle=v.strokeStyle="red",v.textAlign="center",{context:v,ratio:g}}function p(m,g,v){for(var x=g.x,b=g.y,S=Math.hypot(e[0],e[1]),k=l(e),A=c()<.5?1:-1,E=-A,C,P,T;(C=k(E+=A))&&(P=~~C[0],T=~~C[1],!(Math.min(Math.abs(P),Math.abs(T))>=S));)if(g.x=x+P,g.y=b+T,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!v||!t3e(g,m,e[0]))&&(!v||r3e(g,v))){for(var j=g.sprite,D=g.width>>5,F=e[0]>>5,W=g.x-(D<<4),R=W&127,N=32-R,z=g.y1-g.y0,q=(g.y+g.y0)*F+(W>>5),B,G=0;G<z;G++){B=0;for(var M=0;M<=D;M++)m[q+M]|=B<<N|(M<D?(B=j[G*D+M])>>>R:0);q+=F}return g.sprite=null,!0}return!1}return f.words=function(m){return arguments.length?(u=m,f):u},f.size=function(m){return arguments.length?(e=[+m[0],+m[1]],f):e},f.font=function(m){return arguments.length?(n=Sf(m),f):n},f.fontStyle=function(m){return arguments.length?(i=Sf(m),f):i},f.fontWeight=function(m){return arguments.length?(a=Sf(m),f):a},f.rotate=function(m){return arguments.length?(o=Sf(m),f):o},f.text=function(m){return arguments.length?(t=Sf(m),f):t},f.spiral=function(m){return arguments.length?(l=o3e[m]||m,f):l},f.fontSize=function(m){return arguments.length?(r=Sf(m),f):r},f.padding=function(m){return arguments.length?(s=Sf(m),f):s},f.random=function(m){return arguments.length?(c=m,f):c},f}function e3e(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(Ay<<5)/a,fw/a);var o=0,s=0,l=0,u=n.length,c,f,d,p,m;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,c=i.measureText(t.text+"m").width*a,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*e$),v=Math.cos(t.rotate*e$),x=c*v,b=c*g,S=d*v,k=d*g;c=Math.max(Math.abs(x+k),Math.abs(x-k))+31>>5<<5,d=~~Math.max(Math.abs(b+S),Math.abs(b-S))}else c=c+31>>5<<5;if(d>l&&(l=d),o+c>=Ay<<5&&(o=0,s+=l,l=0),s+d>=fw)break;i.translate((o+(c>>1))/a,(s+(d>>1))/a),t.rotate&&i.rotate(t.rotate*e$),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=d,t.xoff=o,t.yoff=s,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=c}for(var A=i.getImageData(0,0,(Ay<<5)/a,fw/a).data,E=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,p=0;p<d*f;p++)E[p]=0;if(o=t.xoff,o==null)return;s=t.yoff;var C=0,P=-1;for(m=0;m<d;m++){for(p=0;p<c;p++){var T=f*m+(p>>5),j=A[(s+m)*(Ay<<5)+(o+p)<<2]?1<<31-p%32:0;E[T]|=j,C|=j}C?P=m:(t.y0++,d--,m--,s++)}t.y1=t.y0+P,t.sprite=E.slice(0,(t.y1-t.y0)*f)}}}function t3e(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,a=e.x-(i<<4),o=a&127,s=32-o,l=e.y1-e.y0,u=(e.y+e.y0)*n+(a>>5),c,f=0;f<l;f++){c=0;for(var d=0;d<=i;d++)if((c<<s|(d<i?(c=r[f*i+d])>>>o:0))&t[u+d])return!0;u+=n}return!1}function n3e(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function r3e(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function Jie(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function i3e(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function a3e(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Sf(e){return typeof e=="function"?e:function(){return e}}var o3e={archimedean:Jie,rectangular:i3e};const eae=["x","y","font","fontSize","fontStyle","fontWeight","angle"],s3e=["text","font","rotate","fontSize","fontStyle","fontWeight"];function W4(e){J.call(this,Jje(),e)}W4.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:eae}]};xe(W4,J,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&ee("Wordcloud size dimensions must be non-zero.");function n(m){const g=e[m];return et(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||s3e.some(n)))return;const i=t.materialize(t.SOURCE).source,a=this.value,o=e.as||eae;let s=e.fontSize||14,l;if(et(s)?l=e.fontSizeRange:s=ti(s),l){const m=s,g=Et("sqrt")().domain(Ks(i,m)).range(l);s=v=>g(m(v))}i.forEach(m=>{m[o[0]]=NaN,m[o[1]]=NaN,m[o[3]]=0});const u=a.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(s).random(co).layout(),c=a.size(),f=c[0]>>1,d=c[1]>>1,p=u.length;for(let m=0,g,v;m<p;++m)g=u[m],v=g.datum,v[o[0]]=g.x+f,v[o[1]]=g.y+d,v[o[2]]=g.font,v[o[3]]=g.size,v[o[4]]=g.style,v[o[5]]=g.weight,v[o[6]]=g.rotate;return t.reflow(r).modifies(o)}});const l3e=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:W4},Symbol.toStringTag,{value:"Module"})),u3e=e=>new Uint8Array(e),c3e=e=>new Uint16Array(e),ev=e=>new Uint32Array(e);function f3e(){let e=8,t=[],n=ev(0),r=o_(0,e),i=o_(0,e);return{data:()=>t,seen:()=>n=d3e(n,t.length),add(a){for(let o=0,s=t.length,l=a.length,u;o<l;++o)u=a[o],u._index=s++,t.push(u)},remove(a,o){const s=t.length,l=Array(s-a),u=t;let c,f,d;for(f=0;!o[f]&&f<s;++f)l[f]=t[f],u[f]=f;for(d=f;f<s;++f)c=t[f],o[f]?u[f]=-1:(u[f]=d,r[d]=r[f],i[d]=i[f],l[d]=c,c._index=d++),r[f]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:a=>i[a]=r[a],all:()=>e<257?255:e<65537?65535:4294967295,set(a,o){r[a]|=o},clear(a,o){r[a]&=~o},resize(a,o){const s=r.length;(a>s||o>e)&&(e=Math.max(o,e),r=o_(a,e,r),i=o_(a,e))}}}function d3e(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function o_(e,t,n){const r=(t<257?u3e:t<65537?c3e:ev)(e);return n&&r.set(n),r}function FU(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,a){const o=this,s=o.bisect(o.range,i.value),l=i.index,u=s[0],c=s[1],f=l.length;let d;for(d=0;d<u;++d)a[l[d]]|=r;for(d=c;d<f;++d)a[l[d]]|=r;return o}}}function LU(){let e=ev(0),t=[],n=0;function r(s,l,u){if(!l.length)return[];const c=n,f=l.length,d=ev(f);let p=Array(f),m,g,v;for(v=0;v<f;++v)p[v]=s(l[v]),d[v]=v;if(p=h3e(p,d),c)m=t,g=e,t=Array(c+f),e=ev(c+f),p3e(u,m,g,c,p,d,f,t,e);else{if(u>0)for(v=0;v<f;++v)d[v]+=u;t=p,e=d}return n=c+f,{index:d,value:p}}function i(s,l){const u=n;let c,f,d;for(f=0;!l[e[f]]&&f<u;++f);for(d=f;f<u;++f)l[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=u-s}function a(s){for(let l=0,u=n;l<u;++l)e[l]=s[e[l]]}function o(s,l){let u;return l?u=l.length:(l=t,u=n),[g_e(l,s[0],0,u),pu(l,s[1],0,u)]}return{insert:r,remove:i,bisect:o,reindex:a,index:()=>e,size:()=>n}}function h3e(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],a=e[r];return i<a?-1:i>a?1:0}),x_e(e,t)}function p3e(e,t,n,r,i,a,o,s,l){let u=0,c=0,f;for(f=0;u<r&&c<o;++f)t[u]<i[c]?(s[f]=t[u],l[f]=n[u++]):(s[f]=i[c],l[f]=a[c++]+e);for(;u<r;++u,++f)s[f]=t[u],l[f]=n[u];for(;c<o;++c,++f)s[f]=i[c],l[f]=a[c]+e}function q4(e){J.call(this,f3e(),e),this._indices=null,this._dims=null}q4.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};xe(q4,J,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},a=this._dims=[],o=r.length;let s=0,l,u;for(;s<o;++s)l=n[s].fname,u=i[l]||(i[l]=LU()),a.push(FU(u,s,r[s]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,a=this._indices,o=this._dims,s=this.value,l=s.curr(),u=s.prev(),c=s.all(),f=n.rem=n.add,d=n.mod,p=i.length,m={};let g,v,x,b,S,k,A,E,C;if(u.set(l),t.rem.length&&(S=this.remove(e,t,n)),t.add.length&&s.add(t.add),t.mod.length)for(k={},b=t.mod,A=0,E=b.length;A<E;++A)k[b[A]._index]=1;for(A=0;A<p;++A)C=r[A],(!o[A]||e.modified("fields",A)||t.modified(C.fields))&&(x=C.fname,(g=m[x])||(a[x]=v=LU(),m[x]=g=v.insert(C,t.source,0)),o[A]=FU(v,A,i[A]).onAdd(g,l));for(A=0,E=s.data().length;A<E;++A)S[A]||(u[A]!==l[A]?f.push(A):k[A]&&l[A]!==c&&d.push(A));return s.mask=(1<<p)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,a=this._dims,o=this._indices,s=e.fields,l={},u=n.add,c=i.size()+r.length,f=a.length;let d=i.size(),p,m,g;i.resize(c,f),i.add(r);const v=i.curr(),x=i.prev(),b=i.all();for(p=0;p<f;++p)m=s[p].fname,g=l[m]||(l[m]=o[m].insert(s[p],r,d)),a[p].onAdd(g,v);for(;d<c;++d)x[d]=b,v[d]!==b&&u.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),a=r.all(),o=e.mod;let s,l,u;for(s=0,l=o.length;s<l;++s)u=o[s]._index,i[u]!==a&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,a=i.curr(),o=i.prev(),s=i.all(),l={},u=n.rem,c=t.rem;let f,d,p,m;for(f=0,d=c.length;f<d;++f)p=c[f]._index,l[p]=1,o[p]=m=a[p],a[p]=s,m!==s&&u.push(p);for(p in r)r[p].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const a=i.remove(t,n);for(const o in r)r[o].reindex(a)})},update(e,t,n){const r=this._dims,i=e.query,a=t.stamp,o=r.length;let s=0,l,u;for(n.filters=0,u=0;u<o;++u)e.modified("query",u)&&(l=u,++s);if(s===1)s=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,s=0;u<o;++u)e.modified("query",u)&&(s|=r[u].one,this.incrementAll(r[u],i[u],a,n.add),n.rem=n.add);return s},incrementAll(e,t,n,r){const i=this.value,a=i.seen(),o=i.curr(),s=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],p=u[0],m=u[1],g=e.one;let v,x,b;if(f<p)for(v=f,x=Math.min(p,d);v<x;++v)b=l[v],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;else if(f>p)for(v=p,x=Math.min(f,m);v<x;++v)b=l[v],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;if(d>m)for(v=Math.max(f,m),x=d;v<x;++v)b=l[v],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;else if(d<m)for(v=Math.max(p,d),x=m;v<x;++v)b=l[v],a[b]!==n&&(s[b]=o[b],a[b]=n,r.push(b)),o[b]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,a=i.curr(),o=e.index(),s=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],f=s[0],d=s[1],p=e.one;let m,g,v;if(u<f)for(m=u,g=Math.min(f,c);m<g;++m)v=o[m],a[v]^=p,n.push(v);else if(u>f)for(m=f,g=Math.min(u,d);m<g;++m)v=o[m],a[v]^=p,r.push(v);if(c>d)for(m=Math.max(u,d),g=c;m<g;++m)v=o[m],a[v]^=p,n.push(v);else if(c<d)for(m=Math.max(f,c),g=d;m<g;++m)v=o[m],a[v]^=p,r.push(v);e.range=t.slice()}});function H4(e){J.call(this,null,e)}H4.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};xe(H4,J,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const a=t.fork(t.ALL),o=r.data(),s=r.curr(),l=r.prev(),u=c=>s[c]&n?null:o[c];return a.filter(a.MOD,u),i&i-1?(a.filter(a.ADD,c=>{const f=s[c]&n;return!f&&f^l[c]&n?o[c]:null}),a.filter(a.REM,c=>{const f=s[c]&n;return f&&!(f^(f^l[c]&n))?o[c]:null})):(a.filter(a.ADD,u),a.filter(a.REM,c=>(s[c]&n)===i?o[c]:null)),a.filter(a.SOURCE,c=>u(c._index))}});const m3e=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:q4,resolvefilter:H4},Symbol.toStringTag,{value:"Module"})),g3e="RawCode",jd="Literal",y3e="Property",v3e="Identifier",x3e="ArrayExpression",b3e="BinaryExpression",tae="CallExpression",_3e="ConditionalExpression",w3e="LogicalExpression",S3e="MemberExpression",A3e="ObjectExpression",E3e="UnaryExpression";function as(e){this.type=e}as.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=k3e(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function k3e(e){switch(e.type){case x3e:return e.elements;case b3e:case w3e:return[e.left,e.right];case tae:return[e.callee].concat(e.arguments);case _3e:return[e.test,e.consequent,e.alternate];case S3e:return[e.object,e.property];case A3e:return e.properties;case y3e:return[e.key,e.value];case E3e:return[e.argument];case v3e:case jd:case g3e:default:return[]}}var fl,Te,te,Zr,jt,KE=1,Ax=2,Dd=3,rf=4,QE=5,hh=6,ji=7,Ex=8,C3e=9;fl={};fl[KE]="Boolean";fl[Ax]="<end>";fl[Dd]="Identifier";fl[rf]="Keyword";fl[QE]="Null";fl[hh]="Numeric";fl[ji]="Punctuator";fl[Ex]="String";fl[C3e]="RegularExpression";var O3e="ArrayExpression",P3e="BinaryExpression",$3e="CallExpression",T3e="ConditionalExpression",nae="Identifier",N3e="Literal",M3e="LogicalExpression",j3e="MemberExpression",D3e="ObjectExpression",F3e="Property",L3e="UnaryExpression",sr="Unexpected token %0",I3e="Unexpected number",R3e="Unexpected string",z3e="Unexpected identifier",B3e="Unexpected reserved word",U3e="Unexpected end of input",ZM="Invalid regular expression",t$="Invalid regular expression: missing /",rae="Octal literals are not allowed in strict mode.",W3e="Duplicate data property in object literal not allowed in strict mode",kr="ILLEGAL",Yv="Disabled.",q3e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),H3e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function JE(e,t){if(!e)throw new Error("ASSERT: "+t)}function Rl(e){return e>=48&&e<=57}function G4(e){return"0123456789abcdefABCDEF".includes(e)}function tv(e){return"01234567".includes(e)}function G3e(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Kv(e){return e===10||e===13||e===8232||e===8233}function kx(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&q3e.test(String.fromCharCode(e))}function fS(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&H3e.test(String.fromCharCode(e))}const V3e={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function iae(){for(;te<Zr;){const e=Te.charCodeAt(te);if(G3e(e)||Kv(e))++te;else break}}function YM(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)te<Zr&&G4(Te[te])?(r=Te[te++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):_t({},sr,kr);return String.fromCharCode(i)}function X3e(){var e,t,n,r;for(e=Te[te],t=0,e==="}"&&_t({},sr,kr);te<Zr&&(e=Te[te++],!!G4(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&_t({},sr,kr),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function aae(){var e,t;for(e=Te.charCodeAt(te++),t=String.fromCharCode(e),e===92&&(Te.charCodeAt(te)!==117&&_t({},sr,kr),++te,e=YM("u"),(!e||e==="\\"||!kx(e.charCodeAt(0)))&&_t({},sr,kr),t=e);te<Zr&&(e=Te.charCodeAt(te),!!fS(e));)++te,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Te.charCodeAt(te)!==117&&_t({},sr,kr),++te,e=YM("u"),(!e||e==="\\"||!fS(e.charCodeAt(0)))&&_t({},sr,kr),t+=e);return t}function Z3e(){var e,t;for(e=te++;te<Zr;){if(t=Te.charCodeAt(te),t===92)return te=e,aae();if(fS(t))++te;else break}return Te.slice(e,te)}function Y3e(){var e,t,n;return e=te,t=Te.charCodeAt(te)===92?aae():Z3e(),t.length===1?n=Dd:V3e.hasOwnProperty(t)?n=rf:t==="null"?n=QE:t==="true"||t==="false"?n=KE:n=Dd,{type:n,value:t,start:e,end:te}}function n$(){var e=te,t=Te.charCodeAt(te),n,r=Te[te],i,a,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++te,{type:ji,value:String.fromCharCode(t),start:e,end:te};default:if(n=Te.charCodeAt(te+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return te+=2,{type:ji,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:te};case 33:case 61:return te+=2,Te.charCodeAt(te)===61&&++te,{type:ji,value:Te.slice(e,te),start:e,end:te}}}if(o=Te.substr(te,4),o===">>>=")return te+=4,{type:ji,value:o,start:e,end:te};if(a=o.substr(0,3),a===">>>"||a==="<<="||a===">>=")return te+=3,{type:ji,value:a,start:e,end:te};if(i=a.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return te+=2,{type:ji,value:i,start:e,end:te};if(i==="//"&&_t({},sr,kr),"<>=!+-*%&|^/".includes(r))return++te,{type:ji,value:r,start:e,end:te};_t({},sr,kr)}function K3e(e){let t="";for(;te<Zr&&G4(Te[te]);)t+=Te[te++];return t.length===0&&_t({},sr,kr),kx(Te.charCodeAt(te))&&_t({},sr,kr),{type:hh,value:parseInt("0x"+t,16),start:e,end:te}}function Q3e(e){let t="0"+Te[te++];for(;te<Zr&&tv(Te[te]);)t+=Te[te++];return(kx(Te.charCodeAt(te))||Rl(Te.charCodeAt(te)))&&_t({},sr,kr),{type:hh,value:parseInt(t,8),octal:!0,start:e,end:te}}function IU(){var e,t,n;if(n=Te[te],JE(Rl(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=te,e="",n!=="."){if(e=Te[te++],n=Te[te],e==="0"){if(n==="x"||n==="X")return++te,K3e(t);if(tv(n))return Q3e(t);n&&Rl(n.charCodeAt(0))&&_t({},sr,kr)}for(;Rl(Te.charCodeAt(te));)e+=Te[te++];n=Te[te]}if(n==="."){for(e+=Te[te++];Rl(Te.charCodeAt(te));)e+=Te[te++];n=Te[te]}if(n==="e"||n==="E")if(e+=Te[te++],n=Te[te],(n==="+"||n==="-")&&(e+=Te[te++]),Rl(Te.charCodeAt(te)))for(;Rl(Te.charCodeAt(te));)e+=Te[te++];else _t({},sr,kr);return kx(Te.charCodeAt(te))&&_t({},sr,kr),{type:hh,value:parseFloat(e),start:t,end:te}}function J3e(){var e="",t,n,r,i,a=!1;for(t=Te[te],JE(t==="'"||t==='"',"String literal must starts with a quote"),n=te,++te;te<Zr;)if(r=Te[te++],r===t){t="";break}else if(r==="\\")if(r=Te[te++],!r||!Kv(r.charCodeAt(0)))switch(r){case"u":case"x":Te[te]==="{"?(++te,e+=X3e()):e+=YM(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:tv(r)?(i="01234567".indexOf(r),i!==0&&(a=!0),te<Zr&&tv(Te[te])&&(a=!0,i=i*8+"01234567".indexOf(Te[te++]),"0123".includes(r)&&te<Zr&&tv(Te[te])&&(i=i*8+"01234567".indexOf(Te[te++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Te[te]===`
`&&++te;else{if(Kv(r.charCodeAt(0)))break;e+=r}return t!==""&&_t({},sr,kr),{type:Ex,value:e,octal:a,start:n,end:te}}function eDe(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";_t({},ZM)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{_t({},ZM)}try{return new RegExp(e,t)}catch{return null}}function tDe(){var e,t,n,r,i;for(e=Te[te],JE(e==="/","Regular expression literal must start with a slash"),t=Te[te++],n=!1,r=!1;te<Zr;)if(e=Te[te++],t+=e,e==="\\")e=Te[te++],Kv(e.charCodeAt(0))&&_t({},t$),t+=e;else if(Kv(e.charCodeAt(0)))_t({},t$);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||_t({},t$),i=t.substr(1,t.length-2),{value:i,literal:t}}function nDe(){var e,t,n;for(t="",n="";te<Zr&&(e=Te[te],!!fS(e.charCodeAt(0)));)++te,e==="\\"&&te<Zr?_t({},sr,kr):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&_t({},ZM,n),{value:n,literal:t}}function rDe(){var e,t,n,r;return jt=null,iae(),e=te,t=tDe(),n=nDe(),r=eDe(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:te}}function iDe(e){return e.type===Dd||e.type===rf||e.type===KE||e.type===QE}function oae(){if(iae(),te>=Zr)return{type:Ax,start:te,end:te};const e=Te.charCodeAt(te);return kx(e)?Y3e():e===40||e===41||e===59?n$():e===39||e===34?J3e():e===46?Rl(Te.charCodeAt(te+1))?IU():n$():Rl(e)?IU():n$()}function Ii(){const e=jt;return te=e.end,jt=oae(),te=e.end,e}function sae(){const e=te;jt=oae(),te=e}function aDe(e){const t=new as(O3e);return t.elements=e,t}function RU(e,t,n){const r=new as(e==="||"||e==="&&"?M3e:P3e);return r.operator=e,r.left=t,r.right=n,r}function oDe(e,t){const n=new as($3e);return n.callee=e,n.arguments=t,n}function sDe(e,t,n){const r=new as(T3e);return r.test=e,r.consequent=t,r.alternate=n,r}function V4(e){const t=new as(nae);return t.name=e,t}function Ey(e){const t=new as(N3e);return t.value=e.value,t.raw=Te.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function zU(e,t,n){const r=new as(j3e);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function lDe(e){const t=new as(D3e);return t.properties=e,t}function BU(e,t,n){const r=new as(F3e);return r.key=t,r.value=n,r.kind=e,r}function uDe(e,t){const n=new as(L3e);return n.operator=e,n.argument=t,n.prefix=!0,n}function _t(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(a,o)=>(JE(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=te,n.description=i,n}function ek(e){e.type===Ax&&_t(e,U3e),e.type===hh&&_t(e,I3e),e.type===Ex&&_t(e,R3e),e.type===Dd&&_t(e,z3e),e.type===rf&&_t(e,B3e),_t(e,sr,e.value)}function Yr(e){const t=Ii();(t.type!==ji||t.value!==e)&&ek(t)}function rn(e){return jt.type===ji&&jt.value===e}function r$(e){return jt.type===rf&&jt.value===e}function cDe(){const e=[];for(te=jt.start,Yr("[");!rn("]");)rn(",")?(Ii(),e.push(null)):(e.push(Fd()),rn("]")||Yr(","));return Ii(),aDe(e)}function UU(){te=jt.start;const e=Ii();return e.type===Ex||e.type===hh?(e.octal&&_t(e,rae),Ey(e)):V4(e.value)}function fDe(){var e,t,n,r;if(te=jt.start,e=jt,e.type===Dd)return n=UU(),Yr(":"),r=Fd(),BU("init",n,r);if(e.type===Ax||e.type===ji)ek(e);else return t=UU(),Yr(":"),r=Fd(),BU("init",t,r)}function dDe(){var e=[],t,n,r,i={},a=String;for(te=jt.start,Yr("{");!rn("}");)t=fDe(),t.key.type===nae?n=t.key.name:n=a(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?_t({},W3e):i[r]=!0,e.push(t),rn("}")||Yr(",");return Yr("}"),lDe(e)}function hDe(){Yr("(");const e=X4();return Yr(")"),e}const pDe={if:1};function mDe(){var e,t,n;if(rn("("))return hDe();if(rn("["))return cDe();if(rn("{"))return dDe();if(e=jt.type,te=jt.start,e===Dd||pDe[jt.value])n=V4(Ii().value);else if(e===Ex||e===hh)jt.octal&&_t(jt,rae),n=Ey(Ii());else{if(e===rf)throw new Error(Yv);e===KE?(t=Ii(),t.value=t.value==="true",n=Ey(t)):e===QE?(t=Ii(),t.value=null,n=Ey(t)):rn("/")||rn("/=")?(n=Ey(rDe()),sae()):ek(Ii())}return n}function gDe(){const e=[];if(Yr("("),!rn(")"))for(;te<Zr&&(e.push(Fd()),!rn(")"));)Yr(",");return Yr(")"),e}function yDe(){te=jt.start;const e=Ii();return iDe(e)||ek(e),V4(e.value)}function vDe(){return Yr("."),yDe()}function xDe(){Yr("[");const e=X4();return Yr("]"),e}function bDe(){var e,t,n;for(e=mDe();;)if(rn("."))n=vDe(),e=zU(".",e,n);else if(rn("("))t=gDe(),e=oDe(e,t);else if(rn("["))n=xDe(),e=zU("[",e,n);else break;return e}function WU(){const e=bDe();if(jt.type===ji&&(rn("++")||rn("--")))throw new Error(Yv);return e}function dw(){var e,t;if(jt.type!==ji&&jt.type!==rf)t=WU();else{if(rn("++")||rn("--"))throw new Error(Yv);if(rn("+")||rn("-")||rn("~")||rn("!"))e=Ii(),t=dw(),t=uDe(e.value,t);else{if(r$("delete")||r$("void")||r$("typeof"))throw new Error(Yv);t=WU()}}return t}function qU(e){let t=0;if(e.type!==ji&&e.type!==rf)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function _De(){var e,t,n,r,i,a,o,s,l,u;if(e=jt,l=dw(),r=jt,i=qU(r),i===0)return l;for(r.prec=i,Ii(),t=[e,jt],o=dw(),a=[l,r,o];(i=qU(jt))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,l=a.pop(),t.pop(),n=RU(s,l,o),a.push(n);r=Ii(),r.prec=i,a.push(r),t.push(jt),n=dw(),a.push(n)}for(u=a.length-1,n=a[u],t.pop();u>1;)t.pop(),n=RU(a[u-1].value,a[u-2],n),u-=2;return n}function Fd(){var e,t,n;return e=_De(),rn("?")&&(Ii(),t=Fd(),Yr(":"),n=Fd(),e=sDe(e,t,n)),e}function X4(){const e=Fd();if(rn(","))throw new Error(Yv);return e}function lae(e){Te=e,te=0,Zr=Te.length,jt=null,sae();const t=X4();if(jt.type!==Ax)throw new Error("Unexpect token after expression.");return t}var uae={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function cae(e){function t(o,s,l,u){let c=e(s[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+o+(u<0?"":u===0?"()":"("+s.slice(1).map(e).join(",")+")")}function n(o,s,l){return u=>t(o,u,s,l)}const r="new Date",i="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&ee("Missing arguments to clamp function."),o.length>3&&ee("Too many arguments to clamp function.");const s=o.map(e);return"Math.max("+s[1]+", Math.min("+s[2]+","+s[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:a,test:n("test",a),if:function(o){o.length<3&&ee("Missing arguments to if function."),o.length>3&&ee("Too many arguments to if function.");const s=o.map(e);return"("+s[0]+"?"+s[1]+":"+s[2]+")"}}}function wDe(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function fae(e){e=e||{};const t=e.allowed?Ko(e.allowed):{},n=e.forbidden?Ko(e.forbidden):{},r=e.constants||uae,i=(e.functions||cae)(f),a=e.globalvar,o=e.fieldvar,s=et(a)?a:m=>`${a}["${m}"]`;let l={},u={},c=0;function f(m){if(Ae(m))return m;const g=d[m.type];return g==null&&ee("Unsupported type: "+m.type),g(m)}const d={Literal:m=>m.raw,Identifier:m=>{const g=m.name;return c>0?g:ke(n,g)?ee("Illegal identifier: "+g):ke(r,g)?r[g]:ke(t,g)?g:(l[g]=1,s(g))},MemberExpression:m=>{const g=!m.computed,v=f(m.object);g&&(c+=1);const x=f(m.property);return v===o&&(u[wDe(x)]=1),g&&(c-=1),v+(g?"."+x:"["+x+"]")},CallExpression:m=>{m.callee.type!=="Identifier"&&ee("Illegal callee type: "+m.callee.type);const g=m.callee.name,v=m.arguments,x=ke(i,g)&&i[g];return x||ee("Unrecognized function: "+g),et(x)?x(v):x+"("+v.map(f).join(",")+")"},ArrayExpression:m=>"["+m.elements.map(f).join(",")+"]",BinaryExpression:m=>"("+f(m.left)+" "+m.operator+" "+f(m.right)+")",UnaryExpression:m=>"("+m.operator+f(m.argument)+")",ConditionalExpression:m=>"("+f(m.test)+"?"+f(m.consequent)+":"+f(m.alternate)+")",LogicalExpression:m=>"("+f(m.left)+m.operator+f(m.right)+")",ObjectExpression:m=>{for(const g of m.properties){const v=g.key.name;_F.has(v)&&ee("Illegal property: "+v)}return"{"+m.properties.map(f).join(",")+"}"},Property:m=>{c+=1;const g=f(m.key);return c-=1,g+":"+f(m.value)}};function p(m){const g={code:f(m),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},g}return p.functions=i,p.constants=r,p}const HU=Symbol("vega_selection_getter");function dae(e){return(!e.getter||!e.getter[HU])&&(e.getter=so(e.field),e.getter[HU]=!0),e.getter}const Z4="intersect",GU="union",SDe="vlMulti",ADe="vlPoint",VU="or",EDe="and",Cs="_vgsid_",Qv=so(Cs),kDe="E",CDe="R",ODe="R-E",PDe="R-LE",$De="R-RE",TDe="E-LT",NDe="E-LTE",MDe="E-GT",jDe="E-GTE",DDe="E-VALID",FDe="E-ONE",dS="index:unit";function XU(e,t){for(var n=t.fields,r=t.values,i=n.length,a=0,o,s;a<i;++a)if(s=n[a],o=dae(s)(e),Ec(o)&&(o=Hr(o)),Ec(r[a])&&(r[a]=Hr(r[a])),ae(r[a])&&Ec(r[a][0])&&(r[a]=r[a].map(Hr)),s.type===kDe){if(ae(r[a])?!r[a].includes(o):o!==r[a])return!1}else if(s.type===CDe){if(!bp(o,r[a]))return!1}else if(s.type===$De){if(!bp(o,r[a],!0,!1))return!1}else if(s.type===ODe){if(!bp(o,r[a],!1,!1))return!1}else if(s.type===PDe){if(!bp(o,r[a],!1,!0))return!1}else if(s.type===TDe){if(o>=r[a])return!1}else if(s.type===NDe){if(o>r[a])return!1}else if(s.type===MDe){if(o<=r[a])return!1}else if(s.type===jDe){if(o<r[a])return!1}else if(s.type===DDe){if(o===null||isNaN(o))return!1}else if(s.type===FDe&&r[a].indexOf(o)===-1)return!1;return!0}function LDe(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],a=r?r[dS]&&r[dS].value:void 0,o=n===Z4,s=i.length,l=0,u,c,f,d,p;l<s;++l)if(u=i[l],a&&o){if(c=c||{},f=c[d=u.unit]||0,f===-1)continue;if(p=XU(t,u),c[d]=p?-1:++f,p&&a.size===1)return!0;if(!p&&f===a.get(d).count)return!1}else if(p=XU(t,u),o^p)return p;return s&&o}const hae=wg(Qv),IDe=hae.left,RDe=hae.right;function zDe(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],a=r?r[dS]&&r[dS].value:void 0,o=n===Z4,s=Qv(t),l=IDe(i,s);if(l===i.length||Qv(i[l])!==s)return!1;if(a&&o){if(a.size===1)return!0;if(RDe(i,s)-l<a.size)return!1}return!0}function BDe(e,t){return ae(e)||ee("First argument to selectionTuples must be an array."),Se(t)||ee("Second argument to selectionTuples must be an object."),e.map(n=>Je(t.fields?{values:t.fields.map(r=>dae(r)(n.datum))}:{[Cs]:Qv(n.datum)},t))}function UDe(e,t,n,r){for(var i=this.context.data[e],a=i?i.values.value:[],o={},s={},l={},u,c,f,d,p,m,g,v,x,b,S=a.length,k=0,A,E;k<S;++k)if(u=a[k],d=u.unit,c=u.fields,f=u.values,c&&f){for(A=0,E=c.length;A<E;++A)p=c[A],g=o[p.field]||(o[p.field]={}),v=g[d]||(g[d]=[]),l[p.field]=x=p.type.charAt(0),b=i$[`${x}_union`],g[d]=b(v,Ee(f[A]));n&&(v=s[d]||(s[d]=[]),v.push(Ee(f).reduce((C,P,T)=>(C[c[T].field]=P,C),{})))}else p=Cs,m=Qv(u),g=o[p]||(o[p]={}),v=g[d]||(g[d]=[]),v.push(m),n&&(v=s[d]||(s[d]=[]),v.push({[Cs]:m}));if(t=t||GU,o[Cs]?o[Cs]=i$[`${Cs}_${t}`](...Object.values(o[Cs])):Object.keys(o).forEach(C=>{o[C]=Object.keys(o[C]).map(P=>o[C][P]).reduce((P,T)=>P===void 0?T:i$[`${l[C]}_${t}`](P,T))}),a=Object.keys(s),n&&a.length){const C=r?ADe:SDe;o[C]=t===GU?{[VU]:a.reduce((P,T)=>(P.push(...s[T]),P),[])}:{[EDe]:a.map(P=>({[VU]:s[P]}))}}return o}var i$={[`${Cs}_union`]:O_e,[`${Cs}_intersect`]:k_e,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=Hr(t[0]),r=Hr(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Hr(t[0]),r=Hr(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const WDe=":",qDe="@";function Y4(e,t,n,r){t[0].type!==jd&&ee("First argument to selection functions must be a string literal.");const i=t[0].value,a=t.length>=2&&pt(t).value,o="unit",s=qDe+o,l=WDe+i;a===Z4&&!ke(r,s)&&(r[s]=n.getData(i).indataRef(n,o)),ke(r,l)||(r[l]=n.getData(i).tuplesRef())}function pae(e){const t=this.context.data[e];return t?t.values.value:[]}function HDe(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function GDe(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(lo).insert(t)),1}function VDe(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const Cx=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},XDe=Cx("format"),mae=Cx("timeFormat"),ZDe=Cx("utcFormat"),YDe=Cx("timeParse"),KDe=Cx("utcParse"),s_=new Date(2e3,0,1);function tk(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(s_.setYear(2e3),s_.setMonth(e),s_.setDate(t),mae.call(this,s_,n))}function QDe(e){return tk.call(this,e,1,"%B")}function JDe(e){return tk.call(this,e,1,"%b")}function eFe(e){return tk.call(this,0,2+e,"%A")}function tFe(e){return tk.call(this,0,2+e,"%a")}const nFe=":",rFe="@",KM="%",gae="$";function K4(e,t,n,r){t[0].type!==jd&&ee("First argument to data functions must be a string literal.");const i=t[0].value,a=nFe+i;if(!ke(a,r))try{r[a]=n.getData(i).tuplesRef()}catch{}}function iFe(e,t,n,r){t[0].type!==jd&&ee("First argument to indata must be a string literal."),t[1].type!==jd&&ee("Second argument to indata must be a string literal.");const i=t[0].value,a=t[1].value,o=rFe+a;ke(o,r)||(r[o]=n.getData(i).indataRef(n,a))}function _i(e,t,n,r){if(t[0].type===jd)ZU(n,r,t[0].value);else for(e in n.scales)ZU(n,r,e)}function ZU(e,t,n){const r=KM+n;if(!ke(t,r))try{t[r]=e.scaleRef(n)}catch{}}function dl(e,t){if(Ae(e)){const n=t.scales[e];return n&&Q9(n.value)?n.value:void 0}else if(et(e))return Q9(e)?e:void 0}function aFe(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=_i,n._range=_i,n._scale=_i;const r=i=>"_["+(i.type===jd?ye(KM+i.value):ye(KM)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function Q4(e,t){return function(n,r,i){if(n){const a=dl(n,(i||this).context);return a&&a.path[e](r)}else return t(r)}}const oFe=Q4("area",A$e),sFe=Q4("bounds",O$e),lFe=Q4("centroid",j$e);function uFe(e,t){const n=dl(e,(t||this).context);return n&&n.scale()}function cFe(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function J4(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function fFe(){return J4(this.context.dataflow,"warn",arguments)}function dFe(){return J4(this.context.dataflow,"info",arguments)}function hFe(){return J4(this.context.dataflow,"debug",arguments)}function a$(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function QM(e){const t=Lc(e),n=a$(t.r),r=a$(t.g),i=a$(t.b);return .2126*n+.7152*r+.0722*i}function pFe(e,t){const n=QM(e),r=QM(t),i=Math.max(n,r),a=Math.min(n,r);return(i+.05)/(a+.05)}function mFe(){const e=[].slice.call(arguments);return e.unshift({}),Je(...e)}function yae(e,t){return e===t||e!==e&&t!==t?!0:ae(e)?ae(t)&&e.length===t.length?gFe(e,t):!1:Se(e)&&Se(t)?vae(e,t):!1}function gFe(e,t){for(let n=0,r=e.length;n<r;++n)if(!yae(e[n],t[n]))return!1;return!0}function vae(e,t){for(const n in e)if(!yae(e[n],t[n]))return!1;return!0}function YU(e){return t=>vae(e,t)}function yFe(e,t,n,r,i,a){const o=this.context.dataflow,s=this.context.data[e],l=s.input,u=o.stamp();let c=s.changes,f,d;if(o._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(s.changes=c=o.changeset(),c.stamp=u,o.runAfter(()=>{s.modified=!0,o.pulse(l,c).run()},!0,1)),n&&(f=n===!0?lo:ae(n)||oE(n)?n:YU(n),c.remove(f)),t&&c.insert(t),r&&(f=YU(r),l.value.some(f)?c.remove(f):c.insert(r)),i)for(d in a)c.modify(i,d,a[d]);return 1}function vFe(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function xFe(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const KU={};function bFe(e,t){const n=KU[t]||(KU[t]=so(t));return ae(e)?e.map(n):n(e)}function nk(e){return ae(e)||ArrayBuffer.isView(e)?e:null}function eR(e){return nk(e)||(Ae(e)?e:null)}function _Fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return nk(e).join(...n)}function wFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return eR(e).indexOf(...n)}function SFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return eR(e).lastIndexOf(...n)}function AFe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return eR(e).slice(...n)}function EFe(e,t,n){return et(n)&&ee("Function argument passed to replace."),!Ae(t)&&!$F(t)&&ee("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function kFe(e){return nk(e).slice().reverse()}function CFe(e){return nk(e).slice().sort(bg)}function OFe(e,t,n){return pI(e||0,t||0,n||0)}function PFe(e,t){const n=dl(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function $Fe(e,t){const n=dl(e,(t||this).context);return n?n.copy():void 0}function TFe(e,t){const n=dl(e,(t||this).context);return n?n.domain():[]}function NFe(e,t,n){const r=dl(e,(n||this).context);return r?ae(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function MFe(e,t){const n=dl(e,(t||this).context);return n&&n.range?n.range():[]}function jFe(e,t,n){const r=dl(e,(n||this).context);return r?r(t):void 0}function DFe(e,t,n,r,i){e=dl(e,(i||this).context);const a=sne(t,n);let o=e.domain(),s=o[0],l=pt(o),u=ei;return l-s?u=Zte(e,s,l):e=(e.interpolator?Et("sequential")().interpolator(e.interpolator()):Et("linear")().interpolate(e.interpolate()).range(e.range())).domain([s=0,l=1]),e.ticks&&(o=e.ticks(+r||15),s!==o[0]&&o.unshift(s),l!==pt(o)&&o.push(l)),o.forEach(c=>a.stop(u(c),e(c))),a}function FFe(e,t,n){const r=dl(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function LFe(e){let t=null;return function(n){return n?Uv(n,t=t||xm(e)):e}}const xae=e=>e.data;function bae(e,t){const n=pae.call(t,e);return n.root&&n.root.lookup||{}}function IFe(e,t,n){const r=bae(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(xae):void 0}function RFe(e,t){const n=bae(e,this)[t];return n?n.ancestors().map(xae):void 0}const _ae=()=>typeof window<"u"&&window||null;function zFe(){const e=_ae();return e?e.screen:{}}function BFe(){const e=_ae();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function UFe(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function wae(e,t,n){if(!e)return[];const[r,i]=e,a=new zn().set(r[0],r[1],i[0],i[1]),o=n||this.context.dataflow.scenegraph().root;return ire(o,a,WFe(t))}function WFe(e){let t=null;if(e){const n=Ee(e.marktype),r=Ee(e.markname);t=i=>(!n.length||n.some(a=>i.marktype===a))&&(!r.length||r.some(a=>i.name===a))}return t}function qFe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=Ee(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function HFe(e){return Ee(e).reduce((t,n,r)=>{let[i,a]=n;return t+=r==0?`M ${i},${a} `:r===e.length-1?" Z":`L ${i},${a} `},"")}function GFe(e,t,n){const{x:r,y:i,mark:a}=n,o=new zn().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<o.x1&&(o.x1=l),l>o.x2&&(o.x2=l),u<o.y1&&(o.y1=u),u>o.y2&&(o.y2=u);return o.translate(r,i),wae([[o.x1,o.y1],[o.x2,o.y2]],e,a).filter(l=>VFe(l.x,l.y,t))}function VFe(e,t,n){let r=0;for(let i=0,a=n.length-1;i<n.length;a=i++){const[o,s]=n[a],[l,u]=n[i];u>t!=s>t&&e<(o-l)*(t-u)/(s-u)+l&&r++}return r&1}const Jv={random(){return co()},cumulativeNormal:fE,cumulativeLogNormal:iL,cumulativeUniform:lL,densityNormal:JF,densityLogNormal:rL,densityUniform:sL,quantileNormal:dE,quantileLogNormal:aL,quantileUniform:uL,sampleNormal:cE,sampleLogNormal:nL,sampleUniform:oL,isArray:ae,isBoolean:Qc,isDate:Ec,isDefined(e){return e!==void 0},isNumber:St,isObject:Se,isRegExp:$F,isString:Ae,isTuple:oE,isValid(e){return e!=null&&e===e},toBoolean:NF,toDate(e){return MF(e)},toNumber:Hr,toString:jF,indexof:wFe,join:_Fe,lastindexof:SFe,replace:EFe,reverse:kFe,sort:CFe,slice:AFe,flush:AQ,lerp:kQ,merge:mFe,pad:PQ,peek:pt,pluck:bFe,span:K1,inrange:bp,truncate:$Q,rgb:Lc,lab:y2,hcl:v2,hsl:m2,luminance:QM,contrast:pFe,sequence:Bi,format:XDe,utcFormat:ZDe,utcParse:KDe,utcOffset:lJ,utcSequence:fJ,timeFormat:mae,timeParse:YDe,timeOffset:sJ,timeSequence:cJ,timeUnitSpecifier:YQ,monthFormat:QDe,monthAbbrevFormat:JDe,dayFormat:eFe,dayAbbrevFormat:tFe,quarter:bQ,utcquarter:_Q,week:QQ,utcweek:tJ,dayofyear:KQ,utcdayofyear:eJ,warn:fFe,info:dFe,debug:hFe,extent(e){return Ks(e)},inScope:cFe,intersect:wae,clampRange:wQ,pinchDistance:vFe,pinchAngle:xFe,screen:zFe,containerSize:UFe,windowSize:BFe,bandspace:OFe,setdata:GDe,pathShape:LFe,panLinear:gQ,panLog:yQ,panPow:vQ,panSymlog:xQ,zoomLinear:EF,zoomLog:kF,zoomPow:Jw,zoomSymlog:CF,encode:VDe,modify:yFe,lassoAppend:qFe,lassoPath:HFe,intersectLasso:GFe},XFe=["view","item","group","xy","x","y"],ZFe="event.vega.",Sae="this.",tR={},Aae={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${ye(gae+e)}]`,functions:YFe,constants:uae,visitors:tR},JM=fae(Aae);function YFe(e){const t=cae(e);XFe.forEach(n=>t[n]=ZFe+n);for(const n in Jv)t[n]=Sae+n;return Je(t,aFe(e,Jv,tR)),t}function Mn(e,t,n){return arguments.length===1?Jv[e]:(Jv[e]=t,n&&(tR[e]=n),JM&&(JM.functions[e]=Sae+e),this)}Mn("bandwidth",PFe,_i);Mn("copy",$Fe,_i);Mn("domain",TFe,_i);Mn("range",MFe,_i);Mn("invert",NFe,_i);Mn("scale",jFe,_i);Mn("gradient",DFe,_i);Mn("geoArea",oFe,_i);Mn("geoBounds",sFe,_i);Mn("geoCentroid",lFe,_i);Mn("geoShape",FFe,_i);Mn("geoScale",uFe,_i);Mn("indata",HDe,iFe);Mn("data",pae,K4);Mn("treePath",IFe,K4);Mn("treeAncestors",RFe,K4);Mn("vlSelectionTest",LDe,Y4);Mn("vlSelectionIdTest",zDe,Y4);Mn("vlSelectionResolve",UDe,Y4);Mn("vlSelectionTuples",BDe);function nl(e,t){const n={};let r;try{e=Ae(e)?e:ye(e)+"",r=lae(e)}catch{ee("Expression parse error: "+e)}r.visit(a=>{if(a.type!==tae)return;const o=a.callee.name,s=Aae.visitors[o];s&&s(o,a.arguments,t,n)});const i=JM(r);return i.globals.forEach(a=>{const o=gae+a;!ke(n,o)&&t.getSignal(a)&&(n[o]=t.signalRef(a))}),{$expr:Je({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function KFe(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const QFe=Ko(["rule"]),QU=Ko(["group","image","rect"]);function JFe(e,t){let n="";return QFe[t]||(e.x2&&(e.x?(QU[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(QU[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function nR(e){return(e+"").toLowerCase()}function eLe(e){return nR(e)==="operator"}function tLe(e){return nR(e)==="collect"}function I0(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function nLe(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var rLe={operator:(e,t)=>I0(e,["_"],t.code),parameter:(e,t)=>I0(e,["datum","_"],t.code),event:(e,t)=>I0(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return I0(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const a in r){const o="o["+ye(a)+"]";i+=`$=${r[a].code};if(${o}!==$)${o}=$,m=1;`}return i+=JFe(r,n),i+="return m;",I0(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(ye).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(a,o)=>{const s=t[o];let l,u;return a.path?(l=`a${a.path}`,u=`b${a.path}`):((n=n||{})["f"+o]=a,l=`this.f${o}(a)`,u=`this.f${o}(b)`),nLe(l,u,-s,s)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function iLe(e){const t=this;eLe(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function aLe(e){const t=this;if(e.params){const n=t.get(e.id);n||ee("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function oLe(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=ae(i)?i.map(a=>JU(a,n,t)):JU(i,n,t)}return t}function JU(e,t,n){if(!e||!Se(e))return e;for(let r=0,i=eW.length,a;r<i;++r)if(a=eW[r],ke(e,a.key))return a.parse(e,t,n);return e}var eW=[{key:"$ref",parse:sLe},{key:"$key",parse:uLe},{key:"$expr",parse:lLe},{key:"$field",parse:cLe},{key:"$encode",parse:dLe},{key:"$compare",parse:fLe},{key:"$context",parse:hLe},{key:"$subflow",parse:pLe},{key:"$tupleid",parse:mLe}];function sLe(e,t){return t.get(e.$ref)||ee("Operator not defined: "+e.$ref)}function lLe(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=ta(t.parameterExpression(e.$expr),e.$fields))}function uLe(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=TF(e.$key,e.$flat,t.expr.codegen))}function cLe(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=so(e.$field,e.$name,t.expr.codegen))}function fLe(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Ee(e.$compare).map(i=>i&&i.$tupleid?Ie:i);return t.fn[n]||(t.fn[n]=OF(r,e.$order,t.expr.codegen))}function dLe(e,t){const n=e.$encode,r={};for(const i in n){const a=n[i];r[i]=ta(t.encodeExpression(a.$expr),a.$fields),r[i].output=a.$output}return r}function hLe(e,t){return t}function pLe(e,t){const n=e.$subflow;return function(r,i,a){const o=t.fork().parse(n),s=o.get(n.operators[0].id),l=o.signals.parent;return l&&l.set(a),s.detachSubflow=()=>t.detach(o),s}}function mLe(){return Ie}function gLe(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(a=>t.get(a)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(a=>t.get(a)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&ee("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function yLe(e){var t=this,n=Se(n=e.source)?n.$ref:n,r=t.get(n),i=null,a=e.update,o=void 0;r||ee("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),a&&a.$expr&&(a.$params&&(o=t.parseParameters(a.$params)),a=t.handlerExpression(a.$expr)),t.update(e,r,i,a,o)}const vLe={skip:!0};function xLe(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(a=>{const o=t.signals[a];e.signals(a,o)&&(r[a]=o.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(a=>{const o=t.data[a];e.data(a,o)&&(i[a]=o.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(a=>a.getState(e))),n}function bLe(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(a=>{n.update(t.signals[a],i[a],vLe)}),Object.keys(r||{}).forEach(a=>{n.pulse(t.data[a].input,n.changeset().remove(lo).insert(r[a]))}),(e.subcontext||[]).forEach((a,o)=>{const s=t.subcontext[o];s&&s.setState(a)})}function Eae(e,t,n,r){return new kae(e,t,n,r)}function kae(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||rLe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function tW(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}kae.prototype=tW.prototype={fork(){const e=new tW(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),tLe(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let a=n.get(e.parent.$ref);a?(r.connect(a,[t]),t.targets().add(a)):(n.unresolved=n.unresolved||[]).push(()=>{a=n.get(e.parent.$ref),r.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const a in e.data){const o=n.data[a]||(n.data[a]={});e.data[a].forEach(s=>o[s]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[nR(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:KFe,parseOperator:iLe,parseOperatorParameters:aLe,parseParameters:oLe,parseStream:gLe,parseUpdate:yLe,getState:xLe,setState:bLe};function _Le(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),Cae(t,e.description()))}function Cae(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function wLe(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const o$="default";function SLe(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:o$,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,a=i?Ae(i)?i:i.user:o$,o=r.item&&r.item.cursor||null;return i&&a===i.user&&o==i.item?i:{user:a,item:o}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Ae(r)||(i=r.item,r=r.user),ej(e,r&&r!==o$?r:i||r),i},{cursor:t})}function ej(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function hS(e,t){var n=e._runtime.data;return ke(n,t)||ee("Unrecognized data set: "+t),n[t]}function ALe(e,t){return arguments.length<2?hS(this,e).values.value:rk.call(this,e,fh().remove(lo).insert(t))}function rk(e,t){IJ(t)||ee("Second argument to changes must be a changeset.");const n=hS(this,e);return n.modified=!0,this.pulse(n.input,t)}function ELe(e,t){return rk.call(this,e,fh().insert(t))}function kLe(e,t){return rk.call(this,e,fh().remove(t))}function Oae(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function Pae(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function ik(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function CLe(e){var t=ik(e),n=Oae(e),r=Pae(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(a){e.error(a)}})}function OLe(e,t,n){var r=e._renderer,i=r&&r.canvas(),a,o,s;return i&&(s=ik(e),o=t.changedTouches?t.changedTouches[0]:t,a=WE(o,i),a[0]-=s[0],a[1]-=s[1]),t.dataflow=e,t.item=n,t.vega=PLe(e,n,a),t}function PLe(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(o){var s=r,l;if(o){for(l=t;l;l=l.mark.group)if(l.mark.name===o){s=l;break}}return s&&s.mark&&s.mark.interactive?s:{}}function a(o){if(!o)return n;Ae(o)&&(o=i(o));const s=n.slice();for(;o;)s[0]-=o.x||0,s[1]-=o.y||0,o=o.mark&&o.mark.group;return s}return{view:ti(e),item:ti(t||{}),group:i,xy:a,x:o=>a(o)[0],y:o=>a(o)[1]}}const nW="view",$Le="timer",TLe="window",NLe={trap:!1};function MLe(e){const t=Je({defaults:{}},e),n=(r,i)=>{i.forEach(a=>{ae(r[a])&&(r[a]=Ko(r[a]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function $ae(e,t,n,r){e._eventListeners.push({type:n,sources:Ee(t),handler:r})}function jLe(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function l_(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Se(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function DLe(e,t,n){var r=this,i=new uE(n),a=function(u,c){r.runAsync(null,()=>{e===nW&&jLe(r,t)&&u.preventDefault(),i.receive(OLe(r,u,c))})},o;if(e===$Le)l_(r,"timer",t)&&r.timer(a,t);else if(e===nW)l_(r,"view",t)&&r.addEventListener(t,a,NLe);else if(e===TLe?l_(r,"window",t)&&typeof window<"u"&&(o=[window]):typeof document<"u"&&l_(r,"selector",t)&&(o=Array.from(document.querySelectorAll(e))),!o)r.warn("Can not resolve event source: "+e);else{for(var s=0,l=o.length;s<l;++s)o[s].addEventListener(t,a);$ae(r,o,t,a)}return i}function rW(e){return e.item}function iW(e){return e.item.mark.source}function aW(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function FLe(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",rW),iW,aW(e)),this.on(this.events("view","pointerout",rW),iW,aW(t)),this}function LLe(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,a,o,s,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(o=r[i],a=o.sources.length;--a>=0;)o.sources[a].removeEventListener(o.type,o.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,s=n[i].handler,this._handler.off(l,s);return this}function wa(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const ILe="vega-bind",RLe="vega-bind-name",zLe="vega-bind-radio";function BLe(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:o=>{o!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,o)})}},r.debounce&&(i.update=PF(r.debounce,i.update))),(r.input==null&&r.element?ULe:qLe)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function ULe(e,t,n,r){const i=n.event||"input",a=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,a),$ae(r,t,i,a),e.set=o=>{t.value=o,t.dispatchEvent(WLe(i))}}function WLe(e){return typeof Event<"u"?new Event(e):{type:e}}function qLe(e,t,n,r){const i=r.signal(n.signal),a=wa("div",{class:ILe}),o=n.input==="radio"?a:a.appendChild(wa("label"));o.appendChild(wa("span",{class:RLe},n.name||n.signal)),t.appendChild(a);let s=HLe;switch(n.input){case"checkbox":s=GLe;break;case"select":s=VLe;break;case"radio":s=XLe;break;case"range":s=ZLe;break}s(e,o,n,i)}function HLe(e,t,n,r){const i=wa("input");for(const a in n)a!=="signal"&&a!=="element"&&i.setAttribute(a==="input"?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=a=>i.value=a}function GLe(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const a=wa("input",i);t.appendChild(a),a.addEventListener("change",()=>e.update(a.checked)),e.elements=[a],e.set=o=>a.checked=!!o||null}function VLe(e,t,n,r){const i=wa("select",{name:n.signal}),a=n.labels||[];n.options.forEach((o,s)=>{const l={value:o};pS(o,r)&&(l.selected=!0),i.appendChild(wa("option",l,(a[s]||o)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=o=>{for(let s=0,l=n.options.length;s<l;++s)if(pS(n.options[s],o)){i.selectedIndex=s;return}}}function XLe(e,t,n,r){const i=wa("span",{class:zLe}),a=n.labels||[];t.appendChild(i),e.elements=n.options.map((o,s)=>{const l={type:"radio",name:n.signal,value:o};pS(o,r)&&(l.checked=!0);const u=wa("input",l);u.addEventListener("change",()=>e.update(o));const c=wa("label",{},(a[s]||o)+"");return c.prepend(u),i.appendChild(c),u}),e.set=o=>{const s=e.elements,l=s.length;for(let u=0;u<l;++u)pS(s[u].value,o)&&(s[u].checked=!0)}}function ZLe(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,a=n.min||Math.min(0,i,+r)||0,o=n.step||Mc(a,i,100),s=wa("input",{type:"range",name:n.signal,min:a,max:i,step:o});s.value=r;const l=wa("span",{},+r);t.appendChild(s),t.appendChild(l);const u=()=>{l.textContent=s.value,e.update(+s.value)};s.addEventListener("input",u),s.addEventListener("change",u),e.elements=[s],e.set=c=>{s.value=c,l.textContent=c}}function pS(e,t){return e===t||e+""==t+""}function Tae(e,t,n,r,i,a){return t=t||new r(e.loader()),t.initialize(n,Oae(e),Pae(e),ik(e),i,a).background(e.background())}function rR(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function YLe(e,t,n,r){const i=new r(e.loader(),rR(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,ik(e),e);return t&&t.handlers().forEach(a=>{i.on(a.type,a.handler)}),i}function KLe(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,a=qE(r);e=n._el=e?s$(n,e,!0):null,_Le(n),a||n.error("Unrecognized renderer type: "+r);const o=a.handler||xx,s=e?a.renderer:a.headless;return n._renderer=s?Tae(n,n._renderer,e,s):null,n._handler=YLe(n,n._handler,e,o),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=s$(n,t,!0):e.appendChild(wa("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=s$(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{BLe(n,l.element||t,l)})),n}function s$(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const R0=e=>+e||0,QLe=e=>({top:e,bottom:e,left:e,right:e});function oW(e){return Se(e)?{top:R0(e.top),bottom:R0(e.bottom),left:R0(e.left),right:R0(e.right)}:QLe(R0(e))}async function iR(e,t,n,r){const i=qE(t),a=i&&i.headless;return a||ee("Unrecognized renderer type: "+t),await e.runAsync(),Tae(e,null,null,a,n,r).renderAsync(e._scenegraph.root)}async function JLe(e,t){e!==uc.Canvas&&e!==uc.SVG&&e!==uc.PNG&&ee("Unrecognized image type: "+e);const n=await iR(this,e,t);return e===uc.SVG?eIe(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function eIe(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function tIe(e,t){return(await iR(this,uc.Canvas,e,t)).canvas()}async function nIe(e){return(await iR(this,uc.SVG,e)).svg()}function rIe(e,t,n){return Eae(e,hm,Jv,n).parse(t)}function iIe(e){var t=this._runtime.scales;return ke(t,e)||ee("Unrecognized scale or projection: "+e),t[e].value}var Nae="width",Mae="height",aR="padding",sW={skip:!0};function jae(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===aR?r.left+r.right:0)}function Dae(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===aR?r.top+r.bottom:0)}function aIe(e){var t=e._signals,n=t[Nae],r=t[Mae],i=t[aR];function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,s=>{e._width=s.size,e._viewWidth=jae(e,s.size),a()},{size:n}),e._resizeHeight=e.add(null,s=>{e._height=s.size,e._viewHeight=Dae(e,s.size),a()},{size:r});const o=e.add(null,a,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}function oIe(e,t,n,r,i,a){this.runAfter(o=>{let s=0;o._autosize=0,o.width()!==n&&(s=1,o.signal(Nae,n,sW),o._resizeWidth.skip(!0)),o.height()!==r&&(s=1,o.signal(Mae,r,sW),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),(o._origin[0]!==i[0]||o._origin[1]!==i[1])&&(o._resize=1,o._origin=i),s&&o.run("enter"),a&&o.runAfter(l=>l.resize())},!1,1)}function sIe(e){return this._runtime.getState(e||{data:lIe,signals:uIe,recurse:!0})}function lIe(e,t){return t.modified&&ae(t.input.value)&&!e.startsWith("_:vega:_")}function uIe(e,t){return!(e==="parent"||t instanceof hm.proxy)}function cIe(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function fIe(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(DNe(n,t))}function dIe(e,t,n,r){const i=e.element();i&&i.setAttribute("title",hIe(r))}function hIe(e){return e==null?"":ae(e)?Fae(e):Se(e)&&!Ec(e)?pIe(e):e+""}function pIe(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(ae(n)?Fae(n):Lae(n))}).join(`
`)}function Fae(e){return"["+e.map(Lae).join(", ")+"]"}function Lae(e){return ae(e)?"[]":Se(e)&&!Ec(e)?"{}":e}function mIe(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function Iae(e,t){const n=this;if(t=t||{},Bp.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const a=Je({},e.locale,t.locale);n.locale(OJ(a.number,a.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||uc.Canvas,n._scenegraph=new Tne;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||dIe,n._redraw=!0,n._handler=new xx().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=MLe(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=rIe(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(a=>({state:null,param:Je({},a)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=jae(n,n._width),n._viewHeight=Dae(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,aIe(n),wLe(n),SLe(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function u_(e,t){return ke(e._signals,t)?e._signals[t]:ee("Unrecognized signal name: "+ye(t))}function Rae(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function lW(e,t,n,r){let i=Rae(n,r);return i||(i=rR(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function uW(e,t,n){const r=Rae(t,n);return r&&t._targets.remove(r),e}xe(Iae,Bp,{async evaluate(e,t,n){if(await Bp.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,CLe(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&Z_(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&Cae(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=u_(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",oW(e)):oW(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(qE(e)||ee("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Bp.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(u_(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:oIe,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=rR(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,a;--r>=0;)if(a=n[r].type,i=n[r].handler,e===a&&(t===i||t===i.raw)){this._handler.off(a,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return lW(this,e,u_(this,e),t)},removeSignalListener(e,t){return uW(this,u_(this,e),t)},addDataListener(e,t){return lW(this,e,hS(this,e).values,t)},removeDataListener(e,t){return uW(this,hS(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=ej(this,null);this._globalCursor=!!e,t&&ej(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:fIe,events:DLe,finalize:LLe,hover:FLe,data:ALe,change:rk,insert:ELe,remove:kLe,scale:iIe,initialize:KLe,toImageURL:JLe,toCanvas:tIe,toSVG:nIe,getState:sIe,setState:cIe,_watchPixelRatio:mIe});const gIe="view",mS="[",gS="]",zae="{",Bae="}",yIe=":",Uae=",",vIe="@",xIe=">",bIe=/[[\]{}]/,_Ie={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Wae,qae;function af(e,t,n){return Wae=t||gIe,qae=n||_Ie,Hae(e.trim()).map(tj)}function wIe(e){return qae[e]}function nv(e,t,n,r,i){const a=e.length;let o=0,s;for(;t<a;++t){if(s=e[t],!o&&s===n)return t;i&&i.indexOf(s)>=0?--o:r&&r.indexOf(s)>=0&&++o}return t}function Hae(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=nv(e,i,Uae,mS+zae,gS+Bae),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function tj(e){return e[0]==="["?SIe(e):AIe(e)}function SIe(e){const t=e.length;let n=1,r;if(n=nv(e,n,gS,mS,gS),n===t)throw"Empty between selector: "+e;if(r=Hae(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==xIe)throw"Expected '>' after between selector: "+e;r=r.map(tj);const i=tj(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function AIe(e){const t={source:Wae},n=[];let r=[0,0],i=0,a=0,o=e.length,s=0,l,u;if(e[o-1]===Bae){if(s=e.lastIndexOf(zae),s>=0){try{r=EIe(e.substring(s+1,o-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,s).trim(),o=e.length}else throw"Unmatched right brace: "+e;s=0}if(!o)throw e;if(e[0]===vIe&&(i=++s),l=nv(e,s,yIe),l<o&&(n.push(e.substring(a,l).trim()),a=s=++l),s=nv(e,s,mS),s===o)n.push(e.substring(a,o).trim());else if(n.push(e.substring(a,s).trim()),u=[],a=++s,a===o)throw"Unmatched left bracket: "+e;for(;s<o;){if(s=nv(e,s,gS),s===o)throw"Unmatched left bracket: "+e;if(u.push(e.substring(a,s).trim()),s<o-1&&e[++s]!==mS)throw"Expected left bracket: "+e;a=++s}if(!(o=n.length)||bIe.test(n[o-1]))throw"Invalid event selector: "+e;return o>1?(t.type=n[1],i?t.markname=n[0].slice(1):wIe(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function EIe(e){const t=e.split(Uae);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function kIe(e){return Se(e)?e:{type:e||"pad"}}const z0=e=>+e||0,CIe=e=>({top:e,bottom:e,left:e,right:e});function OIe(e){return Se(e)?e.signal?e:{top:z0(e.top),bottom:z0(e.bottom),left:z0(e.left),right:z0(e.right)}:CIe(z0(e))}const lr=e=>Se(e)&&!ae(e)?Je({},e):{value:e};function cW(e,t,n,r){return n!=null?(Se(n)&&!ae(n)||ae(n)&&n.length&&Se(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Nr(e,t,n){for(const r in t)cW(e,r,t[r]);for(const r in n)cW(e,r,n[r],"update")}function Ng(e,t,n){for(const r in t)n&&ke(n,r)||(e[r]=Je(e[r]||{},t[r]));return e}function ap(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const oR="mark",sR="frame",lR="scope",PIe="axis",$Ie="axis-domain",TIe="axis-grid",NIe="axis-label",MIe="axis-tick",jIe="axis-title",DIe="legend",FIe="legend-band",LIe="legend-entry",IIe="legend-gradient",Gae="legend-label",RIe="legend-symbol",zIe="legend-title",BIe="title",UIe="title-text",WIe="title-subtitle";function qIe(e,t,n,r,i){const a={},o={};let s,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!ap(l,e)&&l$(a,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===sR?i.group:n===oR?Je({},i.mark,i[t]):null;for(l in c)u=ap(l,e)||(l==="fill"||l==="stroke")&&(ap("fill",e)||ap("stroke",e)),u||l$(a,l,c[l]);Ee(r).forEach(f=>{const d=i.style&&i.style[f];for(const p in d)ap(p,e)||l$(a,p,d[p])}),e=Je({},e);for(l in a)c=a[l],c.signal?(s=s||{})[l]=c:o[l]=c;return e.enter=Je(o,e.enter),s&&(e.update=Je(s,e.update)),e}function l$(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const Vae=e=>Ae(e)?ye(e):e.signal?`(${e.signal})`:Xae(e);function ak(e){if(e.gradient!=null)return GIe(e);let t=e.signal?`(${e.signal})`:e.color?HIe(e.color):e.field!=null?Xae(e.field):e.value!==void 0?ye(e.value):void 0;return e.scale!=null&&(t=VIe(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${hw(e.exponent)})`),e.mult!=null&&(t+=`*${hw(e.mult)}`),e.offset!=null&&(t+=`+${hw(e.offset)}`),e.round&&(t=`round(${t})`),t}const c_=(e,t,n,r)=>`(${e}(${[t,n,r].map(ak).join(",")})+'')`;function HIe(e){return e.c?c_("hcl",e.h,e.c,e.l):e.h||e.s?c_("hsl",e.h,e.s,e.l):e.l||e.a?c_("lab",e.l,e.a,e.b):e.r||e.g||e.b?c_("rgb",e.r,e.g,e.b):null}function GIe(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:ye(n));for(;t.length&&pt(t)==null;)t.pop();return t.unshift(Vae(e.gradient)),`gradient(${t.join(",")})`}function hw(e){return Se(e)?"("+ak(e)+")":e}function Xae(e){return Zae(Se(e)?e:{datum:e})}function Zae(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):ee("Invalid field reference: "+ye(e));return e.signal||(r=Ae(r)?sl(r).map(ye).join("]["):Zae(r)),t+"["+r+"]"}function VIe(e,t){const n=Vae(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+hw(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function XIe(e){let t="";return e.forEach(n=>{const r=ak(n);t+=n.test?`(${n.test})?${r}:`:r}),pt(t)===":"&&(t+="null"),t}function Yae(e,t,n,r,i,a){const o={};a=a||{},a.encoders={$encode:o},e=qIe(e,t,n,r,i.config);for(const s in e)o[s]=ZIe(e[s],t,a,i);return a}function ZIe(e,t,n,r){const i={},a={};for(const o in e)e[o]!=null&&(i[o]=KIe(YIe(e[o]),r,n,a));return{$expr:{marktype:t,channels:i},$fields:Object.keys(a),$output:Object.keys(e)}}function YIe(e){return ae(e)?XIe(e):ak(e)}function KIe(e,t,n,r){const i=nl(e,t);return i.$fields.forEach(a=>r[a]=1),Je(n,i.$params),i.$expr}const QIe="outer",JIe=["value","update","init","react","bind"];function fW(e,t){ee(e+' for "outer" push: '+ye(t))}function Kae(e,t){const n=e.name;if(e.push===QIe)t.signals[n]||fW("No prior signal definition",n),JIe.forEach(r=>{e[r]!==void 0&&fW("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function nj(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function ok(e,t,n,r){return new nj(e,t,n,r)}function yS(e,t){return ok("operator",e,t)}function Le(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function e1(e,t){return t?{$field:e,$name:t}:{$field:e}}const rj=e1("key");function dW(e,t){return{$compare:e,$order:t}}function e4e(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const t4e="ascending",n4e="descending";function r4e(e){return Se(e)?(e.order===n4e?"-":"+")+sk(e.op,e.field):""}function sk(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const uR="scope",ij="view";function Kn(e){return e&&e.signal}function i4e(e){return e&&e.expr}function pw(e){if(Kn(e))return!0;if(Se(e)){for(const t in e)if(pw(e[t]))return!0}return!1}function Mo(e,t){return e??t}function fd(e){return e&&e.signal||e}const hW="timer";function t1(e,t){return(e.merge?o4e:e.stream?s4e:e.type?l4e:ee("Invalid stream specification: "+ye(e)))(e,t)}function a4e(e){return e===uR?ij:e||ij}function o4e(e,t){const n=e.merge.map(i=>t1(i,t)),r=cR({merge:n},e,t);return t.addStream(r).id}function s4e(e,t){const n=t1(e.stream,t),r=cR({stream:n},e,t);return t.addStream(r).id}function l4e(e,t){let n;e.type===hW?(n=t.event(hW,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(a4e(e.source),e.type);const r=cR({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function cR(e,t,n){let r=t.between;return r&&(r.length!==2&&ee('Stream "between" parameter must have 2 entries: '+ye(t)),e.between=[t1(r[0],n),t1(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(u4e(t.marktype,t.markname,t.markrole)),t.source===uR&&r.push("inScope(event.item)"),r.length&&(e.filter=nl("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function u4e(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const c4e={code:"_.$value",ast:{type:"Identifier",value:"value"}};function f4e(e,t,n){const r=e.encode,i={target:n};let a=e.events,o=e.update,s=[];a||ee("Signal update missing events specification."),Ae(a)&&(a=af(a,t.isSubscope()?uR:ij)),a=Ee(a).filter(l=>l.signal||l.scale?(s.push(l),0):1),s.length>1&&(s=[h4e(s)]),a.length&&s.push(a.length>1?{merge:a}:a[0]),r!=null&&(o&&ee("Signal encode and update are mutually exclusive."),o="encode(item(),"+ye(r)+")"),i.update=Ae(o)?nl(o,t):o.expr!=null?nl(o.expr,t):o.value!=null?o.value:o.signal!=null?{$expr:c4e,$params:{$value:t.signalRef(o.signal)}}:ee("Invalid signal update specification."),e.force&&(i.options={force:!0}),s.forEach(l=>t.addUpdate(Je(d4e(l,t),i)))}function d4e(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):t1(e,t)}}function h4e(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function p4e(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?ee("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=nl(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>f4e(i,t,n.id))}const qt=e=>(t,n,r)=>ok(e,n,t||void 0,r),Qae=qt("aggregate"),m4e=qt("axisticks"),Jae=qt("bound"),os=qt("collect"),pW=qt("compare"),g4e=qt("datajoin"),eoe=qt("encode"),y4e=qt("expression"),v4e=qt("facet"),x4e=qt("field"),b4e=qt("key"),_4e=qt("legendentries"),w4e=qt("load"),S4e=qt("mark"),A4e=qt("multiextent"),E4e=qt("multivalues"),k4e=qt("overlap"),C4e=qt("params"),toe=qt("prefacet"),O4e=qt("projection"),P4e=qt("proxy"),$4e=qt("relay"),noe=qt("render"),T4e=qt("scale"),ph=qt("sieve"),N4e=qt("sortitems"),roe=qt("viewlayout"),M4e=qt("values");let j4e=0;const ioe={min:"min",max:"max",count:"sum"};function D4e(e,t){const n=e.type||"linear";Wte(n)||ee("Unrecognized scale type: "+ye(n)),t.addScale(e.name,{type:n,domain:void 0})}function F4e(e,t){const n=t.getScale(e.name).params;let r;n.domain=aoe(e.domain,e,t),e.range!=null&&(n.range=soe(e,t,n)),e.interpolate!=null&&G4e(e.interpolate,n),e.nice!=null&&(n.nice=H4e(e.nice,t)),e.bins!=null&&(n.bins=q4e(e.bins,t));for(r in e)ke(n,r)||r==="name"||(n[r]=eo(e[r],t))}function eo(e,t){return Se(e)?e.signal?t.signalRef(e.signal):ee("Unsupported object: "+ye(e)):e}function mw(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>eo(n,t))}function lk(e){ee("Can not find data set: "+ye(e))}function aoe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&ee("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(ae(e)?L4e:e.fields?R4e:I4e)(e,t,n)}function L4e(e,t,n){return e.map(r=>eo(r,n))}function I4e(e,t,n){const r=n.getData(e.data);return r||lk(e.data),vm(t.type)?r.valuesRef(n,e.field,ooe(e.sort,!1)):Gte(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function R4e(e,t,n){const r=e.data,i=e.fields.reduce((a,o)=>(o=Ae(o)?{data:r,field:o}:ae(o)||o.signal?z4e(o,n):o,a.push(o),a),[]);return(vm(t.type)?B4e:Gte(t.type)?U4e:W4e)(e,n,i)}function z4e(e,t){const n="_:vega:_"+j4e++,r=os({});if(ae(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+ye(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,ph({})]),{data:n,field:"data"}}function B4e(e,t,n){const r=ooe(e.sort,!0);let i,a;const o=n.map(u=>{const c=t.getData(u.data);return c||lk(u.data),c.countsRef(t,u.field,r)}),s={groupby:rj,pulse:o};r&&(i=r.op||"count",a=r.field?sk(i,r.field):"count",s.ops=[ioe[i]],s.fields=[t.fieldRef(a)],s.as=[a]),i=t.add(Qae(s));const l=t.add(os({pulse:Le(i)}));return a=t.add(M4e({field:rj,sort:t.sortRef(r),pulse:Le(l)})),Le(a)}function ooe(e,t){return e&&(!e.field&&!e.op?Se(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?ee("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!ioe[e.op]&&ee("Multiple domain scales can not be sorted using "+e.op)),e}function U4e(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||lk(i.data),a.domainRef(t,i.field)});return Le(t.add(E4e({values:r})))}function W4e(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||lk(i.data),a.extentRef(t,i.field)});return Le(t.add(A4e({extents:r})))}function q4e(e,t){return e.signal||ae(e)?mw(e,t):t.objectProperty(e)}function H4e(e,t){return e.signal?t.signalRef(e.signal):Se(e)?{interval:eo(e.interval),step:eo(e.step)}:eo(e)}function G4e(e,t){t.interpolate=eo(e.type||e),e.gamma!=null&&(t.interpolateGamma=eo(e.gamma))}function soe(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Ae(i)){if(r&&ke(r,i))return e=Je({},e,{range:r[i]}),soe(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=vm(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:ee("Unrecognized scale range value: "+ye(i))}else if(i.scheme){n.scheme=ae(i.scheme)?mw(i.scheme,t):eo(i.scheme,t),i.extent&&(n.schemeExtent=mw(i.extent,t)),i.count&&(n.schemeCount=eo(i.count,t));return}else if(i.step){n.rangeStep=eo(i.step,t);return}else{if(vm(e.type)&&!ae(i))return aoe(i,e,t);ae(i)||ee("Unsupported range type: "+ye(i))}return i.map(a=>(ae(a)?mw:eo)(a,t))}function V4e(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=aj(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=aj(n[i],i,t));t.addProjection(e.name,r)}function aj(e,t,n){return ae(e)?e.map(r=>aj(r,t,n)):Se(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:ee("Unsupported parameter object: "+ye(e)):e}const ss="top",Mg="left",jg="right",Uc="bottom",loe="center",X4e="vertical",Z4e="start",Y4e="middle",K4e="end",oj="index",fR="label",Q4e="offset",Cm="perc",J4e="perc2",ro="value",Ox="guide-label",dR="guide-title",eRe="group-title",tRe="group-subtitle",mW="symbol",gw="gradient",sj="discrete",lj="size",nRe="shape",rRe="fill",iRe="stroke",aRe="strokeWidth",oRe="strokeDash",sRe="opacity",hR=[lj,nRe,rRe,iRe,aRe,oRe,sRe],Px={name:1,style:1,interactive:1},vt={value:0},io={value:1},uk="group",uoe="rect",pR="rule",lRe="symbol",mh="text";function n1(e){return e.type=uk,e.interactive=e.interactive||!1,e}function na(e,t){const n=(r,i)=>Mo(e[r],Mo(t[r],i));return n.isVertical=r=>X4e===Mo(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Mo(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Mo(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Mo(e.columns,Mo(t.columns,+n.isVertical(!0))),n}function coe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function uRe(e,t,n){const r=t.config.style[n];return r&&r[e]}function ck(e,t,n){return`item.anchor === '${Z4e}' ? ${e} : item.anchor === '${K4e}' ? ${t} : ${n}`}const mR=ck(ye(Mg),ye(jg),ye(loe));function cRe(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Se(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function foe(e,t){return t?e?Se(e)?Object.assign({},e,{offset:foe(e.offset,t)}):{value:e,offset:t}:t:e}function $a(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Ng(e.encode,t,Px)):e.interactive=!1,e}function fRe(e,t,n,r){const i=na(e,n),a=i.isVertical(),o=i.gradientThickness(),s=i.gradientLength();let l,u,c,f,d;a?(u=[0,1],c=[0,0],f=o,d=s):(u=[0,0],c=[1,0],f=s,d=o);const p={enter:l={opacity:vt,x:vt,y:vt,width:lr(f),height:lr(d)},update:Je({},l,{opacity:io,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:vt}};return Nr(p,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),$a({type:uoe,role:IIe,encode:p},r)}function dRe(e,t,n,r,i){const a=na(e,n),o=a.isVertical(),s=a.gradientThickness(),l=a.gradientLength();let u,c,f,d,p="";o?(u="y",f="y2",c="x",d="width",p="1-"):(u="x",f="x2",c="y",d="height");const m={opacity:vt,fill:{scale:t,field:ro}};m[u]={signal:p+"datum."+Cm,mult:l},m[c]=vt,m[f]={signal:p+"datum."+J4e,mult:l},m[d]=lr(s);const g={enter:m,update:Je({},m,{opacity:io}),exit:{opacity:vt}};return Nr(g,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")}),$a({type:uoe,role:FIe,key:ro,from:i,encode:g},r)}const hRe=`datum.${Cm}<=0?"${Mg}":datum.${Cm}>=1?"${jg}":"${loe}"`,pRe=`datum.${Cm}<=0?"${Uc}":datum.${Cm}>=1?"${ss}":"${Y4e}"`;function gW(e,t,n,r){const i=na(e,t),a=i.isVertical(),o=lr(i.gradientThickness()),s=i.gradientLength();let l=i("labelOverlap"),u,c,f,d,p="";const m={enter:u={opacity:vt},update:c={opacity:io,text:{field:fR}},exit:{opacity:vt}};return Nr(m,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Mo(e.labelLimit,t.gradientLabelLimit)}),a?(u.align={value:"left"},u.baseline=c.baseline={signal:pRe},f="y",d="x",p="1-"):(u.align=c.align={signal:hRe},u.baseline={value:"top"},f="x",d="y"),u[f]=c[f]={signal:p+"datum."+Cm,mult:s},u[d]=c[d]=o,o.offset=Mo(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+oj}:void 0,$a({type:mh,role:Gae,style:Ox,key:ro,from:r,encode:m,overlap:l},n)}function mRe(e,t,n,r,i){const a=na(e,t),o=n.entries,s=!!(o&&o.interactive),l=o?o.name:void 0,u=a("clipHeight"),c=a("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${Q4e} : datum.${lj}`,p=u?lr(u):{field:lj},m=`datum.${oj}`,g=`max(1, ${i})`;let v,x,b,S,k;p.mult=.5,v={enter:x={opacity:vt,x:{signal:d,mult:.5,offset:c},y:p},update:b={opacity:io,x:x.x,y:x.y},exit:{opacity:vt}};let A=null,E=null;e.fill||(A=t.symbolBaseFillColor,E=t.symbolBaseStrokeColor),Nr(v,{fill:a("symbolFillColor",A),shape:a("symbolType"),size:a("symbolSize"),stroke:a("symbolStrokeColor",E),strokeDash:a("symbolDash"),strokeDashOffset:a("symbolDashOffset"),strokeWidth:a("symbolStrokeWidth")},{opacity:a("symbolOpacity")}),hR.forEach(j=>{e[j]&&(b[j]=x[j]={scale:e[j],field:ro})});const C=$a({type:lRe,role:RIe,key:ro,from:f,clip:u?!0:void 0,encode:v},n.symbols),P=lr(c);P.offset=a("labelOffset"),v={enter:x={opacity:vt,x:{signal:d,offset:P},y:p},update:b={opacity:io,text:{field:fR},x:x.x,y:x.y},exit:{opacity:vt}},Nr(v,{align:a("labelAlign"),baseline:a("labelBaseline"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontStyle:a("labelFontStyle"),fontWeight:a("labelFontWeight"),limit:a("labelLimit")});const T=$a({type:mh,role:Gae,style:Ox,key:ro,from:f,encode:v},n.labels);return v={enter:{noBound:{value:!u},width:vt,height:u?lr(u):vt,opacity:vt},exit:{opacity:vt},update:b={opacity:io,row:{signal:null},column:{signal:null}}},a.isVertical(!0)?(S=`ceil(item.mark.items.length / ${g})`,b.row.signal=`${m}%${S}`,b.column.signal=`floor(${m} / ${S})`,k={field:["row",m]}):(b.row.signal=`floor(${m} / ${g})`,b.column.signal=`${m} % ${g}`,k={field:m}),b.column.signal=`(${i})?${b.column.signal}:${m}`,r={facet:{data:r,name:"value",groupby:oj}},n1({role:lR,from:r,encode:Ng(v,o,Px),marks:[C,T],name:l,interactive:s,sort:k})}function gRe(e,t){const n=na(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const gR='item.orient === "left"',yR='item.orient === "right"',fk=`(${gR} || ${yR})`,yRe=`datum.vgrad && ${fk}`,vRe=ck('"top"','"bottom"','"middle"'),xRe=ck('"right"','"left"','"center"'),bRe=`datum.vgrad && ${yR} ? (${xRe}) : (${fk} && !(datum.vgrad && ${gR})) ? "left" : ${mR}`,_Re=`item._anchor || (${fk} ? "middle" : "start")`,wRe=`${yRe} ? (${gR} ? -90 : 90) : 0`,SRe=`${fk} ? (datum.vgrad ? (${yR} ? "bottom" : "top") : ${vRe}) : "top"`;function ARe(e,t,n,r){const i=na(e,t),a={enter:{opacity:vt},update:{opacity:io,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:vt}};return Nr(a,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:_Re},angle:{signal:wRe},align:{signal:bRe},baseline:{signal:SRe},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),$a({type:mh,role:zIe,style:dR,from:r,encode:a},n)}function ERe(e,t){let n;return Se(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+yW(e.path)+")":e.sphere&&(n="geoShape("+yW(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function yW(e){return Se(e)&&e.signal?e.signal:ye(e)}function doe(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===uk?lR:t||oR}function kRe(e){return{marktype:e.type,name:e.name||void 0,role:e.role||doe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function CRe(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function vR(e,t){const n=BJ(e.type);n||ee("Unrecognized transform type: "+ye(e.type));const r=ok(n.type.toLowerCase(),null,hoe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function hoe(e,t,n){const r={},i=e.params.length;for(let a=0;a<i;++a){const o=e.params[a];r[o.name]=ORe(o,t,n)}return r}function ORe(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return PRe(e,t,n);if(i===void 0){e.required&&ee("Missing required "+ye(t.type)+" parameter: "+ye(e.name));return}else{if(r==="param")return $Re(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Kn(i)?i.map(a=>vW(e,a,n)):vW(e,i,n)}function vW(e,t,n){const r=e.type;if(Kn(t))return bW(r)?ee("Expression references can not be signals."):u$(r)?n.fieldRef(t):_W(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||u$(r);return i&&TRe(t)?n.exprRef(t.expr,t.as):i&&NRe(t)?e1(t.field,t.as):bW(r)?nl(t,n):MRe(r)?Le(n.getData(t).values):u$(r)?e1(t):_W(r)?n.compareRef(t):t}}function PRe(e,t,n){return Ae(t.from)||ee('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function $Re(e,t,n){const r=t[e.name];return e.array?(ae(r)||ee("Expected an array of sub-parameters. Instead: "+ye(r)),r.map(i=>xW(e,i,n))):xW(e,r,n)}function xW(e,t,n){const r=e.params.length;let i;for(let o=0;o<r;++o){i=e.params[o];for(const s in i.key)if(i.key[s]!==t[s]){i=null;break}if(i)break}i||ee("Unsupported parameter: "+ye(t));const a=Je(hoe(i,t,n),i.key);return Le(n.add(C4e(a)))}const TRe=e=>e&&e.expr,NRe=e=>e&&e.field,MRe=e=>e==="data",bW=e=>e==="expr",u$=e=>e==="field",_W=e=>e==="compare";function jRe(e,t,n){let r,i,a,o,s;return e?(r=e.facet)&&(t||ee("Only group marks can be faceted."),r.field!=null?o=s=yw(r,n):(e.data?s=Le(n.getData(e.data).aggregate):(a=vR(Je({type:"aggregate",groupby:Ee(r.groupby)},r.aggregate),n),a.params.key=n.keyRef(r.groupby),a.params.pulse=yw(r,n),o=s=Le(n.add(a))),i=n.keyRef(r.groupby,!0))):o=Le(n.add(os(null,[{}]))),o||(o=yw(e,n)),{key:i,pulse:o,parent:s}}function yw(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Le(t.getData(e.data).output)}function Ld(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}Ld.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let a=t[0],o=null,s=1;for(a&&a.type==="load"&&(a=t[1]),e.add(t[0]);s<n;++s)t[s].params.pulse=Le(t[s-1]),e.add(t[s]),t[s].type==="aggregate"&&(o=t[s]);return new Ld(e,a,i,r,o)};function poe(e){return Ae(e)?e:null}function wW(e,t,n){const r=sk(n.op,n.field);let i;if(t.ops){for(let a=0,o=t.as.length;a<o;++a)if(t.as[a]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function B0(e,t,n,r,i,a,o){const s=t[n]||(t[n]={}),l=r4e(a);let u=poe(i),c,f;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=s[u]),!c){const d=a?{field:rj,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:Le(t.output)};l&&(d.sort=e.sortRef(a)),f=e.add(ok(r,void 0,d)),o&&(t.index[i]=f),c=Le(f),u!=null&&(s[u]=c)}return c}Ld.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),a=poe(t);let o,s,l;return a!=null&&(e=r.scope,o=i[a]),o?n&&n.field&&wW(e,o.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:Le(r.output)},n&&n.field&&wW(e,l,n),s=e.add(Qae(l)),o=e.add(os({pulse:Le(s)})),o={agg:s,ref:Le(o)},a!=null&&(i[a]=o)),o.ref},tuplesRef(){return Le(this.values)},extentRef(e,t){return B0(e,this,"extent","extent",t,!1)},domainRef(e,t){return B0(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return B0(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return B0(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return B0(e,this,"indata","tupleindex",t,!0,!0)}};function DRe(e,t,n){const r=e.from.facet,i=r.name,a=yw(r,t);let o;r.name||ee("Facet must have a name: "+ye(r)),r.data||ee("Facet must reference a data set: "+ye(r)),r.field?o=t.add(toe({field:t.fieldRef(r.field),pulse:a})):r.groupby?o=t.add(v4e({key:t.keyRef(r.groupby),group:Le(t.proxy(n.parent)),pulse:a})):ee("Facet must specify groupby or field: "+ye(r));const s=t.fork(),l=s.add(os()),u=s.add(ph({pulse:Le(l)}));s.addData(i,new Ld(s,l,l,u)),s.addSignal("parent",null),o.params.subflow={$subflow:s.parse(e).toRuntime()}}function FRe(e,t,n){const r=t.add(toe({pulse:n.pulse})),i=t.fork();i.add(ph()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function moe(e,t,n){const r=e.remove,i=e.insert,a=e.toggle,o=e.modify,s=e.values,l=t.add(yS()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,a,o,s].map(f=>f??"null").join(",")+"),0)",c=nl(u,t);l.update=c.$expr,l.params=c.$params}function dk(e,t){const n=doe(e),r=e.type===uk,i=e.from&&e.from.facet,a=e.overlap;let o=e.layout||n===lR||n===sR,s,l,u,c,f,d,p;const m=n===oR||o||i,g=jRe(e.from,r,t);l=t.add(g4e({key:g.key||(e.key?e1(e.key):void 0),pulse:g.pulse,clean:!r}));const v=Le(l);l=u=t.add(os({pulse:v})),l=t.add(S4e({markdef:kRe(e),interactive:CRe(e.interactive,t),clip:ERe(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Le(l)}));const x=Le(l);l=c=t.add(eoe(Yae(e.encode,e.type,n,e.style,t,{mod:!1,pulse:x}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(E=>{const C=vR(E,t),P=C.metadata;(P.generates||P.changes)&&ee("Mark transforms should not generate new data."),P.nomod||(c.params.mod=!0),C.params.pulse=Le(l),t.add(l=C)}),e.sort&&(l=t.add(N4e({sort:t.compareRef(e.sort),pulse:Le(l)})));const b=Le(l);(i||o)&&(o=t.add(roe({layout:t.objectProperty(e.layout),legends:t.legends,mark:x,pulse:b})),d=Le(o));const S=t.add(Jae({mark:x,pulse:d||b}));p=Le(S),r&&(m&&(s=t.operators,s.pop(),o&&s.pop()),t.pushState(b,d||p,v),i?DRe(e,t,g):m?FRe(e,t,g):t.parse(e),t.popState(),m&&(o&&s.push(o),s.push(S))),a&&(p=LRe(a,p,t));const k=t.add(noe({pulse:p})),A=t.add(ph({pulse:Le(k)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new Ld(t,u,k,A)),e.on&&e.on.forEach(E=>{(E.insert||E.remove||E.toggle)&&ee("Marks only support modify triggers."),moe(E,t,f)}))}function LRe(e,t,n){const r=e.method,i=e.bound,a=e.separation,o={separation:Kn(a)?n.signalRef(a.signal):a,method:Kn(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(o.sort=n.compareRef({field:e.order})),i){const s=i.tolerance;o.boundTolerance=Kn(s)?n.signalRef(s.signal):+s,o.boundScale=n.scaleRef(i.scale),o.boundOrient=i.orient}return Le(n.add(k4e(o)))}function IRe(e,t){const n=t.config.legend,r=e.encode||{},i=na(e,n),a=r.legend||{},o=a.name||void 0,s=a.interactive,l=a.style,u={};let c=0,f,d,p;hR.forEach(S=>e[S]?(u[S]=e[S],c=c||e[S]):0),c||ee("Missing valid scale for legend.");const m=RRe(e,t.scaleType(c)),g={title:e.title!=null,scales:u,type:m,vgrad:m!=="symbol"&&i.isVertical()},v=Le(t.add(os(null,[g]))),x={enter:{x:{value:0},y:{value:0}}},b=Le(t.add(_4e(d={type:m,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return m===gw?(p=[fRe(e,c,n,r.gradient),gW(e,n,r.labels,b)],d.count=d.count||t.signalRef(`max(2,2*floor((${fd(i.gradientLength())})/100))`)):m===sj?p=[dRe(e,c,n,r.gradient,b),gW(e,n,r.labels,b)]:(f=gRe(e,n),p=[mRe(e,n,r,b,fd(f.columns))],d.size=URe(e,t,p[0].marks)),p=[n1({role:LIe,from:v,encode:x,marks:p,layout:f,interactive:s})],g.title&&p.push(ARe(e,n,r.title,v)),dk(n1({role:DIe,from:v,encode:Ng(BRe(i,e,n),a,Px),marks:p,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:o,interactive:s,style:l}),t)}function RRe(e,t){let n=e.type||mW;return!e.type&&zRe(e)===1&&(e.fill||e.stroke)&&(n=xI(t)?gw:JN(t)?sj:mW),n!==gw?n:JN(t)?sj:gw}function zRe(e){return hR.reduce((t,n)=>t+(e[n]?1:0),0)}function BRe(e,t,n){const r={enter:{},update:{}};return Nr(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function URe(e,t,n){const r=fd(SW("size",e,n)),i=fd(SW("strokeWidth",e,n)),a=fd(WRe(n[1].encode,t,Ox));return nl(`max(ceil(sqrt(${r})+${i}),${a})`,t)}function SW(e,t,n){return t[e]?`scale("${t[e]}",datum)`:coe(e,n[0].encode)}function WRe(e,t,n){return coe("fontSize",e)||uRe("fontSize",t,n)}const qRe=`item.orient==="${Mg}"?-90:item.orient==="${jg}"?90:0`;function HRe(e,t){e=Ae(e)?{text:e}:e;const n=na(e,t.config.title),r=e.encode||{},i=r.group||{},a=i.name||void 0,o=i.interactive,s=i.style,l=[],u={},c=Le(t.add(os(null,[u])));return l.push(XRe(e,n,GRe(e),c)),e.subtitle&&l.push(ZRe(e,n,r.subtitle,c)),dk(n1({role:BIe,from:c,encode:VRe(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:a,interactive:o,style:s}),t)}function GRe(e){const t=e.encode;return t&&t.title||Je({name:e.name,interactive:e.interactive,style:e.style},t)}function VRe(e,t){const n={enter:{},update:{}};return Nr(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:mR},angle:{signal:qRe},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Ng(n,t,Px)}function XRe(e,t,n,r){const i={value:0},a=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Nr(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),$a({type:mh,role:UIe,style:eRe,from:r,encode:o},n)}function ZRe(e,t,n,r){const i={value:0},a=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Nr(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),$a({type:mh,role:WIe,style:tRe,from:r,encode:o},n)}function YRe(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(vR(r,t))}),e.on&&e.on.forEach(r=>{moe(r,t,e.name)}),t.addDataPipeline(e.name,KRe(e,t,n))}function KRe(e,t,n){const r=[];let i=null,a=!1,o=!1,s,l,u,c,f;for(e.values?Kn(e.values)||pw(e.format)?(r.push(AW(t,e)),r.push(i=Af())):r.push(i=Af({$ingest:e.values,$format:e.format})):e.url?pw(e.url)||pw(e.format)?(r.push(AW(t,e)),r.push(i=Af())):r.push(i=Af({$request:e.url,$format:e.format})):e.source&&(i=s=Ee(e.source).map(d=>Le(t.getData(d).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],f=c.metadata,!i&&!f.source&&r.push(i=Af()),r.push(c),f.generates&&(o=!0),f.modifies&&!o&&(a=!0),f.source?i=c:f.changes&&(i=null);return s&&(u=s.length-1,r[0]=$4e({derive:a,pulse:u?s:s[0]}),(a||u)&&r.splice(1,0,Af())),i||r.push(Af()),r.push(ph({})),r}function Af(e){const t=os({},e);return t.metadata={source:!0},t}function AW(e,t){return w4e({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const goe=e=>e===Uc||e===ss,hk=(e,t,n)=>Kn(e)?t5e(e.signal,t,n):e===Mg||e===ss?t:n,ur=(e,t,n)=>Kn(e)?JRe(e.signal,t,n):goe(e)?t:n,Vo=(e,t,n)=>Kn(e)?e5e(e.signal,t,n):goe(e)?n:t,yoe=(e,t,n)=>Kn(e)?n5e(e.signal,t,n):e===ss?{value:t}:{value:n},QRe=(e,t,n)=>Kn(e)?r5e(e.signal,t,n):e===jg?{value:t}:{value:n},JRe=(e,t,n)=>voe(`${e} === '${ss}' || ${e} === '${Uc}'`,t,n),e5e=(e,t,n)=>voe(`${e} !== '${ss}' && ${e} !== '${Uc}'`,t,n),t5e=(e,t,n)=>xR(`${e} === '${Mg}' || ${e} === '${ss}'`,t,n),n5e=(e,t,n)=>xR(`${e} === '${ss}'`,t,n),r5e=(e,t,n)=>xR(`${e} === '${jg}'`,t,n),voe=(e,t,n)=>(t=t!=null?lr(t):t,n=n!=null?lr(n):n,EW(t)&&EW(n)?(t=t?t.signal||ye(t.value):null,n=n?n.signal||ye(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Je({test:e},t)].concat(n||[])),EW=e=>e==null||Object.keys(e).length===1,xR=(e,t,n)=>({signal:`${e} ? (${kp(t)}) : (${kp(n)})`}),i5e=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${Mg}' ? (${kp(r)}) : `:"")+(n!=null?`${e} === '${Uc}' ? (${kp(n)}) : `:"")+(i!=null?`${e} === '${jg}' ? (${kp(i)}) : `:"")+(t!=null?`${e} === '${ss}' ? (${kp(t)}) : `:"")+"(null)"}),kp=e=>Kn(e)?e.signal:e==null?null:ye(e),a5e=(e,t)=>t===0?0:Kn(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Hp=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Kh(e,t,n,r){let i;if(t&&ke(t,e))return t[e];if(ke(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[dR][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Ox][i]}return null}function kW(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function o5e(e,t){var n=t.config,r=n.style,i=n.axis,a=t.scaleType(e.scale)==="band"&&n.axisBand,o=e.orient,s,l,u;if(Kn(o)){const f=kW([n.axisX,n.axisY]),d=kW([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);s={};for(u of f)s[u]=ur(o,Kh(u,n.axisX,i,r),Kh(u,n.axisY,i,r));l={};for(u of d)l[u]=i5e(o.signal,Kh(u,n.axisTop,i,r),Kh(u,n.axisBottom,i,r),Kh(u,n.axisLeft,i,r),Kh(u,n.axisRight,i,r))}else s=o===ss||o===Uc?n.axisX:n.axisY,l=n["axis"+o[0].toUpperCase()+o.slice(1)];return s||l||a?Je({},i,s,l,a):i}function s5e(e,t,n,r){const i=na(e,t),a=e.orient;let o,s;const l={enter:o={opacity:vt},update:s={opacity:io},exit:{opacity:vt}};Nr(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=CW(e,0),c=CW(e,1);return o.x=s.x=ur(a,u,vt),o.x2=s.x2=ur(a,c),o.y=s.y=Vo(a,u,vt),o.y2=s.y2=Vo(a,c),$a({type:pR,role:$Ie,from:r,encode:l},n)}function CW(e,t){return{scale:e.scale,range:t}}function l5e(e,t,n,r,i){const a=na(e,t),o=e.orient,s=e.gridScale,l=hk(o,1,-1),u=u5e(e.offset,l);let c,f,d;const p={enter:c={opacity:vt},update:d={opacity:io},exit:f={opacity:vt}};Nr(p,{stroke:a("gridColor"),strokeCap:a("gridCap"),strokeDash:a("gridDash"),strokeDashOffset:a("gridDashOffset"),strokeOpacity:a("gridOpacity"),strokeWidth:a("gridWidth")});const m={scale:e.scale,field:ro,band:i.band,extra:i.extra,offset:i.offset,round:a("tickRound")},g=ur(o,{signal:"height"},{signal:"width"}),v=s?{scale:s,range:0,mult:l,offset:u}:{value:0,offset:u},x=s?{scale:s,range:1,mult:l,offset:u}:Je(g,{mult:l,offset:u});return c.x=d.x=ur(o,m,v),c.y=d.y=Vo(o,m,v),c.x2=d.x2=Vo(o,x),c.y2=d.y2=ur(o,x),f.x=ur(o,m),f.y=Vo(o,m),$a({type:pR,role:TIe,key:ro,from:r,encode:p},n)}function u5e(e,t){if(t!==1)if(!Se(e))e=Kn(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Je({},e);for(;n.mult!=null;)if(Se(n.mult))n=n.mult=Je({},n.mult);else return n.mult=Kn(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function c5e(e,t,n,r,i,a){const o=na(e,t),s=e.orient,l=hk(s,-1,1);let u,c,f;const d={enter:u={opacity:vt},update:f={opacity:io},exit:c={opacity:vt}};Nr(d,{stroke:o("tickColor"),strokeCap:o("tickCap"),strokeDash:o("tickDash"),strokeDashOffset:o("tickDashOffset"),strokeOpacity:o("tickOpacity"),strokeWidth:o("tickWidth")});const p=lr(i);p.mult=l;const m={scale:e.scale,field:ro,band:a.band,extra:a.extra,offset:a.offset,round:o("tickRound")};return f.y=u.y=ur(s,vt,m),f.y2=u.y2=ur(s,p),c.x=ur(s,m),f.x=u.x=Vo(s,vt,m),f.x2=u.x2=Vo(s,p),c.y=Vo(s,m),$a({type:pR,role:MIe,key:ro,from:r,encode:d},n)}function c$(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function f5e(e,t,n,r,i,a){const o=na(e,t),s=e.orient,l=e.scale,u=hk(s,-1,1),c=fd(o("labelFlush")),f=fd(o("labelFlushOffset")),d=o("labelAlign"),p=o("labelBaseline");let m=c===0||!!c,g;const v=lr(i);v.mult=u,v.offset=lr(o("labelPadding")||0),v.offset.mult=u;const x={scale:l,field:ro,band:.5,offset:foe(a.offset,o("labelOffset"))},b=ur(s,m?c$(l,c,'"left"','"right"','"center"'):{value:"center"},QRe(s,"left","right")),S=ur(s,yoe(s,"bottom","top"),m?c$(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),k=c$(l,c,`-(${f})`,f,0);m=m&&f;const A={opacity:vt,x:ur(s,x,v),y:Vo(s,x,v)},E={enter:A,update:g={opacity:io,text:{field:fR},x:A.x,y:A.y,align:b,baseline:S},exit:{opacity:vt,x:A.x,y:A.y}};Nr(E,{dx:!d&&m?ur(s,k):null,dy:!p&&m?Vo(s,k):null}),Nr(E,{angle:o("labelAngle"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontWeight:o("labelFontWeight"),fontStyle:o("labelFontStyle"),limit:o("labelLimit"),lineHeight:o("labelLineHeight")},{align:d,baseline:p});const C=o("labelBound");let P=o("labelOverlap");return P=P||C?{separation:o("labelSeparation"),method:P,order:"datum.index",bound:C?{scale:l,orient:s,tolerance:C}:null}:void 0,g.align!==b&&(g.align=Hp(g.align,b)),g.baseline!==S&&(g.baseline=Hp(g.baseline,S)),$a({type:mh,role:NIe,style:Ox,key:ro,from:r,encode:E,overlap:P},n)}function d5e(e,t,n,r){const i=na(e,t),a=e.orient,o=hk(a,-1,1);let s,l;const u={enter:s={opacity:vt,anchor:lr(i("titleAnchor",null)),align:{signal:mR}},update:l=Je({},s,{opacity:io,text:lr(e.title)}),exit:{opacity:vt}},c={signal:`lerp(range("${e.scale}"), ${ck(0,1,.5)})`};return l.x=ur(a,c),l.y=Vo(a,c),s.angle=ur(a,vt,a5e(o,90)),s.baseline=ur(a,yoe(a,Uc,ss),{value:Uc}),l.angle=s.angle,l.baseline=s.baseline,Nr(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),h5e(i,a,u,n),u.update.align=Hp(u.update.align,s.align),u.update.angle=Hp(u.update.angle,s.angle),u.update.baseline=Hp(u.update.baseline,s.baseline),$a({type:mh,role:jIe,style:dR,from:r,encode:u},n)}function h5e(e,t,n,r){const i=(s,l)=>s!=null?(n.update[l]=Hp(lr(s),n.update[l]),!1):!ap(l,r),a=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===a?lr(o):ur(t,lr(o),lr(a))}function p5e(e,t){const n=o5e(e,t),r=e.encode||{},i=r.axis||{},a=i.name||void 0,o=i.interactive,s=i.style,l=na(e,n),u=cRe(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=Le(t.add(os({},[c]))),d=Le(t.add(m4e({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),p=[];let m;return c.grid&&p.push(l5e(e,n,r.grid,d,u)),c.ticks&&(m=l("tickSize"),p.push(c5e(e,n,r.ticks,d,m,u))),c.labels&&(m=c.ticks?m:0,p.push(f5e(e,n,r.labels,d,m,u))),c.domain&&p.push(s5e(e,n,r.domain,f)),c.title&&p.push(d5e(e,n,r.title,f)),dk(n1({role:PIe,from:f,encode:Ng(m5e(l,e),i,Px),marks:p,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:a,interactive:o,style:s}),t)}function m5e(e,t){const n={enter:{},update:{}};return Nr(n,{orient:e("orient"),offset:e("offset")||0,position:Mo(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function xoe(e,t,n){const r=Ee(e.signals),i=Ee(e.scales);return n||r.forEach(a=>Kae(a,t)),Ee(e.projections).forEach(a=>V4e(a,t)),i.forEach(a=>D4e(a,t)),Ee(e.data).forEach(a=>YRe(a,t)),i.forEach(a=>F4e(a,t)),(n||r).forEach(a=>p4e(a,t)),Ee(e.axes).forEach(a=>p5e(a,t)),Ee(e.marks).forEach(a=>dk(a,t)),Ee(e.legends).forEach(a=>IRe(a,t)),e.title&&HRe(e.title,t),t.parseLambdas(),t}const g5e=e=>Ng({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function y5e(e,t){const n=t.config,r=Le(t.root=t.add(yS())),i=v5e(e,n);i.forEach(u=>Kae(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const a=t.add(os()),o=t.add(eoe(Yae(g5e(e.encode),uk,sR,e.style,t,{pulse:Le(a)}))),s=t.add(roe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Le(o)}));t.operators.pop(),t.pushState(Le(o),Le(s),null),xoe(e,t,i),t.operators.push(s);let l=t.add(Jae({mark:r,pulse:Le(s)}));return l=t.add(noe({pulse:Le(l)})),l=t.add(ph({pulse:Le(l)})),t.addData("root",new Ld(t,a,a,l)),t}function U0(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function v5e(e,t){const n=o=>Mo(e[o],t[o]),r=[U0("background",n("background")),U0("autosize",kIe(n("autosize"))),U0("padding",OIe(n("padding"))),U0("width",n("width")||0),U0("height",n("height")||0)],i=r.reduce((o,s)=>(o[s.name]=s,o),{}),a={};return Ee(e.signals).forEach(o=>{ke(i,o.name)?o=Je(i[o.name],o):r.push(o),a[o.name]=o}),Ee(t.signals).forEach(o=>{!ke(a,o.name)&&!ke(i,o.name)&&r.push(o)}),r}function boe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function OW(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}boe.prototype=OW.prototype={parse(e){return xoe(e,this)},fork(){return new OW(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof nj?Le(e):e;return this.add(P4e({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,a){let o,s;r&&(o=r.data||(r.data={}),s=o[i]||(o[i]=[]),s.push(a))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Le(this.add(ph({pulse:e})))),this._parent.push(t),this._lookup.push(n?Le(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return pt(this._parent)},encode(){return pt(this._encode)},lookup(){return pt(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Ae(e))return e1(e,t);e.signal||ee("Unsupported field reference: "+ye(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Le(this.add(x4e(i)))}return r},compareRef(e){let t=!1;const n=a=>Kn(a)?(t=!0,this.signalRef(a.signal)):i4e(a)?(t=!0,this.exprRef(a.expr)):a,r=Ee(e.field).map(n),i=Ee(e.order).map(n);return t?Le(this.add(pW({fields:r,orders:i}))):dW(r,i)},keyRef(e,t){let n=!1;const r=a=>Kn(a)?(n=!0,Le(i[a.signal])):a,i=this.signals;return e=Ee(e).map(r),n?Le(this.add(b4e({fields:e,flat:t}))):e4e(e,t)},sortRef(e){if(!e)return e;const t=sk(e.op,e.field),n=e.order||t4e;return n.signal?Le(this.add(pW({fields:t,orders:this.signalRef(n.signal)}))):dW(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return ke(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&ee("Duplicate signal name: "+ye(e));const n=t instanceof nj?t:this.add(yS(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||ee("Unrecognized signal name: "+ye(e)),this.signals[e]},signalRef(e){return this.signals[e]?Le(this.signals[e]):(ke(this.lambdas,e)||(this.lambdas[e]=this.add(yS(null))),Le(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=nl(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Se(e)?e:this.signalRef(e.signal||bR(e))},exprRef(e,t){const n={expr:nl(e,this)};return t&&(n.expr.$name=t),Le(this.add(y4e(n)))},addBinding(e,t){this.bindings||ee("Nested signals do not support binding: "+ye(e)),this.bindings.push(Je({signal:e},t))},addScaleProj(e,t){ke(this.scales,e)&&ee("Duplicate scale or projection name: "+ye(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,T4e(t))},addProjection(e,t){this.addScaleProj(e,O4e(t))},getScale(e){return this.scales[e]||ee("Unrecognized scale name: "+ye(e)),this.scales[e]},scaleRef(e){return Le(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return ke(this.data,e)&&ee("Duplicate data set name: "+ye(e)),this.data[e]=t},getData(e){return this.data[e]||ee("Undefined data set name: "+ye(e)),this.data[e]},addDataPipeline(e,t){return ke(this.data,e)&&ee("Duplicate data set name: "+ye(e)),this.addData(e,Ld.fromEntries(this,t))}};function bR(e){return(ae(e)?x5e:b5e)(e)}function x5e(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Se(i)?i.signal||bR(i):ye(i))}return n+"]"}function b5e(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+ye(r)+":"+(Se(i)?i.signal||bR(i):ye(i));return t+"}"}function _5e(){const e="sans-serif",r="#4c78a8",i="#000",a="#888",o="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:o},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:a,grid:!1,gridWidth:1,gridColor:o,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:a,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:o,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:a,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function w5e(e,t,n){return Se(e)||ee("Input Vega specification must be an object."),t=vg(_5e(),t,e.config),y5e(e,new boe(t,n)).toRuntime()}var S5e="5.33.1";Je(hm,uAe,UPe,b$e,aNe,JNe,kje,aje,Oje,Qje,l3e,m3e);const A5e=Object.freeze(Object.defineProperty({__proto__:null,Bounds:zn,CanvasHandler:xx,CanvasRenderer:T2,DATE:Zi,DAY:qr,DAYOFYEAR:el,Dataflow:Bp,Debug:fQ,DisallowedObjectProperties:_F,Error:wF,EventStream:uE,Gradient:sne,GroupItem:FE,HOURS:Ca,Handler:qI,HybridHandler:Qne,HybridRenderer:cM,Info:cQ,Item:DE,MILLISECONDS:Qo,MINUTES:Oa,MONTH:Xr,Marks:Pa,MultiPulse:XF,None:uQ,Operator:Ht,Parameters:lE,Pulse:Cc,QUARTER:Xi,RenderType:uc,Renderer:vx,ResourceLoader:pne,SECONDS:uo,SVGHandler:Rne,SVGRenderer:YI,SVGStringRenderer:Kne,Scenegraph:Tne,TIME_UNITS:IF,Transform:J,View:Iae,WEEK:Xn,Warn:SF,YEAR:Pr,accessor:ta,accessorFields:Vr,accessorName:kn,array:Ee,ascending:bg,bandwidthNRD:QF,bin:qJ,bootstrapCI:HJ,boundClip:lre,boundContext:px,boundItem:aM,boundMark:Cne,boundStroke:Su,changeset:fh,clampRange:wQ,codegenExpression:fae,compare:OF,constant:ti,cumulativeLogNormal:iL,cumulativeNormal:fE,cumulativeUniform:lL,dayofyear:KQ,debounce:PF,defaultLocale:WF,definition:BJ,densityLogNormal:rL,densityNormal:JF,densityUniform:sL,domChild:Gn,domClear:Xa,domCreate:sc,domFind:WI,dotbin:GJ,error:ee,expressionFunction:Mn,extend:Je,extent:Ks,extentIndex:SQ,falsy:Uu,fastmap:_g,field:so,flush:AQ,font:BE,fontFamily:yx,fontSize:ul,format:X_,formatLocale:s2,formats:GF,hasOwnProperty:ke,id:Y1,identity:ei,inferType:$J,inferTypes:TJ,ingest:Pt,inherits:xe,inrange:bp,interpolate:bI,interpolateColors:ME,interpolateRange:Vte,intersect:ire,intersectBoxLine:wp,intersectPath:OI,intersectPoint:PI,intersectRule:gne,isArray:ae,isBoolean:Qc,isDate:Ec,isFunction:et,isIterable:EQ,isNumber:St,isObject:Se,isRegExp:$F,isString:Ae,isTuple:oE,key:TF,lerp:kQ,lineHeight:Rc,loader:iE,locale:OJ,logger:AF,lruCache:CQ,markup:ZI,merge:OQ,mergeConfig:vg,multiLineOffset:zI,one:yg,pad:PQ,panLinear:gQ,panLog:yQ,panPow:vQ,panSymlog:xQ,parse:w5e,parseExpression:lae,parseSelector:af,path:gE,pathCurves:EI,pathEqual:ure,pathParse:xm,pathRectangle:cne,pathRender:Uv,pathSymbols:une,pathTrail:fne,peek:pt,point:WE,projection:m4,quantileLogNormal:aL,quantileNormal:dE,quantileUniform:uL,quantiles:YF,quantizeInterpolator:Xte,quarter:bQ,quartiles:KF,get random(){return co},randomInteger:hSe,randomKDE:tL,randomLCG:dSe,randomLogNormal:XJ,randomMixture:ZJ,randomNormal:eL,randomUniform:YJ,read:jJ,regressionConstant:cL,regressionExp:QJ,regressionLinear:fL,regressionLoess:tee,regressionLog:KJ,regressionPoly:eee,regressionPow:JJ,regressionQuad:dL,renderModule:qE,repeat:ay,resetDefaultLocale:u2e,resetSVGClipId:hne,resetSVGDefIds:oPe,responseType:MJ,runtimeContext:Eae,sampleCurve:pE,sampleLogNormal:nL,sampleNormal:cE,sampleUniform:oL,scale:Et,sceneEqual:KI,sceneFromJSON:Pne,scenePickVisit:S2,sceneToJSON:One,sceneVisit:Jo,sceneZOrder:$I,scheme:_I,serializeXML:Vne,setHybridRendererOptions:nPe,setRandom:cSe,span:K1,splitAccessPath:sl,stringValue:ye,textMetrics:_a,timeBin:pJ,timeFloor:iJ,timeFormatLocale:jv,timeInterval:Eg,timeOffset:sJ,timeSequence:cJ,timeUnitSpecifier:YQ,timeUnits:RF,toBoolean:NF,toDate:MF,toNumber:Hr,toSet:Ko,toString:jF,transform:UJ,transforms:hm,truncate:$Q,truthy:lo,tupleid:Ie,typeParsers:BN,utcFloor:aJ,utcInterval:kg,utcOffset:lJ,utcSequence:fJ,utcdayofyear:eJ,utcquarter:_Q,utcweek:tJ,version:S5e,visitArray:Xu,week:QQ,writeConfig:xg,zero:nc,zoomLinear:EF,zoomLog:kF,zoomPow:Jw,zoomSymlog:CF},Symbol.toStringTag,{value:"Module"}));function E5e(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var k5e={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},C5e={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},O5e={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const P5e=Array.prototype.slice,Ef=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,P5e.call(t,1))},$5e=(e,t,n,r,i,a,o)=>new Date(e,t||0,n??1,r||0,i||0,a||0,o||0);var T5e={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:$5e,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Ef("join",arguments)},indexof:function(){return Ef("indexOf",arguments)},lastindexof:function(){return Ef("lastIndexOf",arguments)},slice:function(){return Ef("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(bg),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Ef("substring",arguments,String)},split:function(){return Ef("split",arguments,String)},replace:function(){return Ef("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const N5e=["view","item","group","xy","x","y"],uj=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&uj.add(setImmediate);const M5e={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:k5e[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),uj.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||T5e[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>C5e[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>O5e[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);e.memberDepth-=1;const a=e(r.value);return _F.has(i)?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):uj.has(a)?console.error(`Prevented interpretation of method "${a}" which could lead to insecure code execution`):n[i]=a,n},{})};function W0(e,t,n,r,i,a){const o=s=>M5e[s.type](o,s);return o.memberDepth=0,o.fn=Object.create(t),o.params=n,o.datum=r,o.event=i,o.item=a,N5e.forEach(s=>o.fn[s]=function(){return i.vega[s](...arguments)}),o(e)}var j5e={operator(e,t){const n=t.ast,r=e.functions;return i=>W0(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,a)=>W0(n,r,a,i)},event(e,t){const n=t.ast,r=e.functions;return i=>W0(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,a)=>{const o=a.item&&a.item.datum;return W0(n,r,i,o,a)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,a=n==="group"||n==="image"||n==="rect";return(o,s)=>{const l=o.datum;let u=0,c;for(const f in r)c=W0(r[f].ast,i,s,l,void 0,o),o[f]!==c&&(o[f]=c,u=1);return n!=="rule"&&E5e(o,r,a),u}}};const D5e="5.23.0",F5e={version:D5e};function _R(e){return ce(e,"or")}function wR(e){return ce(e,"and")}function SR(e){return ce(e,"not")}function vw(e,t){if(SR(e))vw(e.not,t);else if(wR(e))for(const n of e.and)vw(n,t);else if(_R(e))for(const n of e.or)vw(n,t);else t(e)}function Gp(e,t){return SR(e)?{not:Gp(e.not,t)}:wR(e)?{and:e.and.map(n=>Gp(n,t))}:_R(e)?{or:e.or.map(n=>Gp(n,t))}:t(e)}const Ve=structuredClone;function _oe(e){throw new Error(e)}function Om(e,t){const n={};for(const r of t)ke(e,r)&&(n[r]=e[r]);return n}function Gi(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Wt(e)).join(",")})`};function dt(e){if(St(e))return e;const t=Ae(e)?e:Wt(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function cj(e){return e===!1||e===null}function lt(e,t){return e.includes(t)}function Pm(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function AR(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function woe(e,...t){for(const n of t)L5e(e,n??{});return e}function L5e(e,t){for(const n of ue(t))xg(e,n,t[n],!0)}function Ms(e,t){const n=[],r={};let i;for(const a of e)i=t(a),!(i in r)&&(r[i]=1,n.push(a));return n}function I5e(e,t){const n=ue(e),r=ue(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function Soe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ER(e,t){for(const n of e)if(t.has(n))return!0;return!1}function fj(e){const t=new Set;for(const n of e){const i=sl(n).map((o,s)=>s===0?o:`[${o}]`),a=i.map((o,s)=>i.slice(0,s+1).join(""));for(const o of a)t.add(o)}return t}function kR(e,t){return e===void 0||t===void 0?!0:ER(fj(e),fj(t))}function Ut(e){return ue(e).length===0}const ue=Object.keys,$r=Object.values,Wc=Object.entries;function r1(e){return e===!0||e===!1}function fn(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function rv(e,t){return SR(e)?`!(${rv(e.not,t)})`:wR(e)?`(${e.and.map(n=>rv(n,t)).join(") && (")})`:_R(e)?`(${e.or.map(n=>rv(n,t)).join(") || (")})`:t(e)}function vS(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&vS(e[n],t)&&delete e[n],Ut(e)}function $x(e){return e.charAt(0).toUpperCase()+e.substr(1)}function CR(e,t="datum"){const n=sl(e),r=[];for(let i=1;i<=n.length;i++){const a=`[${n.slice(0,i).map(ye).join("][")}]`;r.push(`${t}${a}`)}return r.join(" && ")}function Aoe(e,t="datum"){return`${t}[${ye(sl(e).join("."))}]`}function Mt(e){return`datum['${e.replaceAll("'","\\'")}']`}function R5e(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ho(e){return`${sl(e).map(R5e).join("\\.")}`}function Id(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function Dg(e){return`${sl(e).join(".")}`}function $m(e){return e?sl(e).length:0}function Tn(...e){return e.find(t=>t!==void 0)}let Eoe=42;function koe(e){const t=++Eoe;return e?String(e)+t:t}function z5e(){Eoe=42}function Coe(e){return Ooe(e)?e:`__${e}`}function Ooe(e){return e.startsWith("__")}function i1(e){if(e!==void 0)return(e%360+360)%360}function pk(e){return St(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const PW=Object.getPrototypeOf(structuredClone({}));function va(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!va(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const a of e.entries())if(!t.has(a[0]))return!1;for(const a of e.entries())if(!va(a[1],t.get(a[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e.entries())if(!t.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==PW.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==PW.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!va(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Wt(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,a;if(Array.isArray(r)){for(a="[",i=0;i<r.length;i++)i&&(a+=","),a+=n(r[i])||"null";return a+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const o=t.push(r)-1,s=Object.keys(r).sort();for(a="",i=0;i<s.length;i++){const l=s[i],u=n(r[l]);u&&(a&&(a+=","),a+=JSON.stringify(l)+":"+u)}return t.splice(o,1),`{${a}}`}(e)}function ce(e,t){return Se(e)&&ke(e,t)&&e[t]!==void 0}const nu="row",ru="column",mk="facet",hn="x",mr="y",ls="x2",hl="y2",of="xOffset",Fg="yOffset",us="radius",Eu="radius2",vo="theta",ku="theta2",cs="latitude",fs="longitude",ds="latitude2",po="longitude2",sf="time",Ki="color",pl="fill",ml="stroke",Qi="shape",Cu="size",gh="angle",Ou="opacity",lf="fillOpacity",uf="strokeOpacity",cf="strokeWidth",ff="strokeDash",Tx="text",Tm="order",Nx="detail",gk="key",Rd="tooltip",yk="href",vk="url",xk="description",B5e={x:1,y:1,x2:1,y2:1},Poe={theta:1,theta2:1,radius:1,radius2:1};function $oe(e){return ke(Poe,e)}const OR={longitude:1,longitude2:1,latitude:1,latitude2:1};function Toe(e){switch(e){case cs:return"y";case ds:return"y2";case fs:return"x";case po:return"x2"}}function Noe(e){return ke(OR,e)}const U5e=ue(OR),PR={...B5e,...Poe,...OR,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Vp(e){return e===Ki||e===pl||e===ml}const Moe={row:1,column:1,facet:1},to=ue(Moe),$R={...PR,...Moe},W5e=ue($R),{order:mvt,detail:gvt,tooltip:yvt,...q5e}=$R,{row:vvt,column:xvt,facet:bvt,...H5e}=q5e;function G5e(e){return ke(H5e,e)}function joe(e){return ke($R,e)}const V5e=[ls,hl,ds,po,ku,Eu];function Doe(e){return yh(e)!==e}function yh(e){switch(e){case ls:return hn;case hl:return mr;case ds:return cs;case po:return fs;case ku:return vo;case Eu:return us}return e}function qc(e){if($oe(e))switch(e){case vo:return"startAngle";case ku:return"endAngle";case us:return"outerRadius";case Eu:return"innerRadius"}return e}function gl(e){switch(e){case hn:return ls;case mr:return hl;case cs:return ds;case fs:return po;case vo:return ku;case us:return Eu}}function Ji(e){switch(e){case hn:case ls:return"width";case mr:case hl:return"height"}}function Foe(e){switch(e){case hn:return"xOffset";case mr:return"yOffset";case ls:return"x2Offset";case hl:return"y2Offset";case vo:return"thetaOffset";case us:return"radiusOffset";case ku:return"theta2Offset";case Eu:return"radius2Offset"}}function TR(e){switch(e){case hn:return"xOffset";case mr:return"yOffset"}}function X5e(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const Z5e=ue(PR),{x:_vt,y:wvt,x2:Svt,y2:Avt,xOffset:Evt,yOffset:kvt,latitude:Cvt,longitude:Ovt,latitude2:Pvt,longitude2:$vt,theta:Tvt,theta2:Nvt,radius:Mvt,radius2:jvt,...NR}=PR,Y5e=ue(NR),MR={x:1,y:1},Pu=ue(MR);function Nn(e){return ke(MR,e)}const jR={theta:1,radius:1},K5e=ue(jR);function bk(e){return e==="width"?hn:mr}const Loe={xOffset:1,yOffset:1};function Mx(e){return ke(Loe,e)}const Q5e={time:1};function f$(e){return e in Q5e}const{text:Dvt,tooltip:Fvt,href:Lvt,url:Ivt,description:Rvt,detail:zvt,key:Bvt,order:Uvt,...Ioe}=NR,J5e=ue(Ioe);function eze(e){return ke(NR,e)}function tze(e){switch(e){case Ki:case pl:case ml:case Cu:case Qi:case Ou:case cf:case ff:return!0;case lf:case uf:case gh:case sf:return!1}}const Roe={...MR,...jR,...Loe,...Ioe},DR=ue(Roe);function yl(e){return ke(Roe,e)}function nze(e,t){return ize(e)[t]}const zoe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Wvt,...rze}=zoe;function ize(e){switch(e){case Ki:case pl:case ml:case xk:case Nx:case gk:case Rd:case yk:case Tm:case Ou:case lf:case uf:case cf:case mk:case nu:case ru:return zoe;case hn:case mr:case of:case Fg:case cs:case fs:case sf:return rze;case ls:case hl:case ds:case po:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Cu:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case ff:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Qi:return{point:"always",geoshape:"always"};case Tx:return{text:"always"};case gh:return{point:"always",square:"always",text:"always"};case vk:return{image:"always"};case vo:return{text:"always",arc:"always"};case us:return{text:"always",arc:"always"};case ku:case Eu:return{arc:"always"}}}function d$(e){switch(e){case hn:case mr:case vo:case us:case of:case Fg:case Cu:case gh:case cf:case Ou:case lf:case uf:case sf:case ls:case hl:case ku:case Eu:return;case mk:case nu:case ru:case Qi:case ff:case Tx:case Rd:case yk:case vk:case xk:return"discrete";case Ki:case pl:case ml:return"flexible";case cs:case fs:case ds:case po:case Nx:case gk:case Tm:return}}const aze={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},oze={count:1,min:1,max:1};function vu(e){return ce(e,"argmin")}function df(e){return ce(e,"argmax")}function FR(e){return Ae(e)&&ke(aze,e)}const sze=new Set(["count","valid","missing","distinct"]);function _k(e){return Ae(e)&&sze.has(e)}function lze(e){return Ae(e)&&lt(["min","max"],e)}const uze=new Set(["count","sum","distinct","valid","missing"]),cze=new Set(["mean","average","median","q1","q3","min","max"]);function Boe(e){return Qc(e)&&(e=Mk(e,void 0)),"bin"+ue(e).map(t=>wk(e[t])?fn(`_${t}_${Wc(e[t])}`):fn(`_${t}_${e[t]}`)).join("")}function Jt(e){return e===!0||vh(e)&&!e.binned}function br(e){return e==="binned"||vh(e)&&e.binned===!0}function vh(e){return Se(e)}function wk(e){return ce(e,"param")}function $W(e){switch(e){case nu:case ru:case Cu:case Ki:case pl:case ml:case cf:case Ou:case lf:case uf:case Qi:return 6;case ff:return 4;default:return 10}}function jx(e){return ce(e,"expr")}function _r(e,{level:t}={level:0}){const n=ue(e||{}),r={};for(const i of n)r[i]=t===0?pa(e[i]):_r(e[i],{level:t-1});return r}function Uoe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:a,limit:o,color:s,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:p,subtitlePadding:m,...g}=e,v={...g,...s?{fill:s}:{}},x={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...a!==void 0?{angle:a}:{},...o!==void 0?{limit:o}:{}},b={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...p?{subtitleLineHeight:p}:{},...m?{subtitlePadding:m}:{}},S=Om(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:v,subtitleMarkConfig:S,nonMarkTitleProperties:x,subtitle:b}}function Qu(e){return Ae(e)||ae(e)&&Ae(e[0])}function Me(e){return ce(e,"signal")}function xh(e){return ce(e,"step")}function fze(e){return ae(e)?!1:ce(e,"fields")&&!ce(e,"data")}function dze(e){return ae(e)?!1:ce(e,"fields")&&ce(e,"data")}function Kl(e){return ae(e)?!1:ce(e,"field")&&ce(e,"data")}const hze={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},pze=ue(hze),mze={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},dj=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Woe(e){const t=ae(e.condition)?e.condition.map(TW):TW(e.condition);return{...pa(e),condition:t}}function pa(e){if(jx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function TW(e){if(jx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function an(e){if(jx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Me(e)?e:e!==void 0?{value:e}:void 0}function gze(e){return Me(e)?e.signal:ye(e)}function NW(e){return Me(e)?e.signal:ye(e.value)}function Wo(e){return Me(e)?e.signal:e==null?null:ye(e)}function yze(e,t,n){for(const r of n){const i=rl(r,t.markDef,t.config);i!==void 0&&(e[r]=an(i))}return e}function qoe(e){return[].concat(e.type,e.style??[])}function Bt(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:a}=r;return i&&ce(t,i)?t[i]:t[e]!==void 0?t[e]:a&&(!i||i===e)?void 0:rl(e,t,n,r)}function rl(e,t,n,{vgChannel:r}={}){const i=hj(e,t,n.style);return Tn(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function hj(e,t,n){return Hoe(e,qoe(t),n)}function Hoe(e,t,n){t=Ee(t);let r;for(const i of t){const a=n[i];ce(a,e)&&(r=a[e])}return r}function Goe(e,t){return Ee(e).reduce((n,r)=>(n.field.push(_e(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function Voe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(va(i,r))return;n.push(r)}),n}function Xoe(e,t){return va(e,t)||!t?e:e?[...Ee(e),...Ee(t)].join(", "):t}function Zoe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((Qu(n)||Me(n))&&(Qu(r)||Me(r)))return{explicit:e.explicit,value:Xoe(n,r)};if(Qu(n)||Me(n))return{explicit:e.explicit,value:n};if(Qu(r)||Me(r))return{explicit:e.explicit,value:r};if(!Qu(n)&&!Me(n)&&!Qu(r)&&!Me(r))return{explicit:e.explicit,value:Voe(n,r)};throw new Error("It should never reach here")}function LR(e){return`Invalid specification ${Wt(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const vze='Autosize "fit" only works for single views and layered views.';function MW(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function jW(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function DW(e){return e?`Dropping "fit-${e}" because spec has discrete ${Ji(e)}.`:'Dropping "fit" because spec has discrete size.'}function IR(e){return`Unknown field for ${e}. Cannot calculate view size.`}function FW(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function xze(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function bze(e){return`The "nearest" transform is not supported for ${e} marks.`}function Yoe(e){return`Selection not supported for ${e} yet.`}function _ze(e){return`Cannot find a selection named "${e}".`}const wze="Scale bindings are currently only supported for scales with unbinned, continuous domains.",Sze="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",Aze="Legend bindings are only supported for selections over an individual field or encoding channel.";function Eze(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function kze(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const Cze="The same selection must be used to override scale domains in a layered view.",Oze='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function Pze(e){return`Unknown repeated value "${e}".`}function LW(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const $ze="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",RR="Animation involving facet, layer, or concat is currently unsupported.";function Tze(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${ye(e)}.`}function Nze(e,t,n,r){return(e.length?"Multiple ":"No ")+`matching ${ye(t)} encoding found for selection ${ye(n.param)}. Using "field": ${ye(r)}.`}const Mze="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function jze(e){return`Unrecognized parse "${e}".`}function IW(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const Dze="Attempt to add the same child twice.";function Fze(e){return`Ignoring an invalid transform: ${Wt(e)}.`}const Lze='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function RW(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function Ize(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Wt(t)} is overridden by a child projection ${Wt(n)}.`}const Rze="Arc marks uses theta channel rather than angle, replacing angle with theta.";function zze(e){return`${e}Offset dropped because ${e} is continuous`}function Bze(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Wt(n)}}.`}function Koe(e){return`Invalid field type "${e}".`}function Uze(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function Wze(e){return`Invalid aggregation operator "${e}".`}function Qoe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function qze(e){return`Position range does not support relative band size for ${e}.`}function pj(e,t){return`Dropping ${Wt(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const Hze="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function Sk(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function Gze(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function Vze(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function Xze(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function Zze(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function h$(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function Yze(e){return`The ${e} for range marks cannot be an expression`}function Kze(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function Qze(e,t){return`Specified orient "${e}" overridden with "${t}".`}function Jze(e){return`Cannot use the scale property "${e}" with non-color channel.`}function e6e(e){return`Cannot use the relative band size with ${e} scale.`}function t6e(e){return`Using unaggregated domain with raw field has no effect (${Wt(e)}).`}function n6e(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function r6e(e){return`Unaggregated domain is currently unsupported for log scale (${Wt(e)}).`}function i6e(e){return`Cannot apply size to non-oriented mark "${e}".`}function a6e(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function o6e(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function Joe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function ese(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function s6e(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Wt(n)} and ${Wt(r)}). Using ${Wt(n)}.`}function l6e(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Wt(n)} and ${Wt(r)}). Using the union of the two domains.`}function u6e(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function c6e(e){return`Dropping sort property ${Wt(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const zW="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",f6e="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",d6e="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",h6e="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function p6e(e){return`Cannot stack "${e}" if there is already "${e}2".`}function m6e(e){return`Stack is applied to a non-linear scale (${e}).`}function g6e(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function xS(e,t){return`Invalid ${e}: ${Wt(t)}.`}function y6e(e){return`Dropping day from datetime ${Wt(e)} as day cannot be combined with other units.`}function v6e(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function x6e(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function b6e(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function BW(e){return`1D error band does not support ${e}.`}function tse(e){return`Channel ${e} is required for "binned" bin.`}function _6e(e){return`Channel ${e} should not be used with "binned" bin.`}function w6e(e){return`Domain for ${e} is required for threshold scale.`}const nse=AF(SF);let zd=nse;function S6e(e){return zd=e,zd}function A6e(){return zd=nse,zd}function zR(...e){zd.error(...e)}function fe(...e){zd.warn(...e)}function E6e(...e){zd.debug(...e)}function bh(e){if(e&&Se(e)){for(const t of UR)if(ce(e,t))return!0}return!1}const rse=["january","february","march","april","may","june","july","august","september","october","november","december"],k6e=rse.map(e=>e.substr(0,3)),ise=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],C6e=ise.map(e=>e.substr(0,3));function O6e(e){if(pk(e)&&(e=+e),St(e))return e>4&&fe(xS("quarter",e)),e-1;throw new Error(xS("quarter",e))}function P6e(e){if(pk(e)&&(e=+e),St(e))return e-1;{const t=e.toLowerCase(),n=rse.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=k6e.indexOf(r);if(i!==-1)return i;throw new Error(xS("month",e))}}function $6e(e){if(pk(e)&&(e=+e),St(e))return e%7;{const t=e.toLowerCase(),n=ise.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=C6e.indexOf(r);if(i!==-1)return i;throw new Error(xS("day",e))}}function BR(e,t){const n=[];if(t&&e.day!==void 0&&ue(e).length>1&&(fe(y6e(e)),e=Ve(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?P6e(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?O6e(e.quarter):e.quarter;n.push(St(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?$6e(e.day):e.day;n.push(St(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Bd(e){const n=BR(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function T6e(e){const n=BR(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function N6e(e){const t=BR(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const ase={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},UR=ue(ase);function M6e(e){return ke(ase,e)}function _h(e){return Se(e)?e.binned:ose(e)}function ose(e){return e&&e.startsWith("binned")}function WR(e){return e.startsWith("utc")}function j6e(e){return e.substring(3)}const D6e={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function Ak(e){return UR.filter(t=>lse(e,t))}function sse(e){const t=Ak(e);return t[t.length-1]}function lse(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function F6e(e,t,{end:n}={end:!1}){const r=CR(t),i=WR(e)?"utc":"";function a(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let o;const s={};for(const l of UR)lse(e,l)&&(s[l]=a(l),o=l);return n&&(s[o]+="+1"),T6e(s)}function use(e){if(!e)return;const t=Ak(e);return`timeUnitSpecifier(${Wt(t)}, ${Wt(D6e)})`}function L6e(e,t,n){if(!e)return;const r=use(e);return`${n||WR(e)?"utc":"time"}Format(${t}, ${r})`}function dr(e){if(!e)return;let t;return Ae(e)?ose(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Se(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),WR(t.unit)&&(t.utc=!0,t.unit=j6e(t.unit)),t}function I6e(e){const{utc:t,...n}=dr(e);return n.unit?(t?"utc":"")+ue(n).map(r=>fn(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+ue(n).map(r=>fn(`_${r}_${n[r]}`)).join("")}function cse(e,t=n=>n){const n=dr(e),r=sse(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:a,part:o}=fse(r,n.step),s={...i,[o]:+i[o]+a};return`${t(Bd(s))} - ${t(Bd(i))}`}}const R6e={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function z6e(e){return ke(R6e,e)}function fse(e,t=1){if(z6e(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function B6e(e){return ce(e,"param")}function qR(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function HR(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function GR(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function VR(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function XR(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function ZR(e){if(e!=null&&e.field){if(ae(e.range)&&e.range.length===2)return!0;if(Me(e.range))return!0}return!1}function YR(e){return!!(e!=null&&e.field)&&(ae(e.oneOf)||ae(e.in))}function U6e(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function dse(e){return YR(e)||qR(e)||ZR(e)||HR(e)||VR(e)||GR(e)||XR(e)}function _s(e,t){return jk(e,{timeUnit:t,wrapTime:!0})}function W6e(e,t){return e.map(n=>_s(n,t))}function hse(e,t=!0){const{field:n}=e,r=dr(e.timeUnit),{unit:i,binned:a}=r||{},o=_e(e,{expr:"datum"}),s=i?`time(${a?o:F6e(i,n)})`:o;if(qR(e))return`${s}===${_s(e.equal,i)}`;if(HR(e)){const l=e.lt;return`${s}<${_s(l,i)}`}else if(VR(e)){const l=e.gt;return`${s}>${_s(l,i)}`}else if(GR(e)){const l=e.lte;return`${s}<=${_s(l,i)}`}else if(XR(e)){const l=e.gte;return`${s}>=${_s(l,i)}`}else{if(YR(e))return`indexof([${W6e(e.oneOf,i).join(",")}], ${s}) !== -1`;if(U6e(e))return Ek(s,e.valid);if(ZR(e)){const{range:l}=_r(e),u=Me(l)?{signal:`${l.signal}[0]`}:l[0],c=Me(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+s+", ["+_s(u,i)+", "+_s(c,i)+"])";const f=[];return u!==null&&f.push(`${s} >= ${_s(u,i)}`),c!==null&&f.push(`${s} <= ${_s(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Wt(e)}`)}function Ek(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function q6e(e){return dse(e)&&e.timeUnit?{...e,timeUnit:dr(e.timeUnit)}:e}const Dx={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function H6e(e){return e==="quantitative"||e==="temporal"}function pse(e){return e==="ordinal"||e==="nominal"}const Ud=Dx.quantitative,KR=Dx.ordinal,Nm=Dx.temporal,QR=Dx.nominal,Lg=Dx.geojson;function G6e(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Ud:return"quantitative";case"t":case Nm:return"temporal";case"o":case KR:return"ordinal";case"n":case QR:return"nominal";case Lg:return"geojson"}}const wr={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},mj={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function V6e(e,t){const n=mj[e],r=mj[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const X6e={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function UW(e){return X6e[e]}const mse=new Set(["linear","log","pow","sqrt","symlog"]),gse=new Set([...mse,"time","utc"]);function yse(e){return mse.has(e)}const vse=new Set(["quantile","quantize","threshold"]),Z6e=new Set([...gse,...vse,"sequential","identity"]),Y6e=new Set(["ordinal","bin-ordinal","point","band"]);function hr(e){return Y6e.has(e)}function es(e){return Z6e.has(e)}function js(e){return gse.has(e)}function Mm(e){return vse.has(e)}const K6e={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function Q6e(e){return!Ae(e)&&ce(e,"name")}function xse(e){return ce(e,"param")}function J6e(e){return ce(e,"unionWith")}function eBe(e){return Se(e)&&"field"in e}const tBe={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:qvt,domain:Hvt,range:Gvt,rangeMax:Vvt,rangeMin:Xvt,scheme:Zvt,...nBe}=tBe,rBe=ue(nBe);function gj(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return js(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return js(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return js(e);case"nice":return js(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return es(e)&&!lt(["log","time","utc","threshold","quantile"],e)}}function bse(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Vp(e)?void 0:Jze(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function iBe(e,t){return lt([KR,QR],t)?e===void 0||hr(e):t===Nm?lt([wr.TIME,wr.UTC,void 0],e):t===Ud?yse(e)||Mm(e)||e===void 0:!0}function aBe(e,t,n=!1){if(!yl(e))return!1;switch(e){case hn:case mr:case of:case Fg:case vo:case us:return js(t)||t==="band"?!0:t==="point"?!n:!1;case sf:return lt(["linear","band"],t);case Cu:case cf:case Ou:case lf:case uf:case gh:return js(t)||Mm(t)||lt(["band","point","ordinal"],t);case Ki:case pl:case ml:return t!=="band";case ff:case Qi:return t==="ordinal"||Mm(t)}}function oBe(e){return Se(e)&&"value"in e}const Oi={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},_se=Oi.arc,kk=Oi.area,Ck=Oi.bar,sBe=Oi.image,Ok=Oi.line,Pk=Oi.point,lBe=Oi.rect,bS=Oi.rule,wse=Oi.text,JR=Oi.tick,uBe=Oi.trail,e5=Oi.circle,t5=Oi.square,Sse=Oi.geoshape;function hf(e){return["line","area","trail"].includes(e)}function a1(e){return["rect","bar","image","arc","tick"].includes(e)}const cBe=new Set(ue(Oi));function il(e){return ce(e,"type")}const fBe=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],dBe=["fill","fillOpacity"],hBe=[...fBe,...dBe],pBe={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},WW=ue(pBe),p$=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],mBe={area:["line","point"],bar:p$,rect:p$,line:["point"],tick:["bandSize","thickness",...p$]},gBe={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},yBe={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},Ase=ue(yBe);function Wd(e){return ce(e,"band")}const vBe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},xBe=5,n5={binSpacing:0,continuousBandSize:xBe,minBandSize:.25,timeUnitBandPosition:.5},bBe={...n5,binSpacing:1},_Be={...n5,thickness:1};function wBe(e){return il(e)?e.type:e}function Ese(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function r5({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var s,l;if(!r||!es(r)||i)return"always-valid";const a=Ese(Bt("invalid",e,t),{isPath:hf(e.type)});return((l=(s=t.scale)==null?void 0:s.invalid)==null?void 0:l[n])!==void 0?"show":a}function SBe(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function kse({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,a=`peek(${r})`,o=t.domainHasZero();return o==="definitely"?{scale:e,value:0}:o==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:a})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:a})`}}function Cse({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:a}){var c;const o=n==null?void 0:n.get("type"),s=ns(t),l=_k(s==null?void 0:s.aggregate),u=r5({scaleChannel:e,markDef:i,config:a,scaleType:o,isCountAggregate:l});if(s&&u==="show"){const f=((c=a.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:Ek(_e(s,{expr:"datum"}),!1),...ABe(f,n,r)}}}function ABe(e,t,n){if(oBe(e)){const{value:r}=e;return Me(r)?{signal:r.signal}:{value:r}}return kse({scale:t,scaleName:n,mode:"zeroOrMin"})}function i5(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:a,config:o}=e,s=yh(t),l=a5(e),u=Cse({scaleChannel:s,channelDef:n,scale:i,scaleName:a,markDef:r,config:o});return u!==void 0?[u,l]:l}function EBe(e){const{datum:t}=e;return bh(t)?Bd(t):`${Wt(t)}`}function dd(e,t,n,r){const i={};if(t&&(i.scale=t),vl(e)){const{datum:a}=e;bh(a)?i.signal=Bd(a):Me(a)?i.signal=a.signal:jx(a)?i.signal=a.expr:i.value=a}else i.field=_e(e,n);if(r){const{offset:a,band:o}=r;a&&(i.offset=a),o&&(i.band=o)}return i}function _S({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:a="end",bandPosition:o=.5}){const s=!Me(o)&&0<o&&o<1?"datum":void 0,l=_e(t,{expr:s,suffix:i}),u=n!==void 0?_e(n,{expr:s}):_e(t,{suffix:a,expr:s}),c={};if(o===0||o===1){c.scale=e;const f=o===0?l:u;c.field=f}else{const f=Me(o)?`(1-${o.signal}) * ${l} + ${o.signal} * ${u}`:`${1-o} * ${l} + ${o} * ${u}`;c.signal=`scale("${e}", ${f})`}return r&&(c.offset=r),c}function kBe({scaleName:e,fieldDef:t}){const n=_e(t,{expr:"datum"}),r=_e(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function a5({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:o,stack:s,offset:l,defaultRef:u,bandPosition:c}){if(t){if(Ye(t)){const f=o==null?void 0:o.get("type");if(Ai(t)){c??(c=Hc({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:p,type:m}=t;if(Jt(d)||c&&p&&m===Nm)return s!=null&&s.impute?dd(t,a,{binSuffix:"mid"},{offset:l}):c&&!hr(f)?_S({scaleName:a,fieldOrDatumDef:t,bandPosition:c,offset:l}):dd(t,a,zx(t,e)?{binSuffix:"range"}:{},{offset:l});if(br(d)){if(de(n))return _S({scaleName:a,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});fe(tse(e===hn?ls:hl))}}return dd(t,a,hr(f)?{binSuffix:"range"}:{},{offset:l,band:f==="band"?c??t.bandPosition??.5:void 0})}else if(ts(t)){const f=t.value,d=l?{offset:l}:{};return{...iv(e,f),...d}}}return et(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function iv(e,t){return lt(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:lt(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:an(t)}function qd(e){return e&&e!=="number"&&e!=="time"}function Ose(e,t,n){return`${e}(${t}${n?`, ${Wt(n)}`:""})`}const CBe="  ";function o5({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a}){var l,u;if(qd(n))return qo({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:a});const o=Pse(e,r,i),s=jm(e);if(t===void 0&&n===void 0&&a.customFormatTypes){if(s==="quantitative"){if(i&&a.normalizedNumberFormatType)return qo({fieldOrDatumDef:e,format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,expr:r,config:a});if(a.numberFormatType)return qo({fieldOrDatumDef:e,format:a.numberFormat,formatType:a.numberFormatType,expr:r,config:a})}if(s==="temporal"&&a.timeFormatType&&de(e)&&e.timeUnit===void 0)return qo({fieldOrDatumDef:e,format:a.timeFormat,formatType:a.timeFormatType,expr:r,config:a})}if(Fm(e)){const c=PBe({field:o,timeUnit:de(e)?(l=dr(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:a.timeFormatType,rawTimeFormat:a.timeFormat,isUTCScale:wh(e)&&((u=e.scale)==null?void 0:u.type)===wr.UTC});return c?{signal:c}:void 0}if(t=yj({type:s,specifiedFormat:t,config:a,normalizeStack:i}),de(e)&&Jt(e.bin)){const c=_e(e,{expr:r,binSuffix:"end"});return{signal:Fx(o,c,t,n,a)}}else return t||jm(e)==="quantitative"?{signal:`${Nse(o,t)}`}:{signal:`isValid(${o}) ? ${o} : ""+${o}`}}function Pse(e,t,n){return de(e)?n?`${_e(e,{expr:t,suffix:"end"})}-${_e(e,{expr:t,suffix:"start"})}`:_e(e,{expr:t}):EBe(e)}function qo({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a,field:o}){if(o??(o=Pse(e,r,i)),o!=="datum.value"&&de(e)&&Jt(e.bin)){const s=_e(e,{expr:r,binSuffix:"end"});return{signal:Fx(o,s,t,n,a)}}return{signal:Ose(n,o,t)}}function $se(e,t,n,r,i,a){var o;if(!(Ae(r)&&qd(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&jm(e)==="quantitative"&&(i.normalizedNumberFormatType&&Dm(e)&&e.stack==="normalize"||i.numberFormatType))){if(Dm(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return yj({type:"quantitative",config:i,normalizeStack:!0});if(Fm(e)){const s=de(e)?(o=dr(e.timeUnit))==null?void 0:o.unit:void 0;return s===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:OBe({specifiedFormat:n,timeUnit:s,config:i,omitTimeFormatConfig:a})}return yj({type:t,specifiedFormat:n,config:i})}}function Tse(e,t,n){var r;if(e&&(Me(e)||e==="number"||e==="time"))return e;if(Fm(t)&&n!=="time"&&n!=="utc")return de(t)&&((r=dr(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function yj({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Ae(t))return t;if(e===Ud)return r?n.normalizedNumberFormat:n.numberFormat}function OBe({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:use(t)}:r?void 0:n.timeFormat)}function Nse(e,t){return`format(${e}, "${t||""}")`}function qW(e,t,n,r){return qd(n)?Ose(n,e,t):Nse(e,(Ae(t)?t:void 0)??r.numberFormat)}function Fx(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return Fx(e,t,i.numberFormat,i.numberFormatType,i);const a=qW(e,n,r,i),o=qW(t,n,r,i);return`${Ek(e,!1)} ? "null" : ${a} + "${CBe}" + ${o}`}function PBe({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:a}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Ae(n)?n:i,`${a?"utc":"time"}Format(${e}, '${n}')`):L6e(t,e,a)}const $k="min",$Be={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function HW(e){return ke($Be,e)}function TBe(e){return ce(e,"encoding")}function iu(e){return e&&(e.op==="count"||ce(e,"field"))}function Mse(e){return e&&ae(e)}function Lx(e){return ce(e,"row")||ce(e,"column")}function s5(e){return ce(e,"header")}function Tk(e){return ce(e,"facet")}function NBe(e){return ce(e,"param")}function MBe(e){return!Ae(e)&&ce(e,"repeat")}function GW(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function l5(e){return ce(e,"sort")}function Hc({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Ye(e)&&e.bandPosition!==void 0)return e.bandPosition;if(de(e)){const{timeUnit:i,bin:a}=e;if(i&&!t)return rl("timeUnitBandPosition",n,r);if(Jt(a))return .5}}function jse({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:a,useVlSizeChannel:o}){var u,c,f;const s=Ji(e),l=Bt(o?"size":s,r,i,{vgChannel:s});if(l!==void 0)return l;if(de(t)){const{timeUnit:d,bin:p}=t;if(d&&!n)return{band:rl("timeUnitBandSize",r,i)};if(Jt(p)&&!hr(a))return{band:1}}if(a1(r.type))return a?hr(a)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function Dse(e,t,n,r){return Jt(e.bin)||e.timeUnit&&Ai(e)&&e.type==="temporal"?Hc({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function Fse(e){return ce(e,"sort")&&!ce(e,"field")}function Ix(e){return ce(e,"condition")}function Nk(e){const t=e==null?void 0:e.condition;return!!t&&!ae(t)&&de(t)}function Rx(e){const t=e==null?void 0:e.condition;return!!t&&!ae(t)&&Ye(t)}function jBe(e){const t=e==null?void 0:e.condition;return!!t&&(ae(t)||ts(t))}function de(e){return ce(e,"field")||(e==null?void 0:e.aggregate)==="count"}function jm(e){return e==null?void 0:e.type}function vl(e){return ce(e,"datum")}function pc(e){return Ai(e)&&!SS(e)||wS(e)}function VW(e){return Ai(e)&&e.type==="quantitative"&&!e.bin||wS(e)}function wS(e){return vl(e)&&St(e.datum)}function Ye(e){return de(e)||vl(e)}function Ai(e){return e&&(ce(e,"field")||e.aggregate==="count")&&ce(e,"type")}function ts(e){return ce(e,"value")}function wh(e){return ce(e,"scale")||ce(e,"sort")}function Dm(e){return ce(e,"axis")||ce(e,"stack")||ce(e,"impute")}function Lse(e){return ce(e,"legend")}function Ise(e){return ce(e,"format")||ce(e,"formatType")}function DBe(e){return Gi(e,["legend","axis","header","scale"])}function FBe(e){return ce(e,"op")}function _e(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,a="";if(IBe(e))n=Coe("count");else{let o;if(!t.nofn)if(FBe(e))o=e.op;else{const{bin:s,aggregate:l,timeUnit:u}=e;Jt(s)?(o=Boe(s),i=(t.binSuffix??"")+(t.suffix??"")):l?df(l)?(a=`["${n}"]`,n=`argmax_${l.argmax}`):vu(l)?(a=`["${n}"]`,n=`argmin_${l.argmin}`):o=String(l):u&&!_h(u)&&(o=I6e(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}o&&(n=n?`${o}_${n}`:o)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?Dg(n):t.expr?Aoe(n,t.expr)+a:ho(n)+a}function SS(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return de(e)&&!!e.bin;case"temporal":return!1}throw new Error(Koe(e.type))}function LBe(e){var t;return wh(e)&&Mm((t=e.scale)==null?void 0:t.type)}function IBe(e){return e.aggregate==="count"}function RBe(e,t){var o;const{field:n,bin:r,timeUnit:i,aggregate:a}=e;if(a==="count")return t.countTitle;if(Jt(r))return`${n} (binned)`;if(i&&!_h(i)){const s=(o=dr(i))==null?void 0:o.unit;if(s)return`${n} (${Ak(s).join("-")})`}else if(a)return df(a)?`${n} for max ${a.argmax}`:vu(a)?`${n} for min ${a.argmin}`:`${$x(a)} of ${n}`;return n}function zBe(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(df(t))return`${i} for argmax(${t.argmax})`;if(vu(t))return`${i} for argmin(${t.argmin})`;const a=r&&!_h(r)?dr(r):void 0,o=t||(a==null?void 0:a.unit)||(a==null?void 0:a.maxbins)&&"timeunit"||Jt(n)&&"bin";return o?`${o.toUpperCase()}(${i})`:i}const Rse=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return zBe(e);default:return RBe(e,t)}};let zse=Rse;function Bse(e){zse=e}function BBe(){Bse(Rse)}function Xp(e,t,{allowDisabling:n,includeDefault:r=!0}){var s;const i=(s=u5(e))==null?void 0:s.title;if(!de(e))return i??e.title;const a=e,o=r?c5(a,t):void 0;return n?Tn(i,a.title,o):i??a.title??o}function u5(e){if(Dm(e)&&e.axis)return e.axis;if(Lse(e)&&e.legend)return e.legend;if(s5(e)&&e.header)return e.header}function c5(e,t){return zse(e,t)}function AS(e){if(Ise(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=u5(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function UBe(e,t){var a;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(l5(e)&&ae(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!df(n)&&!vu(n))return"quantitative";if(wh(e)&&((a=e.scale)!=null&&a.type))switch(mj[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function ns(e){if(de(e))return e;if(Nk(e))return e.condition}function Zn(e){if(Ye(e))return e;if(Rx(e))return e.condition}function Use(e,t,n,r={}){if(Ae(e)||St(e)||Qc(e)){const i=Ae(e)?"string":St(e)?"number":"boolean";return fe(Bze(t,i,e)),{value:e}}return Ye(e)?ES(e,t,n,r):Rx(e)?{...e,condition:ES(e.condition,t,n,r)}:e}function ES(e,t,n,r){if(Ise(e)){const{format:i,formatType:a,...o}=e;if(qd(a)&&!n.customFormatTypes)return fe(RW(t)),ES(o,t,n,r)}else{const i=Dm(e)?"axis":Lse(e)?"legend":s5(e)?"header":null;if(i&&e[i]){const{format:a,formatType:o,...s}=e[i];if(qd(o)&&!n.customFormatTypes)return fe(RW(t)),ES({...e,[i]:s},t,n,r)}}return de(e)?f5(e,t,r):WBe(e)}function WBe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=St(n)?"quantitative":Ae(n)?"nominal":bh(n)?"temporal":void 0,{...e,type:t}}function f5(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:a,field:o}=e,s={...e};if(!n&&r&&!FR(r)&&!df(r)&&!vu(r)&&(fe(Wze(r)),delete s.aggregate),i&&(s.timeUnit=dr(i)),o&&(s.field=`${o}`),Jt(a)&&(s.bin=Mk(a,t)),br(a)&&!Nn(t)&&fe(_6e(t)),Ai(s)){const{type:l}=s,u=G6e(l);l!==u&&(s.type=u),l!=="quantitative"&&_k(r)&&(fe(Uze(l,r)),s.type="quantitative")}else if(!Doe(t)){const l=UBe(s,t);s.type=l}if(Ai(s)){const{compatible:l,warning:u}=qBe(s,t)||{};l===!1&&fe(u)}if(l5(s)&&Ae(s.sort)){const{sort:l}=s;if(HW(l))return{...s,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&HW(u))return{...s,sort:{encoding:u,order:"descending"}}}if(s5(s)){const{header:l}=s;if(l){const{orient:u,...c}=l;if(u)return{...s,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return s}function Mk(e,t){return Qc(e)?{maxbins:$W(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:$W(t)}:e}const Qh={compatible:!0};function qBe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case nu:case ru:case mk:return SS(e)?Qh:{compatible:!1,warning:Vze(t)};case hn:case mr:case of:case Fg:case Ki:case pl:case ml:case Tx:case Nx:case gk:case Rd:case yk:case vk:case gh:case vo:case us:case xk:return Qh;case fs:case po:case cs:case ds:return n!==Ud?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Qh;case Ou:case lf:case uf:case cf:case Cu:case ku:case Eu:case ls:case hl:case sf:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:Qh;case Qi:case ff:return!SS(e)&&!LBe(e)?{compatible:!1,warning:Xze(t)}:Qh;case Tm:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Qh}}function Fm(e){const{formatType:t}=AS(e);return t==="time"||!t&&HBe(e)}function HBe(e){return e&&(e.type==="temporal"||de(e)&&!!e.timeUnit)}function jk(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const a=t&&((l=dr(t))==null?void 0:l.unit);let o=a||n==="temporal",s;return jx(e)?s=e.expr:Me(e)?s=e.signal:bh(e)?(o=!0,s=Bd(e)):(Ae(e)||St(e))&&o&&(s=`datetime(${Wt(e)})`,M6e(a)&&(St(e)&&e<1e4||Ae(e)&&isNaN(Date.parse(e)))&&(s=Bd({[a]:e}))),s?r&&o?`time(${s})`:s:i?void 0:Wt(e)}function Wse(e,t){const{type:n}=e;return t.map(r=>{const i=de(e)&&!_h(e.timeUnit)?e.timeUnit:void 0,a=jk(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return a!==void 0?{signal:a}:r})}function zx(e,t){return Jt(e.bin)?yl(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const XW={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Bx(e){return e==null?void 0:e.condition}const qse=["domain","grid","labels","ticks","title"],GBe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Hse={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},VBe={...Hse,style:1,labelExpr:1,encoding:1};function ZW(e){return ke(VBe,e)}const XBe={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},Gse=ue(XBe);function $u(e){return ce(e,"mark")}class Dk{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return $u(t)?wBe(t.mark)===this.name:!1}}function hd(e,t){const n=e&&e[t];return n?ae(n)?Pm(n,r=>!!r.field):de(n)||Nk(n):!1}function Vse(e,t){const n=e&&e[t];return n?ae(n)?Pm(n,r=>!!r.field):de(n)||vl(n)||Rx(n):!1}function Xse(e,t){if(Nn(t)){const n=e[t];if((de(n)||vl(n))&&(pse(n.type)||de(n)&&n.timeUnit)){const r=TR(t);return Vse(e,r)}}return!1}function Zse(e){return Pm(W5e,t=>{if(hd(e,t)){const n=e[t];if(ae(n))return Pm(n,r=>!!r.aggregate);{const r=ns(n);return r&&!!r.aggregate}}return!1})}function Yse(e,t){const n=[],r=[],i=[],a=[],o={};return d5(e,(s,l)=>{if(de(s)){const{field:u,aggregate:c,bin:f,timeUnit:d,...p}=s;if(c||d||f){const m=u5(s),g=m==null?void 0:m.title;let v=_e(s,{forAs:!0});const x={...g?[]:{title:Xp(s,t,{allowDisabling:!0})},...p,field:v};if(c){let b;if(df(c)?(b="argmax",v=_e({op:"argmax",field:c.argmax},{forAs:!0}),x.field=`${v}.${u}`):vu(c)?(b="argmin",v=_e({op:"argmin",field:c.argmin},{forAs:!0}),x.field=`${v}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(b=c),b){const S={op:b,as:v};u&&(S.field=u),a.push(S)}}else if(n.push(v),Ai(s)&&Jt(f)){if(r.push({bin:f,field:u,as:v}),n.push(_e(s,{binSuffix:"end"})),zx(s,l)&&n.push(_e(s,{binSuffix:"range"})),Nn(l)){const b={field:`${v}_end`};o[`${l}2`]=b}x.bin="binned",Doe(l)||(x.type=Ud)}else if(d&&!_h(d)){i.push({timeUnit:d,field:u,as:v});const b=Ai(s)&&s.type!==Nm&&"time";b&&(l===Tx||l===Rd?x.formatType=b:eze(l)?x.legend={formatType:b,...x.legend}:Nn(l)&&(x.axis={formatType:b,...x.axis}))}o[l]=x}else n.push(u),o[l]=e[l]}else o[l]=e[l]}),{bins:r,timeUnits:i,aggregate:a,groupby:n,encoding:o}}function ZBe(e,t,n){const r=nze(t,n);if(r){if(r==="binned"){const i=e[t===ls?hn:mr];return!!(de(i)&&de(e[t])&&br(i.bin))}}else return!1;return!0}function YBe(e,t,n,r){const i={};for(const a of ue(e))joe(a)||fe(Gze(a));for(let a of Z5e){if(!e[a])continue;const o=e[a];if(Mx(a)){const s=X5e(a),l=i[s];if(de(l)&&H6e(l.type)&&de(o)&&!l.timeUnit){fe(zze(s));continue}}if(a==="angle"&&t==="arc"&&!e.theta&&(fe(Rze),a=vo),!ZBe(e,a,t)){fe(Sk(a,t));continue}if(a===Cu&&t==="line"){const s=ns(e[a]);if(s!=null&&s.aggregate){fe(Hze);continue}}if(a===Ki&&(n?"fill"in e:"stroke"in e)){fe(Qoe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(a===Nx||a===Tm&&!ae(o)&&!ts(o)||a===Rd&&ae(o)){if(o){if(a===Tm){const s=e[a];if(Fse(s)){i[a]=s;continue}}i[a]=Ee(o).reduce((s,l)=>(de(l)?s.push(f5(l,a)):fe(pj(l,a)),s),[])}}else{if(a===Rd&&o===null)i[a]=null;else if(!de(o)&&!vl(o)&&!ts(o)&&!Ix(o)&&!Me(o)){fe(pj(o,a));continue}i[a]=Use(o,a,r)}}return i}function Fk(e,t){const n={};for(const r of ue(e)){const i=Use(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function KBe(e){const t=[];for(const n of ue(e))if(hd(e,n)){const r=e[n],i=Ee(r);for(const a of i)de(a)?t.push(a):Nk(a)&&t.push(a.condition)}return t}function d5(e,t,n){if(e)for(const r of ue(e)){const i=e[r];if(ae(i))for(const a of i)t.call(n,a,r);else t.call(n,i,r)}}function QBe(e,t,n,r){return e?ue(e).reduce((i,a)=>{const o=e[a];return ae(o)?o.reduce((s,l)=>t.call(r,s,l,a),i):t.call(r,i,o,a)},n):n}function Kse(e,t){return ue(t).reduce((n,r)=>{switch(r){case hn:case mr:case yk:case xk:case vk:case ls:case hl:case of:case Fg:case vo:case ku:case us:case Eu:case sf:case cs:case fs:case ds:case po:case Tx:case Qi:case gh:case Rd:return n;case Tm:if(e==="line"||e==="trail")return n;case Nx:case gk:{const i=t[r];if(ae(i)||de(i))for(const a of Ee(i))a.aggregate||n.push(_e(a,{}));return n}case Cu:if(e==="trail")return n;case Ki:case pl:case ml:case Ou:case lf:case uf:case ff:case cf:{const i=ns(t[r]);return i&&!i.aggregate&&n.push(_e(i,{})),n}}},[])}function JBe(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(ae(t)){for(const a of t)a.aggregate?(r||(r=[]),r.push(a)):(i||(i=[]),i.push(a));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return ae(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function vj(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:o,titlePrefix:s})=>{const l=r?` of ${h5(t)}`:"";return{field:o+t.field,type:t.type,title:Me(s)?{signal:`${s}"${escape(l)}"`}:s+l}}),a=KBe(n).map(DBe);return{tooltip:[...i,...Ms(a,dt)]}}function h5(e){const{title:t,field:n}=e;return Tn(t,n)}function p5(e,t,n,r,i){const{scale:a,axis:o}=n;return({partName:s,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const d=h5(n);return Qse(e,s,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...a!==void 0?{scale:a}:{},...o!==void 0?{axis:o}:{}},...Ae(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function Qse(e,t,n,r){const{clip:i,color:a,opacity:o}=e,s=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...a?{color:a}:{},...o?{opacity:o}:{},...il(r.mark)?r.mark:{type:r.mark},style:`${s}-${String(t)}`,...Qc(e[t])?{}:e[t]}}]:[]}function Jse(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",a=r[i],o=r[`${i}2`],s=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:f_(a,n),continuousAxisChannelDef2:f_(o,n),continuousAxisChannelDefError:f_(s,n),continuousAxisChannelDefError2:f_(l,n),continuousAxis:i}}function f_(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&fe(b6e(n,t)),r}else return e}function ele(e,t){const{mark:n,encoding:r}=e,{x:i,y:a}=r;if(il(n)&&n.orient)return n.orient;if(pc(i)){if(pc(a)){const o=de(i)&&i.aggregate,s=de(a)&&a.aggregate;if(!o&&s===t)return"vertical";if(!s&&o===t)return"horizontal";if(o===t&&s===t)throw new Error("Both x and y cannot have aggregate");return Fm(a)&&!Fm(i)?"horizontal":"vertical"}return"horizontal"}else{if(pc(a))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const kS="boxplot",e8e=["box","median","outliers","rule","ticks"],t8e=new Dk(kS,nle);function tle(e){return St(e)?"tukey":e}function nle(e,{config:t}){e={...e,encoding:Fk(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:a,...o}=e,s=il(n)?n:{type:n};i&&fe(Yoe("boxplot"));const l=s.extent??t.boxplot.extent,u=Bt("size",s,t),c=s.invalid,f=tle(l),{bins:d,timeUnits:p,transform:m,continuousAxisChannelDef:g,continuousAxis:v,groupby:x,aggregate:b,encodingWithoutContinuousAxis:S,ticksOrient:k,boxOrient:A,customTooltipWithoutAggregatedField:E}=n8e(e,l,t),C=Dg(g.field),{color:P,size:T,...j}=S,D=gr=>p5(s,v,g,gr,t.boxplot),F=D(j),W=D(S),R=(Se(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",N=D({...j,...T?{size:T}:{},color:{condition:{test:`${Mt(`lower_box_${g.field}`)} >= ${Mt(`upper_box_${g.field}`)}`,...P||{value:R}}}}),z=vj([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],g,S),q={type:"tick",color:"black",opacity:1,orient:k,invalid:c,aria:!1},B=f==="min-max"?z:vj([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,S),G=[...F({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:B}),...F({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:B}),...F({partName:"ticks",mark:q,positionPrefix:"lower_whisker",extraEncoding:B}),...F({partName:"ticks",mark:q,positionPrefix:"upper_whisker",extraEncoding:B})],M=[...f!=="tukey"?G:[],...W({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:A,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:z}),...N({partName:"median",mark:{type:"tick",invalid:c,...Se(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:k,aria:!1},positionPrefix:"mid_box",extraEncoding:z})];if(f==="min-max")return{...o,transform:(o.transform??[]).concat(m),layer:M};const K=Mt(`lower_box_${g.field}`),Z=Mt(`upper_box_${g.field}`),U=`(${Z} - ${K})`,me=`${K} - ${l} * ${U}`,le=`${Z} + ${l} * ${U}`,ve=Mt(g.field),mt={joinaggregate:rle(g.field),groupby:x},it={transform:[{filter:`(${me} <= ${ve}) && (${ve} <= ${le})`},{aggregate:[{op:"min",field:g.field,as:`lower_whisker_${C}`},{op:"max",field:g.field,as:`upper_whisker_${C}`},{op:"min",field:`lower_box_${g.field}`,as:`lower_box_${C}`},{op:"max",field:`upper_box_${g.field}`,as:`upper_box_${C}`},...b],groupby:x}],layer:G},{tooltip:be,...De}=j,{scale:ze,axis:oe}=g,Ct=h5(g),nt=Gi(oe,["title"]),Rt=Qse(s,"outliers",t.boxplot,{transform:[{filter:`(${ve} < ${me}) || (${ve} > ${le})`}],mark:"point",encoding:{[v]:{field:g.field,type:g.type,...Ct!==void 0?{title:Ct}:{},...ze!==void 0?{scale:ze}:{},...Ut(nt)?{}:{axis:nt}},...De,...P?{color:P}:{},...E?{tooltip:E}:{}}})[0];let $t;const ln=[...d,...p,mt];return Rt?$t={transform:ln,layer:[Rt,it]}:($t=it,$t.transform.unshift(...ln)),{...o,layer:[$t,{transform:m,layer:M}]}}function rle(e){const t=Dg(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function n8e(e,t,n){const r=ele(e,kS),{continuousAxisChannelDef:i,continuousAxis:a}=Jse(e,r,kS),o=i.field,s=Dg(o),l=tle(t),u=[...rle(o),{op:"median",field:o,as:`mid_box_${s}`},{op:"min",field:o,as:(l==="min-max"?"lower_whisker_":"min_")+s},{op:"max",field:o,as:(l==="min-max"?"upper_whisker_":"max_")+s}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`${Mt(`upper_box_${s}`)} - ${Mt(`lower_box_${s}`)}`,as:`iqr_${s}`},{calculate:`min(${Mt(`upper_box_${s}`)} + ${Mt(`iqr_${s}`)} * ${t}, ${Mt(`max_${s}`)})`,as:`upper_whisker_${s}`},{calculate:`max(${Mt(`lower_box_${s}`)} - ${Mt(`iqr_${s}`)} * ${t}, ${Mt(`min_${s}`)})`,as:`lower_whisker_${s}`}],{[a]:f,...d}=e.encoding,{customTooltipWithoutAggregatedField:p,filteredEncoding:m}=JBe(d),{bins:g,timeUnits:v,aggregate:x,groupby:b,encoding:S}=Yse(m,n),k=r==="vertical"?"horizontal":"vertical",A=r,E=[...g,...v,{aggregate:[...x,...u],groupby:b},...c];return{bins:g,timeUnits:v,transform:E,groupby:b,aggregate:x,continuousAxisChannelDef:i,continuousAxis:a,encodingWithoutContinuousAxis:S,ticksOrient:k,boxOrient:A,customTooltipWithoutAggregatedField:p}}const m5="errorbar",r8e=["ticks","rule"],i8e=new Dk(m5,ile);function ile(e,{config:t}){e={...e,encoding:Fk(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,ticksOrient:o,markDef:s,outerSpec:l,tooltipEncoding:u}=ale(e,m5,t);delete a.size;const c=p5(s,i,r,a,t.errorbar),f=s.thickness,d=s.size,p={type:"tick",orient:o,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},m=[...c({partName:"ticks",mark:p,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:p,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...m.length>1?{layer:m}:{...m[0]}}}function a8e(e,t){const{encoding:n}=e;if(o8e(n))return{orient:ele(e,t),inputType:"raw"};const r=s8e(n),i=l8e(n),a=n.x,o=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const s=n.x2,l=n.y2;if(Ye(s)&&Ye(l))throw new Error(`${t} cannot have both x2 and y2`);if(Ye(s)){if(pc(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Ye(l)){if(pc(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const s=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(Ye(l)&&!Ye(s))throw new Error(`${t} cannot have xError2 without xError`);if(Ye(c)&&!Ye(u))throw new Error(`${t} cannot have yError2 without yError`);if(Ye(s)&&Ye(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Ye(s)){if(pc(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Ye(u)){if(pc(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function o8e(e){return(Ye(e.x)||Ye(e.y))&&!Ye(e.x2)&&!Ye(e.y2)&&!Ye(e.xError)&&!Ye(e.xError2)&&!Ye(e.yError)&&!Ye(e.yError2)}function s8e(e){return Ye(e.x2)||Ye(e.y2)}function l8e(e){return Ye(e.xError)||Ye(e.xError2)||Ye(e.yError)||Ye(e.yError2)}function ale(e,t,n){const{mark:r,encoding:i,params:a,projection:o,...s}=e,l=il(r)?r:{type:r};a&&fe(Yoe(t));const{orient:u,inputType:c}=a8e(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:m,continuousAxis:g}=Jse(e,u,t),{errorBarSpecificAggregate:v,postAggregateCalculates:x,tooltipSummary:b,tooltipTitleWithFieldName:S}=u8e(l,f,d,p,m,c,t,n),{[g]:k,[g==="x"?"x2":"y2"]:A,[g==="x"?"xError":"yError"]:E,[g==="x"?"xError2":"yError2"]:C,...P}=i,{bins:T,timeUnits:j,aggregate:D,groupby:F,encoding:W}=Yse(P,n),R=[...D,...v],N=c!=="raw"?[]:F,z=vj(b,f,W,S);return{transform:[...s.transform??[],...T,...j,...R.length===0?[]:[{aggregate:R,groupby:N}],...x],groupby:N,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:W,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:s,tooltipEncoding:z}}function u8e(e,t,n,r,i,a,o,s){let l=[],u=[];const c=t.field;let f,d=!1;if(a==="raw"){const p=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":s.errorbar.center,m=e.extent?e.extent:p==="mean"?"stderr":"iqr";if(p==="median"!=(m==="iqr")&&fe(x6e(p,m,o)),m==="stderr"||m==="stdev")l=[{op:m,field:c,as:`extent_${c}`},{op:p,field:c,as:`center_${c}`}],u=[{calculate:`${Mt(`center_${c}`)} + ${Mt(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${Mt(`center_${c}`)} - ${Mt(`extent_${c}`)}`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:$x(p)},{fieldPrefix:"upper_",titlePrefix:YW(p,m,"+")},{fieldPrefix:"lower_",titlePrefix:YW(p,m,"-")}],d=!0;else{let g,v,x;m==="ci"?(g="mean",v="ci0",x="ci1"):(g="median",v="q1",x="q3"),l=[{op:v,field:c,as:`lower_${c}`},{op:x,field:c,as:`upper_${c}`},{op:g,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:Xp({field:c,aggregate:x,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Xp({field:c,aggregate:v,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Xp({field:c,aggregate:g,type:"quantitative"},s,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&fe(v6e(e.center,e.extent)),a==="aggregated-upper-lower"?(f=[],u=[{calculate:Mt(n.field),as:`upper_${c}`},{calculate:Mt(c),as:`lower_${c}`}]):a==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`${Mt(c)} + ${Mt(r.field)}`,as:`upper_${c}`}],i?u.push({calculate:`${Mt(c)} + ${Mt(i.field)}`,as:`lower_${c}`}):u.push({calculate:`${Mt(c)} - ${Mt(r.field)}`,as:`lower_${c}`}));for(const p of u)f.push({fieldPrefix:p.as.substring(0,6),titlePrefix:Id(Id(p.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function YW(e,t,n){return`${$x(e)} ${n} ${t}`}const g5="errorband",c8e=["band","borders"],f8e=new Dk(g5,ole);function ole(e,{config:t}){e={...e,encoding:Fk(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,markDef:o,outerSpec:s,tooltipEncoding:l}=ale(e,g5,t),u=o,c=p5(u,i,r,a,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},p={type:f?"line":"rule"};const m={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return f?(d={...d,...m,ariaRoleDescription:"errorband"},p={...p,...m,aria:!1}):u.interpolate?fe(BW("interpolate")):u.tension&&fe(BW("tension")),{...s,transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:p,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:p,positionPrefix:"upper",extraEncoding:l})]}}const sle={};function y5(e,t,n){const r=new Dk(e,t);sle[e]={normalizer:r,parts:n}}function d8e(){return ue(sle)}y5(kS,nle,e8e);y5(m5,ile,r8e);y5(g5,ole,c8e);const h8e=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],lle={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},ule={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},p8e=ue(lle),m8e=ue(ule),g8e={header:1,headerRow:1,headerColumn:1,headerFacet:1},cle=ue(g8e),fle=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],y8e={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},v8e={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},rs="_vgsid_",x8e={point:{on:"click",fields:[rs],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function v5(e){return e==="legend"||!!(e!=null&&e.legend)}function m$(e){return v5(e)&&Se(e)}function x5(e){return!!(e!=null&&e.select)}function dle(e){const t=[];for(const n of e||[]){if(x5(n))continue;const{expr:r,bind:i,...a}=n;if(i&&r){const o={...a,bind:i,init:r};t.push(o)}else{const o={...a,...r?{update:r}:{},...i?{bind:i}:{}};t.push(o)}}return t}function b8e(e){return Lk(e)||_5(e)||b5(e)}function b5(e){return ce(e,"concat")}function Lk(e){return ce(e,"vconcat")}function _5(e){return ce(e,"hconcat")}function hle({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function al(e){return ce(e,"step")}function KW(e){return ce(e,"view")||ce(e,"width")||ce(e,"height")}const QW=20,_8e={align:1,bounds:1,center:1,columns:1,spacing:1},w8e=ue(_8e);function S8e(e,t,n){const r=n[t],i={},{spacing:a,columns:o}=r;a!==void 0&&(i.spacing=a),o!==void 0&&(Tk(e)&&!Lx(e.facet)||b5(e))&&(i.columns=o),Lk(e)&&(i.columns=1);for(const s of w8e)if(e[s]!==void 0)if(s==="spacing"){const l=e[s];i[s]=St(l)?l:{row:l.row??a,column:l.column??a}}else i[s]=e[s];return i}function xj(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function bj(e,t){const n=CS(e,t);return al(n)?n.step:ple}function CS(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return Tn(n,{step:e.step})}const ple=20,A8e={continuousWidth:200,continuousHeight:200,step:ple},E8e={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:A8e,mark:gBe,arc:{},area:{},bar:bBe,circle:{},geoshape:{},image:{},line:{},point:{},rect:n5,rule:{color:"black"},square:{},text:{color:"black"},tick:_Be,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:K6e,projection:{},legend:y8e,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:x8e,style:{},title:{},facet:{spacing:QW},concat:{spacing:QW},normalizedNumberFormat:".0%"},Tl=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],JW={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},eq={blue:Tl[0],orange:Tl[1],red:Tl[2],teal:Tl[3],green:Tl[4],yellow:Tl[5],purple:Tl[6],pink:Tl[7],brown:Tl[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function k8e(e={}){return{signals:[{name:"color",value:Se(e)?{...eq,...e}:eq}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function C8e(e){return{signals:[{name:"fontSize",value:Se(e)?{...JW,...e}:JW}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function O8e(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function mle(e){const t=ue(e||{}),n={};for(const r of t){const i=e[r];n[r]=Bx(i)?Woe(i):pa(i)}return n}function P8e(e){const t=ue(e),n={};for(const r of t)n[r]=mle(e[r]);return n}const $8e=[...Ase,...Gse,...cle,"background","padding","legend","lineBreak","scale","style","title","view"];function gle(e={}){const{color:t,font:n,fontSize:r,selection:i,...a}=e,o=vg({},Ve(E8e),n?O8e(n):{},t?k8e(t):{},r?C8e(r):{},a||{});i&&xg(o,"selection",i,!0);const s=Gi(o,$8e);for(const l of["background","lineBreak","padding"])o[l]&&(s[l]=pa(o[l]));for(const l of Ase)o[l]&&(s[l]=_r(o[l]));for(const l of Gse)o[l]&&(s[l]=mle(o[l]));for(const l of cle)o[l]&&(s[l]=_r(o[l]));if(o.legend&&(s.legend=_r(o.legend)),o.scale){const{invalid:l,...u}=o.scale,c=_r(l,{level:1});s.scale={..._r(u),...ue(c).length>0?{invalid:c}:{}}}return o.style&&(s.style=P8e(o.style)),o.title&&(s.title=_r(o.title)),o.view&&(s.view=_r(o.view)),s}const T8e=new Set(["view",...cBe]),N8e=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],M8e={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...mBe};function j8e(e){e=Ve(e);for(const t of N8e)delete e[t];if(e.axis)for(const t in e.axis)Bx(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of h8e)delete e.legend[t];if(e.mark){for(const t of WW)delete e.mark[t];e.mark.tooltip&&Se(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(dle(e.params)),delete e.params);for(const t of T8e){for(const r of WW)delete e[t][r];const n=M8e[t];if(n)for(const r of n)delete e[t][r];F8e(e,t)}for(const t of d8e())delete e[t];D8e(e);for(const t in e)Se(e[t])&&Ut(e[t])&&delete e[t];return Ut(e)?void 0:e}function D8e(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=Uoe(e.title);Ut(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Ut(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Ut(r)?delete e.title:e.title=r}function F8e(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const a={...i,...e.style[n??t]};Ut(a)||(e.style[n??t]=a),delete e[t]}function Ik(e){return ce(e,"layer")}function L8e(e){return ce(e,"repeat")}function I8e(e){return!ae(e.repeat)&&ce(e.repeat,"layer")}class w5{map(t,n){return Tk(t)?this.mapFacet(t,n):L8e(t)?this.mapRepeat(t,n):_5(t)?this.mapHConcat(t,n):Lk(t)?this.mapVConcat(t,n):b5(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(Ik(t))return this.mapLayer(t,n);if($u(t))return this.mapUnit(t,n);throw new Error(LR(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(a=>this.map(a,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const R8e={zero:1,center:1,normalize:1};function z8e(e){return ke(R8e,e)}const B8e=new Set([_se,Ck,kk,bS,Pk,e5,t5,Ok,wse,JR]),U8e=new Set([Ck,kk,_se]);function Jh(e){return de(e)&&jm(e)==="quantitative"&&!e.bin}function tq(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",a=t==="x"&&["bar","area"].includes(r),o=e[t],s=e[i];if(de(o)&&de(s))if(Jh(o)&&Jh(s)){if(o.stack)return t;if(s.stack)return i;const l=de(o)&&!!o.aggregate,u=de(s)&&!!s.aggregate;if(l!==u)return l?t:i;if(a){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(Jh(o))return t;if(Jh(s))return i}else{if(Jh(o))return a&&n==="vertical"?void 0:t;if(Jh(s))return a&&n==="horizontal"?void 0:i}}function W8e(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function yle(e,t){var g,v;const n=il(e)?e:{type:e},r=n.type;if(!B8e.has(r))return null;const i=tq(t,"x",n)||tq(t,"theta",n);if(!i)return null;const a=t[i],o=de(a)?_e(a,{}):void 0,s=W8e(i),l=[],u=new Set;if(t[s]){const x=t[s],b=de(x)?_e(x,{}):void 0;b&&b!==o&&(l.push(s),u.add(b))}const c=s==="x"?"xOffset":"yOffset",f=t[c],d=de(f)?_e(f,{}):void 0;d&&d!==o&&(l.push(c),u.add(d));const p=Y5e.reduce((x,b)=>{if(b!=="tooltip"&&hd(t,b)){const S=t[b];for(const k of Ee(S)){const A=ns(k);if(A.aggregate)continue;const E=_e(A,{});(!E||!u.has(E))&&x.push({channel:b,fieldDef:A})}}return x},[]);let m;return a.stack!==void 0?Qc(a.stack)?m=a.stack?"zero":null:m=a.stack:U8e.has(r)&&(m="zero"),!m||!z8e(m)||Zse(t)&&p.length===0?null:((g=a==null?void 0:a.scale)!=null&&g.type&&((v=a==null?void 0:a.scale)==null?void 0:v.type)!==wr.LINEAR&&a!=null&&a.stack&&fe(m6e(a.scale.type)),Ye(t[gl(i)])?(a.stack!==void 0&&fe(p6e(i)),null):(de(a)&&a.aggregate&&!uze.has(a.aggregate)&&fe(g6e(a.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:a.impute===null?!1:hf(r),stackBy:p,offset:m}))}function vle(e,t,n){const r=_r(e),i=Bt("orient",r,n);if(r.orient=V8e(r.type,t,i),i!==void 0&&i!==r.orient&&fe(Qze(r.orient,i)),r.type==="bar"&&r.orient){const l=Bt("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:vBe[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const a=Bt("opacity",r,n),o=Bt("fillOpacity",r,n);return a===void 0&&o===void 0&&(r.opacity=H8e(r.type,t)),Bt("cursor",r,n)===void 0&&(r.cursor=q8e(r,t,n)),r}function q8e(e,t,n){return t.href||e.href||Bt("href",e,n)?"pointer":e.cursor}function H8e(e,t){if(lt([Pk,JR,e5,t5],e)&&!Zse(t))return .7}function G8e(e,t,{graticule:n}){if(n)return!1;const r=rl("filled",e,t),i=e.type;return Tn(r,i!==Pk&&i!==Ok&&i!==bS)}function V8e(e,t,n){switch(e){case Pk:case e5:case t5:case wse:case lBe:case sBe:return}const{x:r,y:i,x2:a,y2:o}=t;switch(e){case Ck:if(de(r)&&(br(r.bin)||de(i)&&i.aggregate&&!r.aggregate))return"vertical";if(de(i)&&(br(i.bin)||de(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||a){if(n)return n;if(!a)return(de(r)&&r.type===Ud&&!Jt(r.bin)||wS(r))&&de(i)&&br(i.bin)?"horizontal":"vertical";if(!o)return(de(i)&&i.type===Ud&&!Jt(i.bin)||wS(i))&&de(r)&&br(r.bin)?"vertical":"horizontal"}case bS:if(a&&!(de(r)&&br(r.bin))&&o&&!(de(i)&&br(i.bin)))return;case kk:if(o)return de(i)&&br(i.bin)?"horizontal":"vertical";if(a)return de(r)&&br(r.bin)?"vertical":"horizontal";if(e===bS){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case Ok:case JR:{const s=VW(r),l=VW(i);if(n)return n;if(s&&!l)return e!=="tick"?"horizontal":"vertical";if(!s&&l)return e!=="tick"?"vertical":"horizontal";if(s&&l)return"vertical";{const u=Ai(r)&&r.type===Nm,c=Ai(i)&&i.type===Nm;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function X8e(e){const{point:t,line:n,...r}=e;return ue(r).length>1?r:r.type}function Z8e(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Gi(e[t],["point","line"])});return e}function g$(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Se(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Se(t.point)?t.point:{}:void 0}function nq(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class Y8e{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if($u(t)){const{mark:r,encoding:i}=t,a=il(r)?r:{type:r};switch(a.type){case"line":case"rule":case"trail":return!!g$(a,n[a.type],i);case"area":return!!g$(a,n[a.type],i)||!!nq(a,n[a.type])}}return!1}run(t,n,r){const{config:i}=n,{params:a,projection:o,mark:s,name:l,encoding:u,...c}=t,f=Fk(u,i),d=il(s)?s:{type:s},p=g$(d,i[d.type],f),m=d.type==="area"&&nq(d,i[d.type]),g=[{name:l,...a?{params:a}:{},mark:X8e({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:Gi(f,["shape"])}],v=yle(vle(d,f,i),f);let x=f;if(v){const{fieldChannel:b,offset:S}=v;x={...f,[b]:{...f[b],...S?{stack:S}:{}}}}return x=Gi(x,["y2","x2"]),m&&g.push({...o?{projection:o}:{},mark:{type:"line",...Om(d,["clip","interpolate","tension","tooltip"]),...m},encoding:x}),p&&g.push({...o?{projection:o}:{},mark:{type:"point",opacity:1,filled:!0,...Om(d,["clip","tooltip"]),...p},encoding:x}),r({...c,layer:g},{...n,config:Z8e(i)})}}function K8e(e,t){return t?Lx(e)?ble(e,t):xle(e,t):e}function y$(e,t){return t?ble(e,t):e}function _j(e,t,n){const r=t[e];if(MBe(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};fe(Pze(r.repeat));return}return t}function xle(e,t){if(e=_j("field",e,t),e!==void 0){if(e===null)return null;if(l5(e)&&iu(e.sort)){const n=_j("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function rq(e,t){if(de(e))return xle(e,t);{const n=_j("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function iq(e,t){if(Ye(e)){const n=rq(e,t);if(n)return n;if(Ix(e))return{condition:e.condition}}else{if(Rx(e)){const n=rq(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function ble(e,t){const n={};for(const r in e)if(ce(e,r)){const i=e[r];if(ae(i))n[r]=i.map(a=>iq(a,t)).filter(a=>a);else{const a=iq(i,t);a!==void 0&&(n[r]=a)}}return n}class Q8e{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if($u(t)){const{encoding:n,mark:r}=t;if(r==="line"||il(r)&&r.type==="line")for(const i of V5e){const a=yh(i),o=n[a];if(n[i]&&(de(o)&&!br(o.bin)||vl(o)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:a}=t;return fe(Kze(!!i.x2,!!i.y2)),r({...t,mark:Se(a)?{...a,type:"rule"}:"rule"},n)}}class J8e extends w5{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[t8e,i8e,f8e,new Y8e,new Q8e]}map(t,n){if($u(t)){const r=hd(t.encoding,nu),i=hd(t.encoding,ru),a=hd(t.encoding,mk);if(r||i||a)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,a=y$(t.encoding,n.repeater),o={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...a?{encoding:a}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(o,n);const s=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(o,n.config))return l.run(o,n,s);return o}mapRepeat(t,n){return I8e(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...a}=t,{row:o,column:s,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return o||s?this.mapRepeat({...t,repeat:{...o?{row:o}:{},...s?{column:s}:{}},spec:{repeat:{layer:l},spec:i}},n):{...a,layer:l.map(f=>{const d={...u,layer:f},p=`${(i.name?`${i.name}_`:"")+c}child__layer_${fn(f)}`,m=this.mapLayerOrUnit(i,{...n,repeater:d,repeaterPrefix:p});return m.name=p,m})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:a,...o}=t;!ae(r)&&t.columns&&(t=Gi(t,["columns"]),fe(LW("repeat")));const s=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!ae(r)&&r.row||[l?l.row:null],f=!ae(r)&&r.column||[l?l.column:null],d=ae(r)&&r||[l?l.repeat:null];for(const m of d)for(const g of c)for(const v of f){const x={repeat:m,row:g,column:v,layer:l.layer},b=(i.name?`${i.name}_`:"")+u+"child__"+(ae(r)?`${fn(m)}`:(r.row?`row_${fn(g)}`:"")+(r.column?`column_${fn(v)}`:"")),S=this.map(i,{...n,repeater:x,repeaterPrefix:b});S.name=b,s.push(Gi(S,["data"]))}const p=ae(r)?t.columns:r.column?r.column.length:1;return{data:i.data??a,align:"all",...o,columns:p,concat:s}}mapFacet(t,n){const{facet:r}=t;return Lx(r)&&t.columns&&(t=Gi(t,["columns"]),fe(LW("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:a,parentProjection:o,config:s}=n,l=oq({parentProjection:o,projection:i}),u=aq({parentEncoding:a,encoding:y$(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:s})}mapFacetedUnit(t,n){const{row:r,column:i,facet:a,...o}=t.encoding,{mark:s,width:l,projection:u,height:c,view:f,params:d,encoding:p,...m}=t,{facetMapping:g,layout:v}=this.getFacetMappingAndLayout({row:r,column:i,facet:a},n),x=y$(o,n.repeater);return this.mapFacet({...m,...v,facet:g,spec:{...l?{width:l}:{},...c?{height:c}:{},...f?{view:f}:{},...u?{projection:u}:{},mark:s,encoding:x,...d?{params:d}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:a}=t;if(r||i){a&&fe(Zze([...r?[nu]:[],...i?[ru]:[]]));const o={},s={};for(const l of[nu,ru]){const u=t[l];if(u){const{align:c,center:f,spacing:d,columns:p,...m}=u;o[l]=m;for(const g of["align","center","spacing"])u[g]!==void 0&&(s[g]??(s[g]={}),s[g][l]=u[g])}}return{facetMapping:o,layout:s}}else{const{align:o,center:s,spacing:l,columns:u,...c}=a;return{facetMapping:K8e(c,n.repeater),layout:{...o?{align:o}:{},...s?{center:s}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:a,projection:o,...s}=t,l={...i,parentEncoding:aq({parentEncoding:n,encoding:a,layer:!0}),parentProjection:oq({parentProjection:r,projection:o})};return super.mapLayer({...s,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function aq({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...ue(e),...ue(t)]);for(const a of i){const o=t[a],s=e[a];if(Ye(o)){const l={...s,...o};r[a]=l}else Rx(o)?r[a]={...o,condition:{...s,...o.condition}}:o||o===null?r[a]=o:(n||ts(s)||Me(s)||Ye(s)||ae(s))&&(r[a]=s)}}else r=t;return!r||Ut(r)?void 0:r}function oq(e){const{parentProjection:t,projection:n}=e;return t&&n&&fe(Ize({parentProjection:t,projection:n})),n??t}function S5(e){return ce(e,"filter")}function e9e(e){return ce(e,"stop")}function _le(e){return ce(e,"lookup")}function t9e(e){return ce(e,"data")}function n9e(e){return ce(e,"param")}function r9e(e){return ce(e,"pivot")}function i9e(e){return ce(e,"density")}function a9e(e){return ce(e,"quantile")}function o9e(e){return ce(e,"regression")}function s9e(e){return ce(e,"loess")}function l9e(e){return ce(e,"sample")}function u9e(e){return ce(e,"window")}function c9e(e){return ce(e,"joinaggregate")}function f9e(e){return ce(e,"flatten")}function d9e(e){return ce(e,"calculate")}function wle(e){return ce(e,"bin")}function h9e(e){return ce(e,"impute")}function p9e(e){return ce(e,"timeUnit")}function m9e(e){return ce(e,"aggregate")}function g9e(e){return ce(e,"stack")}function y9e(e){return ce(e,"fold")}function v9e(e){return ce(e,"extent")&&!ce(e,"density")&&!ce(e,"regression")}function x9e(e){return e.map(t=>S5(t)?{filter:Gp(t.filter,q6e)}:t)}class b9e extends w5{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=sq(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=sq(t,n),t.encoding){const r={};for(const[i,a]of Wc(t.encoding))r[i]=Sle(a,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Wc(r).map(([a,o])=>{const{init:s,bind:l,empty:u,...c}=o;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[a]=u!=="none";for(const f of $r(n.selectionPredicates[a]??{}))f.empty=u!=="none";return{name:a,value:s,select:c,bind:l}})}:t}}function sq(e,t){const{transform:n,...r}=e;if(n){const i=n.map(a=>{if(S5(a))return{filter:wj(a,t)};if(wle(a)&&vh(a.bin))return{...a,bin:Ale(a.bin)};if(_le(a)){const{selection:o,...s}=a.from;return o?{...a,from:{param:o,...s}}:a}return a});return{...r,transform:i}}return e}function Sle(e,t){var r,i;const n=Ve(e);if(de(n)&&vh(n.bin)&&(n.bin=Ale(n.bin)),wh(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:a,...o}=n.scale.domain;n.scale.domain={...o,...a?{param:a}:{}}}if(Ix(n))if(ae(n.condition))n.condition=n.condition.map(a=>{const{selection:o,param:s,test:l,...u}=a;return s?a:{...u,test:wj(a,t)}});else{const{selection:a,param:o,test:s,...l}=Sle(n.condition,t);n.condition=o?n.condition:{...l,test:wj(n.condition,t)}}return n}function Ale(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function wj(e,t){const n=r=>Gp(r,i=>{var a;const o=t.emptySelections[i]??!0,s={param:i,empty:o};return(a=t.selectionPredicates)[i]??(a[i]=[]),t.selectionPredicates[i].push(s),s});return e.selection?n(e.selection):Gp(e.test||e.filter,r=>r.selection?n(r.selection):r)}class Sj extends w5{map(t,n){const r=n.selections??[];if(t.params&&!$u(t)){const i=[];for(const a of t.params)x5(a)?r.push(a):i.push(a);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),a=[];for(const o of r)if(!o.views||!o.views.length)a.push(o);else for(const s of o.views)(Ae(s)&&(s===t.name||i.includes(s))||ae(s)&&s.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&a.push(o);return a.length&&(t.params=a),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=Sj.prototype[e];Sj.prototype[e]=function(n,r){return t.call(this,n,_9e(n,r))}}function _9e(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function Ele(e,t){t===void 0&&(t=gle(e.config));const n=E9e(e,t),{width:r,height:i}=e,a=k9e(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...a?{autosize:a}:{}}}const w9e=new J8e,S9e=new b9e,A9e=new Sj;function E9e(e,t={}){const n={config:t};return A9e.map(w9e.map(S9e.map(e,n),n),n)}function lq(e){return Ae(e)?{type:e}:e??{}}function k9e(e,t,n){let{width:r,height:i}=t;const a=$u(e)||Ik(e),o={};a?r=="container"&&i=="container"?(o.type="fit",o.contains="padding"):r=="container"?(o.type="fit-x",o.contains="padding"):i=="container"&&(o.type="fit-y",o.contains="padding"):(r=="container"&&(fe(MW("width")),r=void 0),i=="container"&&(fe(MW("height")),i=void 0));const s={type:"pad",...o,...n?lq(n.autosize):{},...lq(e.autosize)};if(s.type==="fit"&&!a&&(fe(vze),s.type="pad"),r=="container"&&!(s.type=="fit"||s.type=="fit-x")&&fe(jW("width")),i=="container"&&!(s.type=="fit"||s.type=="fit-y")&&fe(jW("height")),!va(s,{type:"pad"}))return s}function C9e(e){return["fit","fit-x","fit-y"].includes(e)}function O9e(e){return e?`fit-${bk(e)}`:"fit"}const P9e=["background","padding"];function uq(e,t){const n={};for(const r of P9e)e&&e[r]!==void 0&&(n[r]=pa(e[r]));return t&&(n.params=e.params),n}class Tu{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Tu(Ve(this.explicit),Ve(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Tn(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of ue(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function ks(e){return{explicit:!0,value:e}}function sa(e){return{explicit:!1,value:e}}function kle(e){return(t,n,r,i)=>{const a=e(t.value,n.value);return a>0?t:a<0?n:Rk(t,n,r,i)}}function Rk(e,t,n,r){return e.explicit&&t.explicit&&fe(s6e(n,r,e.value,t.value)),e}function Gc(e,t,n,r,i=Rk){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:va(e.value,t.value)?e:i(e,t,n,r)}class $9e extends Tu{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function Lm(e){return ce(e,"url")}function o1(e){return ce(e,"values")}function Cle(e){return ce(e,"name")&&!Lm(e)&&!o1(e)&&!$c(e)}function $c(e){return e&&(Ole(e)||Ple(e)||A5(e))}function Ole(e){return ce(e,"sequence")}function Ple(e){return ce(e,"sphere")}function A5(e){return ce(e,"graticule")}var vn;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(vn||(vn={}));function $le({invalid:e,isPath:t}){switch(Ese(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function T9e(e){const{marks:t,scales:n}=$le(e);return t===n?vn.Main:n==="include-invalid-values"?vn.PreFilterInvalid:vn.PostFilterInvalid}class Lt{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){fe(Dze);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Vi extends Lt{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${koe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function v$(e){return e.as!==void 0}function cq(e){return`${e}_end`}class qs extends Lt{clone(){return new qs(null,Ve(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,a,o)=>{const{field:s,timeUnit:l}=a;if(l){let u;if(_h(l)){if(yn(n)){const{mark:c,markDef:f,config:d}=n,p=Hc({fieldDef:a,markDef:f,config:d});(a1(c)||p)&&(u={timeUnit:dr(l),field:s})}}else u={as:_e(a,{forAs:!0}),field:s,timeUnit:l};if(yn(n)){const{mark:c,markDef:f,config:d}=n,p=Hc({fieldDef:a,markDef:f,config:d});a1(c)&&Nn(o)&&p!==.5&&(u.rectBandPosition=p)}u&&(i[dt(u)]=u)}return i},{});return Ut(r)?null:new qs(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},a=dr(r),o={...i,timeUnit:a};return new qs(t,{[dt(o)]:o})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of Wc(this.timeUnits)){const a=v$(i)?i.as:`${i.field}_end`;t.has(a)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set($r(this.timeUnits).map(t=>v$(t)?t.as:cq(t.field)))}dependentFields(){return new Set($r(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${dt(this.timeUnits)}`}assemble(){const t=[];for(const n of $r(this.timeUnits)){const{rectBandPosition:r}=n,i=dr(n.timeUnit);if(v$(n)){const{field:a,as:o}=n,{unit:s,utc:l,...u}=i,c=[o,`${o}_end`];t.push({field:ho(a),type:"timeunit",...s?{units:Ak(s)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...fq(c,r,i))}else if(n){const{field:a}=n,o=a.replaceAll("\\.","."),s=Tle({timeUnit:i,field:o}),l=cq(o);t.push({type:"formula",expr:s,as:l}),t.push(...fq([o,l],r,i))}}return t}}const zk="offsetted_rect_start",Bk="offsetted_rect_end";function Tle({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,a=sse(r),{part:o,step:s}=fse(a,e.step);return`${i?"utcOffset":"timeOffset"}('${o}', ${Mt(t)}, ${n?-s:s})`}function fq([e,t],n,r){if(n!==void 0&&n!==.5){const i=Mt(e),a=Mt(t);return[{type:"formula",expr:dq([Tle({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${zk}`},{type:"formula",expr:dq([i,a],n+.5),as:`${e}_${Bk}`}]}return[]}function dq([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const Ux="_tuple_fields";class N9e{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const M9e={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new N9e),a={},o={},s=new Set,l=(m,g)=>{const v=g==="visual"?m.channel:m.field;let x=fn(`${r}_${v}`);for(let b=1;s.has(x);b++)x=fn(`${r}_${v}_${b}`);return s.add(x),{[g]:x}},u=t.type,c=e.config.selection[u],f=n.value!==void 0?Ee(n.value):null;let{fields:d,encodings:p}=Se(n.select)?n.select:{};if(!d&&!p&&f){for(const m of f)if(Se(m))for(const g of ue(m))G5e(g)?(p||(p=[])).push(g):u==="interval"?(fe(Oze),p=c.encodings):(d??(d=[])).push(g)}!d&&!p&&(p=c.encodings,"fields"in c&&(d=c.fields));for(const m of p??[]){const g=e.fieldDef(m);if(g){let v=g.field;if(g.aggregate){fe(xze(m,g.aggregate));continue}else if(!v){fe(FW(m));continue}if(g.timeUnit&&!_h(g.timeUnit)){v=e.vgField(m);const x={timeUnit:g.timeUnit,as:v,field:g.field};o[dt(x)]=x}if(!a[v]){const x=u==="interval"&&yl(m)&&es(e.getScaleComponent(m).get("type"))?"R":g.bin?"R-RE":"E",b={field:v,channel:m,type:x,index:i.items.length};b.signals={...l(b,"data"),...l(b,"visual")},i.items.push(a[v]=b),i.hasField[v]=a[v],i.hasSelectionId=i.hasSelectionId||v===rs,Noe(m)?(b.geoChannel=m,b.channel=Toe(m),i.hasChannel[b.channel]=a[v]):i.hasChannel[m]=a[v]}}else fe(FW(m))}for(const m of d??[]){if(i.hasField[m])continue;const g={type:"E",field:m,index:i.items.length};g.signals={...l(g,"data")},i.items.push(g),i.hasField[m]=g,i.hasSelectionId=i.hasSelectionId||m===rs}f&&(t.init=f.map(m=>i.items.map(g=>Se(m)?m[g.geoChannel||g.channel]!==void 0?m[g.geoChannel||g.channel]:m[g.field]:m))),Ut(o)||(i.timeUnit=new qs(null,o))},signals:(e,t,n)=>{const r=t.name+Ux;return n.filter(a=>a.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(Dle)})}},Nle="_curr",xw="anim_value",op="anim_clock",Aj="eased_anim_clock",Mle="min_extent",jle="max_range_extent",x$="last_tick_at",b$="is_playing",j9e=1/60*1e3,D9e=(e,t)=>[{name:Aj,update:op},{name:`${e}_domain`,init:`domain('${t}')`},{name:Mle,init:`extent(${e}_domain)[0]`},{name:jle,init:`extent(range('${t}'))[1]`},{name:xw,update:`invert('${t}', ${Aj})`}],F9e={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(Hs(t)&&(n=n.concat([{name:op,init:"0",on:[{events:{type:"timer",throttle:j9e},update:`${b$} ? (${op} + (now() - ${x$}) > ${jle} ? 0 : ${op} + (now() - ${x$})) : ${op}`}]},{name:x$,init:"now()",on:[{events:[{signal:op},{signal:b$}],update:"now()"}]},{name:b$,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+Ux,a=t.project,o="(item().isVoronoi ? datum.datum : datum)",s=$r(e.component.selection??{}).reduce((c,f)=>f.type==="interval"?c.concat(f.name+Zp):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${s?` && ${s}`:""}`;let u=`unit: ${pd(e)}, `;if(t.project.hasSelectionId)u+=`${rs}: ${o}[${ye(rs)}]`;else if(Hs(t))u+=`fields: ${i}, values: [${xw} ? ${xw} : ${Mle}]`;else{const c=a.items.map(f=>{const d=e.fieldDef(f.channel);return d!=null&&d.bin?`[${o}[${ye(e.vgField(f.channel,{}))}], ${o}[${ye(e.vgField(f.channel,{binSuffix:"end"}))}]]`:`${o}[${ye(f.field)}]`}).join(", ");u+=`fields: ${i}, values: [${c}]`}if(Hs(t))return n.concat(D9e(t.name,e.scaleName(sf)),[{name:r+bu,on:[{events:[{signal:Aj},{signal:xw}],update:`{${u}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+bu,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}}};function Dle(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=ho(i.field),i}function Hd(e,t=!0,n=ei){if(ae(e)){const r=e.map(i=>Hd(i,t,n));return t?`[${r.join(", ")}]`:r}else if(bh(e))return n(t?Bd(e):N6e(e));return t?n(Wt(e)):e}function L9e(e,t){for(const n of $r(e.component.selection??{})){const r=n.name;let i=`${r}${bu}, ${n.resolve==="global"?"true":`{unit: ${pd(e)}}`}`;for(const a of Wk)a.defined(n)&&(a.signals&&(t=a.signals(e,n,t)),a.modifyExpr&&(i=a.modifyExpr(e,n,i)));t.push({name:r+c7e,on:[{events:{signal:n.name+bu},update:`modify(${ye(n.name+Gd)}, ${i})`}]})}return E5(t)}function I9e(e,t){if(e.component.selection&&ue(e.component.selection).length){const n=ye(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:af("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return E5(t)}function R9e(e,t){let n=!1;for(const r of $r(e.component.selection??{})){const i=r.name,a=ye(i+Gd);if(t.filter(s=>s.name===i).length===0){const s=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${Qle}(${a}, ${ye(s)}${l}`})}n=!0;for(const s of Wk)s.defined(r)&&s.topLevelSignals&&(t=s.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),E5(t)}function z9e(e,t){const n=[],r=[],i=pd(e,{escape:!1});for(const a of $r(e.component.selection??{})){const o={name:a.name+Gd};if(a.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:rs}}]),a.init){const l=a.project.items.map(Dle);o.values=a.project.hasSelectionId?a.init.map(u=>({unit:i,[rs]:Hd(u,!1)[0]})):a.init.map(u=>({unit:i,fields:l,values:Hd(u,!1)}))}if([...n,...t].filter(l=>l.name===a.name+Gd).length||n.push(o),Hs(a)&&t.length){const l=e.lookupDataSource(e.getDataName(vn.Main)),u=t.find(f=>f.name===l),c=u.transform.find(f=>f.type==="filter"&&f.expr.includes("vlSelectionTest"));if(c){u.transform=u.transform.filter(d=>d!==c);const f={name:u.name+Nle,source:u.name,transform:[c]};r.push(f)}}}return n.concat(t,r)}function Fle(e,t){for(const n of $r(e.component.selection??{}))for(const r of Wk)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function B9e(e,t){for(const n of e.children)yn(n)&&(t=Fle(n,t));return t}function U9e(e,t,n,r){const i=uue(e,t.param,t);return{signal:es(n.get("type"))&&ae(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function E5(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const au={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!yl(i))continue;const a=e.getScaleComponent(i),o=a?a.get("type"):void 0;if(o=="sequential"&&fe(Sze),!a||!es(o)){fe(wze);continue}a.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(o=>n.filter(s=>s.name===o.signals.data).length===0);if(!e.parent||kj(e)||r.length===0)return n;const i=n.find(o=>o.name===t.name);let a=i.update;if(a.includes(Qle))i.update=`{${r.map(o=>`${ye(ho(o.field))}: ${o.signals.data}`).join(", ")}}`;else{for(const o of r){const s=`${ye(ho(o.field))}: ${o.signals.data}`;a.includes(s)||(a=`${a.substring(0,a.length-1)}, ${s}}`)}i.update=a}return n.concat(r.map(o=>({name:o.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!kj(e))for(const r of t.scales){const i=n.find(a=>a.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function Ej(e,t){return`domain(${ye(e.scaleName(t))})`}function kj(e){return e.parent&&Ug(e.parent)&&(!e.parent.parent||kj(e.parent.parent))}const Zp="_brush",Lle="_scale_trigger",q0="geo_interval_init_tick",Ile="_init",W9e="_center",q9e={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Se(n.select)?n.select:{}};i.fields=[rs],i.encodings||(i.encodings=n.value?ue(n.value):[fs,cs]),n.select={type:"interval",...i}}if(t.translate&&!au.defined(t)){const i=`!event.item || event.item.mark.name !== ${ye(t.name+Zp)}`;for(const a of t.events){if(!a.between){fe(`${a} is not an ordered event stream for interval selections.`);continue}const o=Ee((r=a.between[0]).filter??(r.filter=[]));o.includes(i)||o.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+bu,a=$r(t.project.hasChannel).filter(s=>s.channel===hn||s.channel===mr),o=t.init?t.init[0]:null;if(n.push(...a.reduce((s,l)=>s.concat(H9e(e,t,l,o&&o[l.index])),[])),e.hasProjection){const s=ye(e.projectionName()),l=e.projectionName()+W9e,{x:u,y:c}=t.project.hasChannel,f=u&&u.signals.visual,d=c&&c.signals.visual,p=u?o&&o[u.index]:`${l}[0]`,m=c?o&&o[c.index]:`${l}[1]`,g=A=>e.getSizeSignalRef(A).signal,v=`[[${f?f+"[0]":"0"}, ${d?d+"[0]":"0"}],[${f?f+"[1]":g("width")}, ${d?d+"[1]":g("height")}]]`;o&&(n.unshift({name:r+Ile,init:`[scale(${s}, [${u?p[0]:p}, ${c?m[0]:m}]), scale(${s}, [${u?p[1]:p}, ${c?m[1]:m}])]`}),(!u||!c)&&(n.find(E=>E.name===l)||n.unshift({name:l,update:`invert(${s}, [${g("width")}/2, ${g("height")}/2])`})));const x=`intersect(${v}, {markname: ${ye(e.getName("marks"))}}, unit.mark)`,b=`{unit: ${pd(e)}}`,S=`vlSelectionTuples(${x}, ${b})`,k=a.map(A=>A.signals.visual);return n.concat({name:i,on:[{events:[...k.length?[{signal:k.join(" || ")}]:[],...o?[{signal:q0}]:[]],update:S}]})}else{if(!au.defined(t)){const u=r+Lle,c=a.map(f=>{const d=f.channel,{data:p,visual:m}=f.signals,g=ye(e.scaleName(d)),v=e.getScaleComponent(d).get("type"),x=es(v)?"+":"";return`(!isArray(${p}) || (${x}invert(${g}, ${m})[0] === ${x}${p}[0] && ${x}invert(${g}, ${m})[1] === ${x}${p}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:a.map(f=>({scale:e.scaleName(f.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const s=a.map(u=>u.signals.data),l=`unit: ${pd(e)}, fields: ${r+Ux}, values`;return n.concat({name:i,...o?{init:`{${l}: ${Hd(o)}}`}:{},...s.length?{on:[{events:[{signal:s.join(" || ")}],update:`${s.join(" && ")} ? {${l}: [${s}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(yn(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===q0).length||n.unshift({name:q0,value:null,on:[{events:"timer{1}",update:`${q0} === null ? {} : ${q0}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:a}=t.project.hasChannel,o=i==null?void 0:i.signals.visual,s=a==null?void 0:a.signals.visual,l=`data(${ye(t.name+Gd)})`;if(au.defined(t)||!i&&!a)return n;const u={x:i!==void 0?{signal:`${o}[0]`}:{value:0},y:a!==void 0?{signal:`${s}[0]`}:{value:0},x2:i!==void 0?{signal:`${o}[1]`}:{field:{group:"width"}},y2:a!==void 0?{signal:`${s}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const v of ue(u))u[v]=[{test:`${l}.length && ${l}[0].unit === ${pd(e)}`,...u[v]},{value:0}];const{fill:c,fillOpacity:f,cursor:d,...p}=t.mark,m=ue(p).reduce((v,x)=>(v[x]=[{test:[i!==void 0&&`${o}[0] !== ${o}[1]`,a!==void 0&&`${s}[0] !== ${s}[1]`].filter(b=>b).join(" && "),value:p[x]},{value:null}],v),{}),g=d??(t.translate?"move":null);return[{name:`${r+Zp}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:u}},...n,{name:r+Zp,type:"rect",clip:!0,encode:{enter:{...g?{cursor:{value:g}}:{},fill:{value:"transparent"}},update:{...u,...m}}}]}};function H9e(e,t,n,r){const i=!e.hasProjection,a=n.channel,o=n.signals.visual,s=ye(i?e.scaleName(a):e.projectionName()),l=d=>`scale(${s}, ${d})`,u=e.getSizeSignalRef(a===hn?"width":"height").signal,c=`${a}(unit)`,f=t.events.reduce((d,p)=>[...d,{events:p.between[0],update:`[${c}, ${c}]`},{events:p,update:`[${o}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const d=n.signals.data,p=au.defined(t),m=e.getScaleComponent(a),g=m?m.get("type"):void 0,v=r?{init:Hd(r,!0,l)}:{value:[]};return f.push({events:{signal:t.name+Lle},update:es(g)?`[${l(`${d}[0]`)}, ${l(`${d}[1]`)}]`:"[0, 0]"}),p?[{name:d,on:[]}]:[{name:o,...v,on:f},{name:d,...r?{init:Hd(r)}:{},on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${s}, ${o})`}]}]}else{const d=a===hn?0:1,p=t.name+Ile,m=r?{init:`[${p}[0][${d}], ${p}[1][${d}]]`}:{value:[]};return[{name:o,...m,on:f}]}}function Ig({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const a=Ix(t)&&t.condition;let o=[];a&&(o=Ee(a).map(u=>{const c=i(u);if(NBe(u)){const{param:f,empty:d}=u;return{test:lue(e,{param:f,empty:d}),...c}}else return{test:TS(e,u.test),...c}})),r!==void 0&&o.push(r);const s=i(t);return s!==void 0&&o.push(s),o.length>1||o.length===1&&o[0].test?{[n]:o}:o.length===1?{[n]:o[0]}:{}}function k5(e,t="text"){const n=e.encoding[t];return Ig({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>Uk(r,e.config),invalidValueRef:void 0})}function Uk(e,t,n="datum"){if(e){if(ts(e))return an(e.value);if(Ye(e)){const{format:r,formatType:i}=AS(e);return o5({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function Rle(e,t={}){const{encoding:n,markDef:r,config:i,stack:a}=e,o=n.tooltip;if(ae(o))return{tooltip:hq({tooltip:o},a,i,t)};{const s=t.reactiveGeom?"datum.datum":"datum";return Ig({model:e,channelDef:o,vgChannel:"tooltip",mainRefFn:u=>{const c=Uk(u,i,s);if(c)return c;if(u===null)return;let f=Bt("tooltip",r,i);if(f===!0&&(f={content:"encoding"}),Ae(f))return{value:f};if(Se(f))return Me(f)?f:f.content==="encoding"?hq(n,a,i,t):{signal:s}},invalidValueRef:void 0})}}function zle(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},a=new Set,o=r?"datum.datum":"datum",s=[];function l(c,f){const d=yh(f),p=Ai(c)?c:{...c,type:e[d].type},m=p.title||c5(p,i),g=Ee(m).join(", ").replaceAll(/"/g,'\\"');let v;if(Nn(f)){const x=f==="x"?"x2":"y2",b=ns(e[x]);if(br(p.bin)&&b){const S=_e(p,{expr:o}),k=_e(b,{expr:o}),{format:A,formatType:E}=AS(p);v=Fx(S,k,A,E,i),a.add(x)}}if((Nn(f)||f===vo||f===us)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:x,formatType:b}=AS(p);v=o5({fieldOrDatumDef:p,format:x,formatType:b,expr:o,config:i,normalizeStack:!0}).signal}v??(v=Uk(p,i,o).signal),s.push({channel:f,key:g,value:v})}d5(e,(c,f)=>{de(c)?l(c,f):Nk(c)&&l(c.condition,f)});const u={};for(const{channel:c,key:f,value:d}of s)!a.has(c)&&!u[f]&&(u[f]=d);return u}function hq(e,t,n,{reactiveGeom:r}={}){const i=zle(e,t,n,{reactiveGeom:r}),a=Wc(i).map(([o,s])=>`"${o}": ${s}`);return a.length>0?{signal:`{${a.join(", ")}}`}:void 0}function G9e(e){const{markDef:t,config:n}=e,r=Bt("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...V9e(e),...X9e(e)}}function V9e(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Bt("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:ke(mze,t)?{}:{ariaRoleDescription:{value:t}}}function X9e(e){const{encoding:t,markDef:n,config:r,stack:i}=e,a=t.description;if(a)return Ig({model:e,channelDef:a,vgChannel:"description",mainRefFn:l=>Uk(l,e.config),invalidValueRef:void 0});const o=Bt("description",n,r);if(o!=null)return{description:an(o)};if(r.aria===!1)return{};const s=zle(t,i,r);if(!Ut(s))return{description:{signal:Wc(s).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function Sr(e,t,n={}){const{markDef:r,encoding:i,config:a}=t,{vgChannel:o}=n;let{defaultRef:s,defaultValue:l}=n;const u=i[e];s===void 0&&(l??(l=Bt(e,r,a,{vgChannel:o,ignoreVgConfig:!Ix(u)})),l!==void 0&&(s=an(l)));const c={markDef:r,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},f=Cse({...c,scaleChannel:e,channelDef:u});return Ig({model:t,channelDef:u,vgChannel:o??e,invalidValueRef:f,mainRefFn:p=>a5({...c,channel:e,channelDef:p,stack:null,defaultRef:s})})}function Ble(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:a}=n,o=t.filled??Bt("filled",n,i),s=lt(["bar","point","circle","square","geoshape"],a)?"transparent":void 0,l=Bt(o===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[o===!0&&"color"]??s,u=Bt(o===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[o===!1&&"color"],c=o?"fill":"stroke",f={...l?{fill:an(l)}:{},...u?{stroke:an(u)}:{}};return n.color&&(o?n.fill:n.stroke)&&fe(Qoe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...Sr("color",e,{vgChannel:c,defaultValue:o?l:u}),...Sr("fill",e,{defaultValue:r.fill?l:void 0}),...Sr("stroke",e,{defaultValue:r.stroke?u:void 0})}}function Z9e(e){const{encoding:t,mark:n}=e,r=t.order;return!hf(n)&&ts(r)?Ig({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>an(i.value),invalidValueRef:void 0}):{}}function Im({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const a=`${e}Offset`,o=t[a],s=n[a];if((a==="xOffset"||a==="yOffset")&&s)return{offsetType:"encoding",offset:a5({channel:a,channelDef:s,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(a),scale:r.getScaleComponent(a),stack:null,defaultRef:an(o),bandPosition:i})};const l=t[a];return l?{offsetType:"visual",offset:l}:{}}function gi(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:a,config:o,stack:s}=t,l=i[e],u=i[gl(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:p}=Im({channel:e,markDef:a,encoding:i,model:t,bandPosition:.5}),m=C5({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),g=!l&&Nn(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:Y9e({channel:e,channelDef:l,channel2Def:u,markDef:a,config:o,scaleName:c,scale:f,stack:s,offset:d,defaultRef:m,bandPosition:p==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function Y9e(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:a,markDef:o}=e;if(Ye(n)&&i&&t===i.fieldChannel){if(de(n)){let s=n.bandPosition;if(s===void 0&&o.type==="text"&&(t==="radius"||t==="theta")&&(s=.5),s!==void 0)return _S({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:s,offset:a})}return dd(n,r,{suffix:"end"},{offset:a})}return i5(e)}function C5({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:a,config:o}=e;return()=>{const s=yh(n),l=qc(n),u=Bt(n,a,o,{vgChannel:l});if(u!==void 0)return iv(n,u);switch(t){case"zeroOrMin":return pq({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:s,config:o});case"zeroOrMax":return pq({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:s,config:o});case"mid":return{...e[Ji(n)],mult:.5}}}}function pq({mainChannel:e,config:t,...n}){const r=kse(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:a,heightSignal:o}=i.zeroOrMax;return{signal:`min(${a},${o})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const K9e={left:"x",center:"xc",right:"x2"},Q9e={top:"y",middle:"yc",bottom:"y2"};function Ule(e,t,n,r="middle"){if(e==="radius"||e==="theta")return qc(e);const i=e==="x"?"align":"baseline",a=Bt(i,t,n);let o;return Me(a)?(fe(Yze(i)),o=void 0):o=a,e==="x"?K9e[o||(r==="top"?"left":"center")]:Q9e[o||r]}function OS(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?Wle(e,t,{defaultPos:n,defaultPos2:r}):gi(e,t,{defaultPos:n})}function Wle(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:a}=t,o=gl(e),s=Ji(e),l=J9e(t,r,o),u=l[s]?Ule(e,i,a):qc(e);return{...gi(e,t,{defaultPos:n,vgChannel:u}),...l}}function J9e(e,t,n){const{encoding:r,mark:i,markDef:a,stack:o,config:s}=e,l=yh(n),u=Ji(n),c=qc(n),f=r[l],d=e.scaleName(l),p=e.getScaleComponent(l),{offset:m}=n in r||n in a?Im({channel:n,markDef:a,encoding:r,model:e}):Im({channel:l,markDef:a,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const v=Ji(n),x=e.markDef[v];return x!=null?{[v]:{value:x}}:{[c]:{field:e.getName(n)}}}const g=e7e({channel:n,channelDef:f,channel2Def:r[n],markDef:a,config:s,scaleName:d,scale:p,stack:o,offset:m,defaultRef:void 0});return g!==void 0?{[c]:g}:d_(n,a)||d_(n,{[n]:hj(n,a,s.style),[u]:hj(u,a,s.style)})||d_(n,s[i])||d_(n,s.mark)||{[c]:C5({model:e,defaultPos:t,channel:n,scaleName:d,scale:p})()}}function e7e({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:o,stack:s,offset:l,defaultRef:u}){return Ye(t)&&s&&e.charAt(0)===s.fieldChannel.charAt(0)?dd(t,a,{suffix:"start"},{offset:l}):i5({channel:e,channelDef:n,scaleName:a,scale:o,stack:s,markDef:r,config:i,offset:l,defaultRef:u})}function d_(e,t){const n=Ji(e),r=qc(e);if(t[r]!==void 0)return{[r]:iv(e,t[r])};if(t[e]!==void 0)return{[r]:iv(e,t[e])};if(t[n]){const i=t[n];if(Wd(i))fe(qze(n));else return{[n]:iv(e,i)}}}function xu(e,t){const{config:n,encoding:r,markDef:i}=e,a=i.type,o=gl(t),s=Ji(t),l=r[t],u=r[o],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,d=i.orient,p=r[s]??r.size??Bt("size",i,n,{vgChannel:s}),m=Foe(t),g=a==="bar"&&(t==="x"?d==="vertical":d==="horizontal")||a==="tick"&&(t==="y"?d==="vertical":d==="horizontal");return de(l)&&(Jt(l.bin)||br(l.bin)||l.timeUnit&&!u)&&!(p&&!Wd(p))&&!r[m]&&!hr(f)?r7e({fieldDef:l,fieldDef2:u,channel:t,model:e}):(Ye(l)&&hr(f)||g)&&!u?n7e(l,t,e):Wle(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function t7e(e,t,n,r,i,a,o){if(Wd(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=rl("minBandSize",{type:o},r);return{signal:c?`max(${Wo(c)}, ${u})`:u}}else i.band!==1&&(fe(e6e(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Me(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(xh(l)&&St(l.step))return{value:l.step-2}}if(!a){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:f}=r.scale,d=Tn(l,o==="tick"?f:o==="bar"?u:c);if(Me(d))return{signal:`(1 - (${d.signal})) * ${e}`};if(St(d))return{signal:`${1-d} * ${e}`}}return{value:bj(r.view,e)-2}}function n7e(e,t,n){var T,j;const{markDef:r,encoding:i,config:a,stack:o}=n,s=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=Ji(t),f=gl(t),d=Foe(t),p=n.scaleName(d),m=n.getScaleComponent(TR(t)),g=r.type==="tick"||s==="horizontal"&&t==="y"||s==="vertical"&&t==="x";let v;(i.size||r.size)&&(g?v=Sr("size",n,{vgChannel:c,defaultRef:an(r.size)}):fe(i6e(r.type)));const x=!!v,b=jse({channel:t,fieldDef:e,markDef:r,config:a,scaleType:(T=u||m)==null?void 0:T.get("type"),useVlSizeChannel:g});v=v||{[c]:t7e(c,p||l,m||u,a,b,!!e,r.type)};const S=((j=u||m)==null?void 0:j.get("type"))==="band"&&Wd(b)&&!x?"top":"middle",k=Ule(t,r,a,S),A=k==="xc"||k==="yc",{offset:E,offsetType:C}=Im({channel:t,markDef:r,encoding:i,model:n,bandPosition:A?.5:0}),P=i5({channel:t,channelDef:e,markDef:r,config:a,scaleName:l,scale:u,stack:o,offset:E,defaultRef:C5({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:A?C==="encoding"?0:.5:Me(b)?{signal:`(1-${b})/2`}:Wd(b)?(1-b.band)/2:0});if(c)return{[k]:P,...v};{const D=qc(f),F=v[c],W=E?{...F,offset:E}:F;return{[k]:P,[D]:ae(P)?[P[0],{...P[1],offset:W}]:{...P,offset:W}}}}function mq(e,t,n,r,i,a,o){if($oe(e))return 0;const s=e==="x"||e==="y2",l=s?-t/2:t/2;if(Me(n)||Me(i)||Me(r)||a){const u=Wo(n),c=Wo(i),f=Wo(r),d=Wo(a),m=a?`(${o} < ${d} ? ${s?"":"-"}0.5 * (${d} - (${o})) : ${l})`:l,g=f?`${f} + `:"",v=u?`(${u} ? -1 : 1) * `:"",x=c?`(${c} + ${m})`:m;return{signal:g+v+x}}else return i=i||0,r+(n?-i-l:+i+l)}function r7e({fieldDef:e,fieldDef2:t,channel:n,model:r}){var j;const{config:i,markDef:a,encoding:o}=r,s=r.getScaleComponent(n),l=r.scaleName(n),u=s?s.get("type"):void 0,c=s.get("reverse"),f=jse({channel:n,fieldDef:e,markDef:a,config:i,scaleType:u}),d=(j=r.component.axes[n])==null?void 0:j[0],p=(d==null?void 0:d.get("translate"))??.5,m=Nn(n)?Bt("binSpacing",a,i)??0:0,g=gl(n),v=qc(n),x=qc(g),b=rl("minBandSize",a,i),{offset:S}=Im({channel:n,markDef:a,encoding:o,model:r,bandPosition:0}),{offset:k}=Im({channel:g,markDef:a,encoding:o,model:r,bandPosition:0}),A=kBe({fieldDef:e,scaleName:l}),E=mq(n,m,c,p,S,b,A),C=mq(g,m,c,p,k??S,b,A),P=Me(f)?{signal:`(1-${f.signal})/2`}:Wd(f)?(1-f.band)/2:.5,T=Hc({fieldDef:e,fieldDef2:t,markDef:a,config:i});if(Jt(e.bin)||e.timeUnit){const D=e.timeUnit&&T!==.5;return{[x]:gq({fieldDef:e,scaleName:l,bandPosition:P,offset:C,useRectOffsetField:D}),[v]:gq({fieldDef:e,scaleName:l,bandPosition:Me(P)?{signal:`1-${P.signal}`}:1-P,offset:E,useRectOffsetField:D})}}else if(br(e.bin)){const D=dd(e,l,{},{offset:C});if(de(t))return{[x]:D,[v]:dd(t,l,{},{offset:E})};if(vh(e.bin)&&e.bin.step)return{[x]:D,[v]:{signal:`scale("${l}", ${_e(e,{expr:"datum"})} + ${e.bin.step})`,offset:E}}}fe(tse(g))}function gq({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return _S({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:zk,endSuffix:Bk}:{}})}const i7e=new Set(["aria","width","height"]);function xo(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?Ble(e):{};return{...a7e(e.markDef,t),...yq("fill",n),...yq("stroke",r),...Sr("opacity",e),...Sr("fillOpacity",e),...Sr("strokeOpacity",e),...Sr("strokeWidth",e),...Sr("strokeDash",e),...Z9e(e),...Rle(e),...k5(e,"href"),...G9e(e)}}function yq(e,t){return t?{[e]:t}:{}}function a7e(e,t){return pze.reduce((n,r)=>(!i7e.has(r)&&ce(e,r)&&t[r]!=="ignore"&&(n[r]=an(e[r])),n),{})}function O5(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,a)=>{var u;let o;if(!yl(a)||!(o=e.getScaleType(a)))return;const s=_k(i.aggregate),l=r5({scaleChannel:a,markDef:n,config:t,scaleType:o,isCountAggregate:s});if(SBe(l)){const c=e.vgField(a,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(a=>Ek(a,!0)).join(" && ")}}}function vq(e,t){if(t!==void 0)return{[e]:an(t)}}const _$="voronoi",qle={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(_$)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,a=e.mark;if(hf(a))return fe(bze(a)),n;const o={name:e.getName(_$),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...Rle(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let s=0,l=!1;return n.forEach((u,c)=>{const f=u.name??"";f===e.component.mark[0].name?s=c:f.includes(_$)&&(l=!0)}),l||n.splice(s+1,0,o),n}},Hle={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!v5(e.bind),parse:(e,t,n)=>Jle(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,a=t.bind,o=t.init&&t.init[0],s=qle.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=fn(`${r}_${l.field}`);n.filter(d=>d.name===c).length||n.unshift({name:c,...o?{init:Hd(o[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${s}[${ye(l.field)}] : null`}]:[],bind:a[l.field]??a[l.channel]??a})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.find(u=>u.name===r+bu),o=r+Ux,s=i.items.map(u=>fn(`${r}_${u.field}`)),l=s.map(u=>`${u} !== null`).join(" && ");return s.length&&(a.update=`${l} ? {fields: ${o}, values: [${s.join(", ")}]} : null`),delete a.value,delete a.on,n}},PS="_toggle",Gle={defined:e=>e.type==="point"&&!Hs(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+PS,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+bu,r=t.name+PS;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${pd(e)}}, `)+`${r} ? ${n} : null`}},o7e={defined:e=>e.clear!==void 0&&e.clear!==!1&&!Hs(e),parse:(e,t)=>{t.clear&&(t.clear=Ae(t.clear)?af(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(Hle.defined(t))for(const r of t.project.items){const i=n.findIndex(a=>a.name===fn(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,a){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:a})}if(t.type==="interval")for(const i of t.project.items){const a=n.findIndex(o=>o.name===i.signals.visual);if(r(a,"[0, 0]"),a===-1){const o=n.findIndex(s=>s.name===i.signals.data);r(o,"null")}}else{let i=n.findIndex(a=>a.name===t.name+bu);r(i,"null"),Gle.defined(t)&&(i=n.findIndex(a=>a.name===t.name+PS),r(i,"false"))}return n}},Vle={defined:e=>{const t=e.resolve==="global"&&e.bind&&v5(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==rs;return t&&!n&&fe(Aze),t&&n},parse:(e,t,n)=>{const r=Ve(n);if(r.select=Ae(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},Jle(t,r),Se(n.select)&&(n.select.on||n.select.clear)){const o='event.item && indexof(event.item.mark.role, "legend") < 0';for(const s of t.events)s.filter=Ee(s.filter??[]),s.filter.includes(o)||s.filter.push(o)}const i=m$(t.bind)?t.bind.legend:"click",a=Ae(i)?af(i,"view"):Ee(i);t.bind={legend:{merge:a}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=m$(t.bind)&&t.bind.legend,a=o=>s=>{const l=Ve(s);return l.markname=o,l};for(const o of t.project.items){if(!o.hasLegend)continue;const s=`${fn(o.field)}_legend`,l=`${r}_${s}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(a(`${s}_symbols`)).concat(i.merge.map(a(`${s}_labels`))).concat(i.merge.map(a(`${s}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.find(d=>d.name===r+bu),o=r+Ux,s=i.items.filter(d=>d.hasLegend).map(d=>fn(`${r}_${fn(d.field)}_legend`)),u=`${s.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${o}, values: [${s.join(", ")}]} : null`;t.events&&s.length>0?a.on.push({events:s.map(d=>({signal:d})),update:u}):s.length>0&&(a.update=u,delete a.value,delete a.on);const c=n.find(d=>d.name===r+PS),f=m$(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function s7e(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const a of $r(e.component.selection??{})){const o=a.project.hasField[r]??a.project.hasChannel[t];if(o&&Vle.defined(a)){const s=n.get("selections")??[];s.push(a.name),n.set("selections",s,!1),o.hasLegend=!0}}}const Xle="_translate_anchor",Zle="_translate_delta",l7e={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=au.defined(t),a=r+Xle,{x:o,y:s}=t.project.hasChannel;let l=af(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+Zp,u))),n.push({name:a,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(o!==void 0?`, extent_x: ${i?Ej(e,hn):`slice(${o.signals.visual})`}`:"")+(s!==void 0?`, extent_y: ${i?Ej(e,mr):`slice(${s.signals.visual})`}`:"")+"}"}]},{name:r+Zle,value:{},on:[{events:l,update:`{x: ${a}.x - x(unit), y: ${a}.y - y(unit)}`}]}),o!==void 0&&xq(e,t,o,"width",n),s!==void 0&&xq(e,t,s,"height",n),n}};function xq(e,t,n,r,i){const a=t.name,o=a+Xle,s=a+Zle,l=n.channel,u=au.defined(t),c=i.find(A=>A.name===n.signals[u?"data":"visual"]),f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(l),p=d&&d.get("type"),m=d&&d.get("reverse"),g=u?l===hn?m?"":"-":m?"-":"":"",v=`${o}.extent_${l}`,x=`${g}${s}.${l} / ${u?`${f}`:`span(${v})`}`,b=!u||!d?"panLinear":p==="log"?"panLog":p==="symlog"?"panSymlog":p==="pow"?"panPow":"panLinear",S=u?p==="pow"?`, ${d.get("exponent")??1}`:p==="symlog"?`, ${d.get("constant")??1}`:"":"",k=`${b}(${v}, ${x}${S})`;c.on.push({events:{signal:s},update:u?k:`clampRange(${k}, 0, ${f})`})}const Yle="_zoom_anchor",Kle="_zoom_delta",u7e={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=au.defined(t),a=r+Kle,{x:o,y:s}=t.project.hasChannel,l=ye(e.scaleName(hn)),u=ye(e.scaleName(mr));let c=af(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+Zp,f))),n.push({name:r+Yle,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),o!==void 0&&bq(e,t,o,"width",n),s!==void 0&&bq(e,t,s,"height",n),n}};function bq(e,t,n,r,i){const a=t.name,o=n.channel,s=au.defined(t),l=i.find(b=>b.name===n.signals[s?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(o),f=c&&c.get("type"),d=s?Ej(e,o):l.name,p=a+Kle,m=`${a}${Yle}.${o}`,g=!s||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",v=s?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",x=`${g}(${d}, ${m}, ${p}${v})`;l.on.push({events:{signal:p},update:s?x:`clampRange(${x}, 0, ${u})`})}const Gd="_store",bu="_tuple",c7e="_modify",Qle="vlSelectionResolve",Wk=[F9e,q9e,M9e,Gle,Hle,au,Vle,o7e,l7e,u7e,qle];function f7e(e){let t=e.parent;for(;t&&!Sa(t);)t=t.parent;return t}function pd(e,{escape:t}={escape:!0}){let n=t?ye(e.name):e.name;const r=f7e(e);if(r){const{facet:i}=r;for(const a of to)i[a]&&(n+=` + '__facet_${a}_' + (facet[${ye(r.vgField(a))}])`)}return n}function P5(e){return $r(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function Jle(e,t){(Ae(t.select)||!t.select.on)&&delete e.events,(Ae(t.select)||!t.select.clear)&&delete e.clear,(Ae(t.select)||!t.select.toggle)&&delete e.toggle}function Hs(e){var t;return(t=e.events)==null?void 0:t.find(n=>"type"in n&&n.type==="timer")}const d7e="RawCode",h7e="Literal",p7e="Property",m7e="Identifier",g7e="ArrayExpression",y7e="BinaryExpression",v7e="CallExpression",x7e="ConditionalExpression",b7e="LogicalExpression",_7e="MemberExpression",w7e="ObjectExpression",S7e="UnaryExpression";function hs(e){this.type=e}hs.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=A7e(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function A7e(e){switch(e.type){case g7e:return e.elements;case y7e:case b7e:return[e.left,e.right];case v7e:return[e.callee].concat(e.arguments);case x7e:return[e.test,e.consequent,e.alternate];case _7e:return[e.object,e.property];case w7e:return e.properties;case p7e:return[e.key,e.value];case S7e:return[e.argument];case m7e:case h7e:case d7e:default:return[]}}var xl,Ne,ne,Kr,Dt,qk=1,Wx=2,Vd=3,pf=4,Hk=5,Sh=6,Di=7,qx=8,E7e=9;xl={};xl[qk]="Boolean";xl[Wx]="<end>";xl[Vd]="Identifier";xl[pf]="Keyword";xl[Hk]="Null";xl[Sh]="Numeric";xl[Di]="Punctuator";xl[qx]="String";xl[E7e]="RegularExpression";var k7e="ArrayExpression",C7e="BinaryExpression",O7e="CallExpression",P7e="ConditionalExpression",eue="Identifier",$7e="Literal",T7e="LogicalExpression",N7e="MemberExpression",M7e="ObjectExpression",j7e="Property",D7e="UnaryExpression",cr="Unexpected token %0",F7e="Unexpected number",L7e="Unexpected string",I7e="Unexpected identifier",R7e="Unexpected reserved word",z7e="Unexpected end of input",Cj="Invalid regular expression",w$="Invalid regular expression: missing /",tue="Octal literals are not allowed in strict mode.",B7e="Duplicate data property in object literal not allowed in strict mode",Cr="ILLEGAL",s1="Disabled.",U7e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),W7e=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Gk(e,t){if(!e)throw new Error("ASSERT: "+t)}function zl(e){return e>=48&&e<=57}function $5(e){return"0123456789abcdefABCDEF".includes(e)}function av(e){return"01234567".includes(e)}function q7e(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function l1(e){return e===10||e===13||e===8232||e===8233}function Hx(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&U7e.test(String.fromCharCode(e))}function $S(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&W7e.test(String.fromCharCode(e))}const H7e={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function nue(){for(;ne<Kr;){const e=Ne.charCodeAt(ne);if(q7e(e)||l1(e))++ne;else break}}function Oj(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)ne<Kr&&$5(Ne[ne])?(r=Ne[ne++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):wt({},cr,Cr);return String.fromCharCode(i)}function G7e(){var e,t,n,r;for(e=Ne[ne],t=0,e==="}"&&wt({},cr,Cr);ne<Kr&&(e=Ne[ne++],!!$5(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&wt({},cr,Cr),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function rue(){var e,t;for(e=Ne.charCodeAt(ne++),t=String.fromCharCode(e),e===92&&(Ne.charCodeAt(ne)!==117&&wt({},cr,Cr),++ne,e=Oj("u"),(!e||e==="\\"||!Hx(e.charCodeAt(0)))&&wt({},cr,Cr),t=e);ne<Kr&&(e=Ne.charCodeAt(ne),!!$S(e));)++ne,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Ne.charCodeAt(ne)!==117&&wt({},cr,Cr),++ne,e=Oj("u"),(!e||e==="\\"||!$S(e.charCodeAt(0)))&&wt({},cr,Cr),t+=e);return t}function V7e(){var e,t;for(e=ne++;ne<Kr;){if(t=Ne.charCodeAt(ne),t===92)return ne=e,rue();if($S(t))++ne;else break}return Ne.slice(e,ne)}function X7e(){var e,t,n;return e=ne,t=Ne.charCodeAt(ne)===92?rue():V7e(),t.length===1?n=Vd:H7e.hasOwnProperty(t)?n=pf:t==="null"?n=Hk:t==="true"||t==="false"?n=qk:n=Vd,{type:n,value:t,start:e,end:ne}}function S$(){var e=ne,t=Ne.charCodeAt(ne),n,r=Ne[ne],i,a,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ne,{type:Di,value:String.fromCharCode(t),start:e,end:ne};default:if(n=Ne.charCodeAt(ne+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ne+=2,{type:Di,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:ne};case 33:case 61:return ne+=2,Ne.charCodeAt(ne)===61&&++ne,{type:Di,value:Ne.slice(e,ne),start:e,end:ne}}}if(o=Ne.substr(ne,4),o===">>>=")return ne+=4,{type:Di,value:o,start:e,end:ne};if(a=o.substr(0,3),a===">>>"||a==="<<="||a===">>=")return ne+=3,{type:Di,value:a,start:e,end:ne};if(i=a.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return ne+=2,{type:Di,value:i,start:e,end:ne};if(i==="//"&&wt({},cr,Cr),"<>=!+-*%&|^/".includes(r))return++ne,{type:Di,value:r,start:e,end:ne};wt({},cr,Cr)}function Z7e(e){let t="";for(;ne<Kr&&$5(Ne[ne]);)t+=Ne[ne++];return t.length===0&&wt({},cr,Cr),Hx(Ne.charCodeAt(ne))&&wt({},cr,Cr),{type:Sh,value:parseInt("0x"+t,16),start:e,end:ne}}function Y7e(e){let t="0"+Ne[ne++];for(;ne<Kr&&av(Ne[ne]);)t+=Ne[ne++];return(Hx(Ne.charCodeAt(ne))||zl(Ne.charCodeAt(ne)))&&wt({},cr,Cr),{type:Sh,value:parseInt(t,8),octal:!0,start:e,end:ne}}function _q(){var e,t,n;if(n=Ne[ne],Gk(zl(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=ne,e="",n!=="."){if(e=Ne[ne++],n=Ne[ne],e==="0"){if(n==="x"||n==="X")return++ne,Z7e(t);if(av(n))return Y7e(t);n&&zl(n.charCodeAt(0))&&wt({},cr,Cr)}for(;zl(Ne.charCodeAt(ne));)e+=Ne[ne++];n=Ne[ne]}if(n==="."){for(e+=Ne[ne++];zl(Ne.charCodeAt(ne));)e+=Ne[ne++];n=Ne[ne]}if(n==="e"||n==="E")if(e+=Ne[ne++],n=Ne[ne],(n==="+"||n==="-")&&(e+=Ne[ne++]),zl(Ne.charCodeAt(ne)))for(;zl(Ne.charCodeAt(ne));)e+=Ne[ne++];else wt({},cr,Cr);return Hx(Ne.charCodeAt(ne))&&wt({},cr,Cr),{type:Sh,value:parseFloat(e),start:t,end:ne}}function K7e(){var e="",t,n,r,i,a=!1;for(t=Ne[ne],Gk(t==="'"||t==='"',"String literal must starts with a quote"),n=ne,++ne;ne<Kr;)if(r=Ne[ne++],r===t){t="";break}else if(r==="\\")if(r=Ne[ne++],!r||!l1(r.charCodeAt(0)))switch(r){case"u":case"x":Ne[ne]==="{"?(++ne,e+=G7e()):e+=Oj(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:av(r)?(i="01234567".indexOf(r),i!==0&&(a=!0),ne<Kr&&av(Ne[ne])&&(a=!0,i=i*8+"01234567".indexOf(Ne[ne++]),"0123".includes(r)&&ne<Kr&&av(Ne[ne])&&(i=i*8+"01234567".indexOf(Ne[ne++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Ne[ne]===`
`&&++ne;else{if(l1(r.charCodeAt(0)))break;e+=r}return t!==""&&wt({},cr,Cr),{type:qx,value:e,octal:a,start:n,end:ne}}function Q7e(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";wt({},Cj)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{wt({},Cj)}try{return new RegExp(e,t)}catch{return null}}function J7e(){var e,t,n,r,i;for(e=Ne[ne],Gk(e==="/","Regular expression literal must start with a slash"),t=Ne[ne++],n=!1,r=!1;ne<Kr;)if(e=Ne[ne++],t+=e,e==="\\")e=Ne[ne++],l1(e.charCodeAt(0))&&wt({},w$),t+=e;else if(l1(e.charCodeAt(0)))wt({},w$);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||wt({},w$),i=t.substr(1,t.length-2),{value:i,literal:t}}function eUe(){var e,t,n;for(t="",n="";ne<Kr&&(e=Ne[ne],!!$S(e.charCodeAt(0)));)++ne,e==="\\"&&ne<Kr?wt({},cr,Cr):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&wt({},Cj,n),{value:n,literal:t}}function tUe(){var e,t,n,r;return Dt=null,nue(),e=ne,t=J7e(),n=eUe(),r=Q7e(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:ne}}function nUe(e){return e.type===Vd||e.type===pf||e.type===qk||e.type===Hk}function iue(){if(nue(),ne>=Kr)return{type:Wx,start:ne,end:ne};const e=Ne.charCodeAt(ne);return Hx(e)?X7e():e===40||e===41||e===59?S$():e===39||e===34?K7e():e===46?zl(Ne.charCodeAt(ne+1))?_q():S$():zl(e)?_q():S$()}function Ri(){const e=Dt;return ne=e.end,Dt=iue(),ne=e.end,e}function aue(){const e=ne;Dt=iue(),ne=e}function rUe(e){const t=new hs(k7e);return t.elements=e,t}function wq(e,t,n){const r=new hs(e==="||"||e==="&&"?T7e:C7e);return r.operator=e,r.left=t,r.right=n,r}function iUe(e,t){const n=new hs(O7e);return n.callee=e,n.arguments=t,n}function aUe(e,t,n){const r=new hs(P7e);return r.test=e,r.consequent=t,r.alternate=n,r}function T5(e){const t=new hs(eue);return t.name=e,t}function ky(e){const t=new hs($7e);return t.value=e.value,t.raw=Ne.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Sq(e,t,n){const r=new hs(N7e);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function oUe(e){const t=new hs(M7e);return t.properties=e,t}function Aq(e,t,n){const r=new hs(j7e);return r.key=t,r.value=n,r.kind=e,r}function sUe(e,t){const n=new hs(D7e);return n.operator=e,n.argument=t,n.prefix=!0,n}function wt(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(a,o)=>(Gk(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=ne,n.description=i,n}function Vk(e){e.type===Wx&&wt(e,z7e),e.type===Sh&&wt(e,F7e),e.type===qx&&wt(e,L7e),e.type===Vd&&wt(e,I7e),e.type===pf&&wt(e,R7e),wt(e,cr,e.value)}function Qr(e){const t=Ri();(t.type!==Di||t.value!==e)&&Vk(t)}function on(e){return Dt.type===Di&&Dt.value===e}function A$(e){return Dt.type===pf&&Dt.value===e}function lUe(){const e=[];for(ne=Dt.start,Qr("[");!on("]");)on(",")?(Ri(),e.push(null)):(e.push(Xd()),on("]")||Qr(","));return Ri(),rUe(e)}function Eq(){ne=Dt.start;const e=Ri();return e.type===qx||e.type===Sh?(e.octal&&wt(e,tue),ky(e)):T5(e.value)}function uUe(){var e,t,n,r;if(ne=Dt.start,e=Dt,e.type===Vd)return n=Eq(),Qr(":"),r=Xd(),Aq("init",n,r);if(e.type===Wx||e.type===Di)Vk(e);else return t=Eq(),Qr(":"),r=Xd(),Aq("init",t,r)}function cUe(){var e=[],t,n,r,i={},a=String;for(ne=Dt.start,Qr("{");!on("}");)t=uUe(),t.key.type===eue?n=t.key.name:n=a(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?wt({},B7e):i[r]=!0,e.push(t),on("}")||Qr(",");return Qr("}"),oUe(e)}function fUe(){Qr("(");const e=N5();return Qr(")"),e}const dUe={if:1};function hUe(){var e,t,n;if(on("("))return fUe();if(on("["))return lUe();if(on("{"))return cUe();if(e=Dt.type,ne=Dt.start,e===Vd||dUe[Dt.value])n=T5(Ri().value);else if(e===qx||e===Sh)Dt.octal&&wt(Dt,tue),n=ky(Ri());else{if(e===pf)throw new Error(s1);e===qk?(t=Ri(),t.value=t.value==="true",n=ky(t)):e===Hk?(t=Ri(),t.value=null,n=ky(t)):on("/")||on("/=")?(n=ky(tUe()),aue()):Vk(Ri())}return n}function pUe(){const e=[];if(Qr("("),!on(")"))for(;ne<Kr&&(e.push(Xd()),!on(")"));)Qr(",");return Qr(")"),e}function mUe(){ne=Dt.start;const e=Ri();return nUe(e)||Vk(e),T5(e.value)}function gUe(){return Qr("."),mUe()}function yUe(){Qr("[");const e=N5();return Qr("]"),e}function vUe(){var e,t,n;for(e=hUe();;)if(on("."))n=gUe(),e=Sq(".",e,n);else if(on("("))t=pUe(),e=iUe(e,t);else if(on("["))n=yUe(),e=Sq("[",e,n);else break;return e}function kq(){const e=vUe();if(Dt.type===Di&&(on("++")||on("--")))throw new Error(s1);return e}function bw(){var e,t;if(Dt.type!==Di&&Dt.type!==pf)t=kq();else{if(on("++")||on("--"))throw new Error(s1);if(on("+")||on("-")||on("~")||on("!"))e=Ri(),t=bw(),t=sUe(e.value,t);else{if(A$("delete")||A$("void")||A$("typeof"))throw new Error(s1);t=kq()}}return t}function Cq(e){let t=0;if(e.type!==Di&&e.type!==pf)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function xUe(){var e,t,n,r,i,a,o,s,l,u;if(e=Dt,l=bw(),r=Dt,i=Cq(r),i===0)return l;for(r.prec=i,Ri(),t=[e,Dt],o=bw(),a=[l,r,o];(i=Cq(Dt))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,l=a.pop(),t.pop(),n=wq(s,l,o),a.push(n);r=Ri(),r.prec=i,a.push(r),t.push(Dt),n=bw(),a.push(n)}for(u=a.length-1,n=a[u],t.pop();u>1;)t.pop(),n=wq(a[u-1].value,a[u-2],n),u-=2;return n}function Xd(){var e,t,n;return e=xUe(),on("?")&&(Ri(),t=Xd(),Qr(":"),n=Xd(),e=aUe(e,t,n)),e}function N5(){const e=Xd();if(on(","))throw new Error(s1);return e}function bUe(e){Ne=e,ne=0,Kr=Ne.length,Dt=null,aue();const t=N5();if(Dt.type!==Wx)throw new Error("Unexpect token after expression.");return t}function Pj(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...Pj(e.object)),t.push(...Pj(e.property))),t)}function oue(e){return e.object.type==="MemberExpression"?oue(e.object):e.object.name==="datum"}function sue(e){const t=bUe(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&oue(r)&&n.add(Pj(r).slice(1).join("."))}),n}class Rg extends Lt{clone(){return new Rg(null,this.model,Ve(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=TS(this.model,this.filter,this),this._dependentFields=sue(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function _Ue(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const a of t){const o=fn(a.name),s=a.select,l=Ae(s)?s:s.type,u=Se(s)?Ve(s):{type:l},c=r[l];for(const p in c)p==="fields"||p==="encodings"||(p==="mark"&&(u.mark={...c.mark,...u.mark}),(u[p]===void 0||u[p]===!0)&&(u[p]=Ve(c[p]??u[p])));const f=n[o]={...u,name:o,type:l,init:a.value,bind:a.bind,events:Ae(u.on)?af(u.on,"scope"):Ee(Ve(u.on))};if(Hs(f)&&(i++,i>1)){delete n[o];continue}const d=Ve(a);for(const p of Wk)p.defined(f)&&p.parse&&p.parse(e,f,d)}return i>1&&fe($ze),n}function lue(e,t,n,r="datum"){const i=Ae(t)?t:t.param,a=fn(i),o=ye(a+Gd);let s;try{s=e.getSelectionComponent(a,i)}catch{return`!!${a}`}if(s.project.timeUnit){const d=n??e.component.data.raw,p=s.project.timeUnit.clone();d.parent?p.insertAsParentOf(d):d.parent=p}const l=s.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=s.resolve==="global"?")":`, ${ye(s.resolve)})`,c=`${l}${o}, ${r}${u}`,f=`length(data(${o}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function uue(e,t,n){const r=fn(t),i=n.encoding;let a=n.field,o;try{o=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!a)a=o.project.items[0].field,o.project.items.length>1&&fe(Tze(a));else if(i&&!a){const s=o.project.items.filter(l=>l.channel===i);!s.length||s.length>1?(a=o.project.items[0].field,fe(Nze(s,i,n,a))):a=s[0].field}return`${o.name}[${ye(ho(a))}]`}function wUe(e,t){for(const[n,r]of Wc(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new Vi(new Rg(t,e,{param:n}),i,vn.Lookup,e.component.data.outputNodeRefCounts)}}function TS(e,t,n){return rv(t,r=>Ae(r)?r:B6e(r)?lue(e,r,n):hse(r))}function SUe(e,t){if(e)return ae(e)&&!Qu(e)?e.map(n=>c5(n,t)).join(", "):e}function E$(e,t,n,r){var i,a;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(a=e.encode[t]).update??(a.update={}),e.encode[t].update[n]=r}function Cy(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:a,scale:o,labelExpr:s,title:l,zindex:u,...c}=e.combine();if(!i){for(const p in c){const m=p,g=GBe[m],v=c[m];if(g&&g!==t&&g!=="both")delete c[m];else if(Bx(v)){const{condition:x,...b}=v,S=Ee(x),k=XW[m];if(k){const{vgProp:A,part:E}=k,C=[...S.map(P=>{const{test:T,...j}=P;return{test:TS(null,T),...j}}),b];E$(c,E,A,C),delete c[m]}else if(k===null){const A={signal:S.map(E=>{const{test:C,...P}=E;return`${TS(null,C)} ? ${NW(P)} : `}).join("")+NW(b)};c[m]=A}}else if(Me(v)){const x=XW[m];if(x){const{vgProp:b,part:S}=x;E$(c,S,b,v),delete c[m]}}lt(["labelAlign","labelBaseline"],m)&&c[m]===null&&delete c[m]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:p}=c.encode;c.encode={...p?{grid:p}:{}},Ut(c.encode)&&delete c.encode}return{scale:o,orient:a,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Tn(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(s!==void 0){let m=s;(d=(f=c.encode)==null?void 0:f.labels)!=null&&d.update&&Me(c.encode.labels.update.text)&&(m=Id(s,"datum.label",c.encode.labels.update.text.signal)),E$(c,"labels","text",{signal:m})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const m of qse)e.hasAxisPart(m)||delete c.encode[m];Ut(c.encode)&&delete c.encode}const p=SUe(l,n);return{scale:o,orient:a,grid:!1,...p?{title:p}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:Tn(u,0)}}}}function cue(e){const{axes:t}=e.component,n=[];for(const r of Pu)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const a=r==="x"?"height":"width",o=e.getSizeSignalRef(a).signal;a!==o&&n.push({name:a,update:o})}}return n}function AUe(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>Cy(i,"grid",t)),...r.map(i=>Cy(i,"grid",t)),...n.map(i=>Cy(i,"main",t)),...r.map(i=>Cy(i,"main",t))].filter(i=>i)}function Oq(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const a=n==="x"?"bottom":"left",o=t[n==="x"?"axisBottom":"axisLeft"]||{},s=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...ue(o),...ue(s)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${a}" ? ${Wo(o[c])} : ${Wo(s[c])}`};return u}return t[i]})])}function EUe(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:yse(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],a=e==="x"?"axisX":"axisY",o=Me(n)?"axisOrient":`axis${$x(n)}`,s=[...i,...i.map(u=>a+u.substr(4))],l=["axis",o,a];return{vlOnlyAxisConfig:Oq(s,r,e,n),vgAxisConfig:Oq(l,r,e,n),axisConfigStyle:kUe([...l,...s],r)}}function kUe(e,t){var r;const n=[{}];for(const i of e){let a=(r=t[i])==null?void 0:r.style;if(a){a=Ee(a);for(const o of a)n.push(t.style[o])}}return Object.assign.apply(null,n)}function $j(e,t,n,r={}){var a;const i=Hoe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((a=r[o])==null?void 0:a[e])!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const Pq={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??CUe(n,e),gridScale:({model:e,channel:t})=>OUe(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||due(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||fue(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??$Ue(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??TUe(t.type,n,de(t)&&!!t.timeUnit,de(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const a=e==="x"?"width":e==="y"?"height":void 0,o=a?t.getSizeSignalRef(a):void 0;return n.tickCount??MUe({fieldOrDatumDef:r,scaleType:i,size:o,values:n.values})},tickMinStep:jUe,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=hue(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),a=n==="x"?"x2":"y2",o=t.fieldDef(a);return Voe(i?[GW(i)]:[],de(o)?[GW(o)]:[])},values:({axis:e,fieldOrDatumDef:t})=>DUe(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??FUe(n,t)};function CUe(e,t){return!hr(e)&&de(t)&&!Jt(t==null?void 0:t.bin)&&!br(t==null?void 0:t.bin)}function OUe(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function PUe(e,t,n,r,i){const a=t==null?void 0:t.labelAngle;if(a!==void 0)return Me(a)?a:i1(a);{const{configValue:o}=$j("labelAngle",r,t==null?void 0:t.style,i);return o!==void 0?i1(o):n===hn&&lt([QR,KR],e.type)&&!(de(e)&&e.timeUnit)?270:void 0}}function Tj(e){return`(((${e.signal} % 360) + 360) % 360)`}function fue(e,t,n,r){if(e!==void 0)if(n==="x"){if(Me(e)){const i=Tj(e),a=Me(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${a} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Me(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Me(e)){const i=Tj(e),a=Me(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${a} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Me(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function due(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,a=r?"bottom":"left";if(Me(e)){const o=Tj(e),s=Me(t)?`(${t.signal} === "${a}")`:t===a;return{signal:`(${i?`(${o} + 90)`:o} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${o} && ${o} < ${180+i}) === ${s} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Me(t)){const o=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${o} "${a}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===a)?"left":"right"}function $Ue(e,t){if(t==="x"&&lt(["quantitative","temporal"],e))return!0}function TUe(e,t,n,r){if(n&&!Se(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function NUe(e){return e==="x"?"bottom":"left"}function MUe({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!hr(t)&&t!=="log"){if(de(e)){if(Jt(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&lt(["month","hours","day","quarter"],(i=dr(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function jUe({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(de(t)){const{timeUnit:n}=t;if(n){const r=cse(n);if(r)return{signal:r}}}}function hue(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),a=r?r.title:void 0,o=i?i.title:void 0;if(a&&o)return Xoe(a,o);if(a)return a;if(o)return o;if(a!==void 0)return a;if(o!==void 0)return o}function DUe(e,t){const n=e.values;if(ae(n))return Wse(t,n);if(Me(n))return n}function FUe(e,t){return e==="rect"&&SS(t)?1:0}class Rm extends Lt{clone(){return new Rm(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=sue(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(wh(r)&&Mse(r.sort)){const{field:a,timeUnit:o}=r,s=r.sort,l=s.map((u,c)=>`${hse({field:a,timeUnit:o,equal:u})} ? ${c} : `).join("")+s.length;t=new Rm(t,{calculate:l,as:zm(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${dt(this.transform)}`}}function zm(e,t,n){return _e(e,{prefix:t,suffix:"sort_index",...n})}function Xk(e,t){return lt(["top","bottom"],t)?"column":lt(["left","right"],t)||e==="row"?"row":"column"}function Bm(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return Tn((t||{})[e],i[e],n.header[e])}function Zk(e,t,n,r){const i={};for(const a of e){const o=Bm(a,t||{},n,r);o!==void 0&&(i[a]=o)}return i}const M5=["row","column"],j5=["header","footer"];function LUe(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:a,titleAngle:o,titleOrient:s}=Zk(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=Xk(t,s),u=i1(o);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...mue(u,l),...pue(l,u,a),...gue(r,i,t,p8e,lle)}}}function pue(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=due(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function mue(e,t){const n=fue(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function IUe(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of j5)if(n[i])for(const a of n[i]){const o=zUe(e,t,i,n,a);o!=null&&r.push(o)}return r}function RUe(e,t){const{sort:n}=e;return iu(n)?{field:_e(n,{expr:"datum"}),order:n.order??"ascending"}:ae(n)?{field:zm(e,t,{expr:"datum"}),order:"ascending"}:{field:_e(e,{expr:"datum"}),order:n??"ascending"}}function Nj(e,t,n){const{format:r,formatType:i,labelAngle:a,labelAnchor:o,labelOrient:s,labelExpr:l}=Zk(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=o5({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=Xk(t,s);return{text:{signal:l?Id(Id(l,"datum.label",u),"datum.value",_e(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...mue(a,c),...pue(c,a,o),...gue(n,e,t,m8e,ule)}}function zUe(e,t,n,r,i){if(i){let a=null;const{facetFieldDef:o}=r,s=e.config?e.config:void 0;if(o&&i.labels){const{labelOrient:f}=Zk(["labelOrient"],o.header,s,t);(t==="row"&&!lt(["top","bottom"],f)||t==="column"&&!lt(["left","right"],f))&&(a=Nj(o,t,s))}const l=Sa(e)&&!Lx(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(a||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:RUe(o,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...a?{title:a}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const BUe={column:{start:0,end:1},row:{start:1,end:0}};function UUe(e,t){return BUe[t][e]}function WUe(e,t){const n={};for(const r of to){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:a,titleOrient:o}=Zk(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),s=Xk(r,o),l=UUe(a,s);l!==void 0&&(n[s]=l)}}return Ut(n)?void 0:n}function gue(e,t,n,r,i){const a={};for(const o of r){if(!i[o])continue;const s=Bm(o,t==null?void 0:t.header,e,n);s!==void 0&&(a[i[o]]=s)}return a}function D5(e){return[...h_(e,"width"),...h_(e,"height"),...h_(e,"childWidth"),...h_(e,"childHeight")]}function h_(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const a=e.getScaleComponent(n);if(a){const o=a.get("type"),s=a.get("range");if(hr(o)&&xh(s)){const l=e.scaleName(n);return Sa(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[$q(l,s)]:[$q(l,s),{name:i,update:yue(l,a,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const a=i.endsWith("width"),o=a?"containerSize()[0]":"containerSize()[1]",s=xj(e.config.view,a?"width":"height"),l=`isFinite(${o}) ? ${o} : ${s}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function $q(e,t){const n=`${e}_step`;return Me(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function yue(e,t,n){const r=t.get("type"),i=t.get("padding"),a=Tn(t.get("paddingOuter"),i);let o=t.get("paddingInner");return o=r==="band"?o!==void 0?o:i:1,`bandspace(${n}, ${Wo(o)}, ${Wo(a)}) * ${e}_step`}function vue(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function xue(e,t){return ue(e).reduce((n,r)=>({...n,...Ig({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>an(i.value),invalidValueRef:void 0})}),{})}function bue(e,t){if(Sa(t))return e==="theta"?"independent":"shared";if(Ug(t))return"shared";if(U5(t))return Nn(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function F5(e,t){const n=e.scale[t],r=Nn(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&fe(u6e(t)),"independent"):e[r][t]||"shared"}const qUe={...v8e,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},_ue=ue(qUe);class HUe extends Tu{}const Tq={symbols:GUe,gradient:VUe,labels:XUe,entries:ZUe};function GUe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:a}){if(a!=="symbol")return;const{markDef:o,encoding:s,config:l,mark:u}=n,c=o.filled&&u!=="trail";let f={...yze({},n,hBe),...Ble(n,{filled:c})};const d=i.get("symbolOpacity")??l.legend.symbolOpacity,p=i.get("symbolFillColor")??l.legend.symbolFillColor,m=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,g=d===void 0?wue(s.opacity)??o.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===Ki)delete f.fill;else if(ce(f.fill,"field"))p?delete f.fill:(f.fill=an(l.legend.symbolBaseFillColor??"black"),f.fillOpacity=an(g??1));else if(ae(f.fill)){const v=Mj(s.fill??s.color)??o.fill??(c&&o.color);v&&(f.fill=an(v))}}if(f.stroke){if(r==="stroke"||!c&&r===Ki)delete f.stroke;else if(ce(f.stroke,"field")||m)delete f.stroke;else if(ae(f.stroke)){const v=Tn(Mj(s.stroke||s.color),o.stroke,c?o.color:void 0);v&&(f.stroke={value:v})}}if(r!==Ou){const v=de(t)&&Aue(n,i,t);v?f.opacity=[{test:v,...an(g??1)},an(l.legend.unselectedOpacity)]:g&&(f.opacity=an(g))}return f={...f,...e},Ut(f)?void 0:f}function VUe(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:a,encoding:o}=t;let s={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?wue(o.opacity)||a.opacity:void 0;return u&&(s.opacity=an(u)),s={...s,...e},Ut(s)?void 0:s}function XUe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const a=n.legend(r)||{},o=n.config,s=de(t)?Aue(n,i,t):void 0,l=s?[{test:s,value:1},{value:o.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=a;let f;qd(c)?f=qo({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:o}):u===void 0&&c===void 0&&o.customFormatTypes&&(t.type==="quantitative"&&o.numberFormatType?f=qo({fieldOrDatumDef:t,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}):t.type==="temporal"&&o.timeFormatType&&de(t)&&t.timeUnit===void 0&&(f=qo({fieldOrDatumDef:t,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})));const d={...l?{opacity:l}:{},...f?{text:f}:{},...e};return Ut(d)?void 0:d}function ZUe(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function wue(e){return Sue(e,(t,n)=>Math.max(t,n.value))}function Mj(e){return Sue(e,(t,n)=>Tn(t,n.value))}function Sue(e,t){if(jBe(e))return Ee(e.condition).reduce(t,e.value);if(ts(e))return e.value}function Aue(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=ye(n.field);return r.map(a=>`(!length(data(${ye(fn(a)+Gd)})) || (${a}[${i}] && indexof(${a}[${i}], datum.value) >= 0))`).join(" || ")}const Nq={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return $se(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return Tse(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??nWe(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??rWe(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??KUe(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>Xp(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Vp(n)&&js(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>YUe(t,e)};function YUe(e,t){const n=e.values;if(ae(n))return Wse(t,n);if(Me(n))return n}function KUe(e,t,n,r){if(t!=="shape"){const i=Mj(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function QUe(e){const{legend:t}=e;return Tn(t.type,JUe(e))}function JUe({channel:e,timeUnit:t,scaleType:n}){if(Vp(e)){if(lt(["quarter","month","day"],t))return"symbol";if(js(n))return"gradient"}return"symbol"}function eWe({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??tWe(n,t)}function tWe(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function nWe({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:a,gradientHorizontalMinLength:o,gradientVerticalMaxLength:s,gradientVerticalMinLength:l}=e;if(js(i))return n==="horizontal"?r==="top"||r==="bottom"?Mq(t,"width",o,a):o:Mq(t,"height",l,s)}function Mq(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function rWe(e){if(lt(["quantile","threshold","log","symlog"],e))return"greedy"}function Eue(e){const t=yn(e)?iWe(e):lWe(e);return e.component.legends=t,t}function iWe(e){const{encoding:t}=e,n={};for(const r of[Ki,...fle]){const i=Zn(t[r]);!i||!e.getScaleComponent(r)||r===Qi&&de(i)&&i.type===Lg||(n[r]=sWe(e,r))}return n}function aWe(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function oWe(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function sWe(e,t){var k;let n=e.legend(t);const{markDef:r,encoding:i,config:a}=e,o=a.legend,s=new HUe({},aWe(e,t));s7e(e,t,s);const l=n!==void 0?!n:o.disable;if(s.set("disable",l,n!==void 0),l)return s;n=n||{};const u=e.getScaleComponent(t).get("type"),c=Zn(i[t]),f=de(c)?(k=dr(c.timeUnit))==null?void 0:k.unit:void 0,d=n.orient||a.legend.orient||"right",p=QUe({legend:n,channel:t,timeUnit:f,scaleType:u}),m=eWe({legend:n,legendType:p,orient:d,legendConfig:o}),g={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:o,config:a,scaleType:u,orient:d,legendType:p,direction:m};for(const A of _ue){if(p==="gradient"&&A.startsWith("symbol")||p==="symbol"&&A.startsWith("gradient"))continue;const E=A in Nq?Nq[A](g):n[A];if(E!==void 0){const C=oWe(E,A,n,e.fieldDef(t));(C||a.legend[A]===void 0)&&s.set(A,E,C)}}const v=(n==null?void 0:n.encoding)??{},x=s.get("selections"),b={},S={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:s,legendType:p};for(const A of["labels","legend","title","symbols","gradient","entries"]){const E=xue(v[A]??{},e),C=A in Tq?Tq[A](E,S):E;C!==void 0&&!Ut(C)&&(b[A]={...x!=null&&x.length&&de(c)?{name:`${fn(c.field)}_legend_${A}`}:{},...x!=null&&x.length?{interactive:!!x}:{},update:C})}return Ut(b)||s.set("encode",b,!!(n!=null&&n.encoding)),s}function lWe(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){Eue(r);for(const i of ue(r.component.legends))n.legend[i]=F5(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=kue(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of ue(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function kue(e,t){var a,o,s,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of _ue){const c=Gc(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(f,d)=>{switch(u){case"symbolType":return uWe(f,d);case"title":return Zoe(f,d);case"type":return i=!0,sa("symbol")}return Rk(f,d,u,"legend")});e.setWithExplicit(u,c)}return i&&((o=(a=e.implicit)==null?void 0:a.encode)!=null&&o.gradient&&vS(e.implicit,["encode","gradient"]),(l=(s=e.explicit)==null?void 0:s.encode)!=null&&l.gradient&&vS(e.explicit,["encode","gradient"])),e}function uWe(e,t){return t.value==="circle"?t:e}function cWe(e,t,n,r){var i,a;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(a=e.encode[t]).update??(a.update={}),e.encode[t].update[n]=r}function Cue(e){const t=e.component.legends,n={};for(const i of ue(t)){const a=e.getScaleComponent(i),o=Wt(a.get("domains"));if(n[o])for(const s of n[o])kue(s,t[i])||n[o].push(t[i]);else n[o]=[t[i].clone()]}return $r(n).flat().map(i=>fWe(i,e.config)).filter(i=>i!==void 0)}function fWe(e,t){var o,s,l;const{disable:n,labelExpr:r,selections:i,...a}=e.combine();if(!n){if(t.aria===!1&&a.aria==null&&(a.aria=!1),(o=a.encode)!=null&&o.symbols){const u=a.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!a.stroke&&(u.stroke={value:"transparent"});for(const c of fle)a[c]&&delete u[c]}if(a.title||delete a.title,r!==void 0){let u=r;(l=(s=a.encode)==null?void 0:s.labels)!=null&&l.update&&Me(a.encode.labels.update.text)&&(u=Id(r,"datum.label",a.encode.labels.update.text.signal)),cWe(a,"labels","text",{signal:u})}return a}}function dWe(e){return Ug(e)||U5(e)?hWe(e):Oue(e)}function hWe(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),Oue(e))}function Oue(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(o=>o.signal).join(", ")}]`},a=t.data.reduce((o,s)=>{const l=Me(s)?s.signal:`data('${e.lookupDataSource(s)}')`;return lt(o,l)||o.push(l),o},[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:a.length>1?`[${a.join(", ")}]`:a[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const pWe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Pue extends Tu{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function $ue(e){e.component.projection=yn(e)?mWe(e):vWe(e)}function mWe(e){if(e.hasProjection){const t=_r(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?gWe(e):void 0,a=new Pue(e.projectionName(!0),{..._r(e.config.projection),...t},r,i);return a.get("type")||a.set("type","equalEarth",!1),a}}function gWe(e){const t=[],{encoding:n}=e;for(const r of[[fs,cs],[po,ds]])(Zn(n[r[0]])||Zn(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Qi)&&e.typedFieldDef(Qi).type===Lg&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(vn.Main)),t}function yWe(e,t){const n=AR(pWe,i=>!!(!ke(e.explicit,i)&&!ke(t.explicit,i)||ke(e.explicit,i)&&ke(t.explicit,i)&&va(e.get(i),t.get(i))));if(va(e.size,t.size)){if(n)return e;if(va(e.explicit,{}))return t;if(va(t.explicit,{}))return e}return null}function vWe(e){if(e.children.length===0)return;let t;for(const r of e.children)$ue(r);const n=AR(e.children,r=>{const i=r.component.projection;if(i)if(t){const a=yWe(t,i);return a&&(t=a),!!a}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new Pue(r,t.specifiedProjection,t.size,Ve(t.data));for(const a of e.children){const o=a.component.projection;o&&(o.isFit&&i.data.push(...a.component.projection.data),a.renameProjection(o.get("name"),r),o.merged=!0)}return i}}function xWe(e,t,n,r){if(zx(t,n)){const i=yn(e)?e.axis(n)??e.legend(n)??{}:{},a=_e(t,{expr:"datum"}),o=_e(t,{expr:"datum",binSuffix:"end"});return{formulaAs:_e(t,{binSuffix:"range",forAs:!0}),formula:Fx(a,o,i.format,i.formatType,r)}}return{}}function Tue(e,t){return`${Boe(e)}_${t}`}function bWe(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function L5(e,t,n){const r=Mk(n,void 0)??{},i=Tue(r,t);return e.getName(`${i}_bins`)}function _We(e){return"as"in e}function jq(e,t,n){let r,i;_We(e)?r=Ae(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[_e(e,{forAs:!0}),_e(e,{binSuffix:"end",forAs:!0})];const a={...Mk(t,void 0)},o=Tue(a,e.field),{signal:s,extentSignal:l}=bWe(n,o);if(wk(a.extent)){const c=a.extent;i=uue(n,c.param,c),delete a.extent}const u={bin:a,field:e.field,as:[r],...s?{signal:s}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:o,binComponent:u}}class Gs extends Lt{clone(){return new Gs(null,Ve(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,a,o)=>{if(Ai(a)&&Jt(a.bin)){const{key:s,binComponent:l}=jq(a,a.bin,n);i[s]={...l,...i[s],...xWe(n,a,o,n.config)}}return i},{});return Ut(r)?null:new Gs(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:a}=jq(n,n.bin,r);return new Gs(t,{[i]:a})}merge(t,n){for(const r of ue(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Ms([...this.bins[r].as,...t.bins[r].as],dt)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set($r(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set($r(this.bins).map(t=>t.field))}hash(){return`Bin ${dt(this.bins)}`}assemble(){return $r(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:a,...o}=t.bin,s={type:"bin",field:ho(t.field),as:r,signal:t.signal,...wk(a)?{extent:null}:{extent:a},...t.span?{span:{signal:`span(${t.span})`}}:{},...o};!a&&t.extentSignal&&(n.push({type:"extent",field:ho(t.field),signal:t.extentSignal}),s.extent={signal:t.extentSignal}),n.push(s);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:_e({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function wWe(e,t,n,r){var a;const i=yn(r)?r.encoding[gl(t)]:void 0;if(Ai(n)&&yn(r)&&Dse(n,i,r.markDef,r.config)){e.add(_e(n,{})),e.add(_e(n,{suffix:"end"}));const{mark:o,markDef:s,config:l}=r,u=Hc({fieldDef:n,markDef:s,config:l});a1(o)&&u!==.5&&Nn(t)&&(e.add(_e(n,{suffix:zk})),e.add(_e(n,{suffix:Bk}))),n.bin&&zx(n,t)&&e.add(_e(n,{binSuffix:"range"}))}else if(Noe(t)){const o=Toe(t);e.add(r.getName(o))}else e.add(_e(n));return wh(n)&&eBe((a=n.scale)==null?void 0:a.range)&&e.add(n.scale.range.field),e}function SWe(e,t){for(const n of ue(t)){const r=t[n];for(const i of ue(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Xo extends Lt{clone(){return new Xo(null,new Set(this.dimensions),Ve(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(o=>{o.aggregate&&(r=!0)});const i={},a=new Set;return!r||(n.forEachFieldDef((o,s)=>{const{aggregate:l,field:u}=o;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([_e(o,{forAs:!0})]);else{if(vu(l)||df(l)){const c=vu(l)?"argmin":"argmax",f=l[c];i[f]??(i[f]={}),i[f][c]=new Set([_e({op:c,field:f},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([_e(o,{forAs:!0})]);yl(s)&&n.scaleDomain(s)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([_e({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([_e({field:u,aggregate:"max"},{forAs:!0})]))}else wWe(a,s,o,n)}),a.size+ue(i).length===0)?null:new Xo(t,a,i)}static makeFromTransform(t,n){var r;const i=new Set,a={};for(const o of n.aggregate){const{op:s,field:l,as:u}=o;s&&(s==="count"?(a["*"]??(a["*"]={}),a["*"].count=new Set([u||_e(o,{forAs:!0})])):(a[l]??(a[l]={}),(r=a[l])[s]??(r[s]=new Set),a[l][s].add(u||_e(o,{forAs:!0}))))}for(const o of n.groupby??[])i.add(o);return i.size+ue(a).length===0?null:new Xo(t,i,a)}merge(t){return Soe(this.dimensions,t.dimensions)?(SWe(this.measures,t.measures),!0):(E6e("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ue(this.measures)])}producedFields(){const t=new Set;for(const n of ue(this.measures))for(const r of ue(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${dt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const a of ue(this.measures))for(const o of ue(this.measures[a]))for(const s of this.measures[a][o])r.push(s),t.push(o),n.push(a==="*"?null:ho(a));return{type:"aggregate",groupby:[...this.dimensions].map(ho),ops:t,fields:n,as:r}}}class zg extends Lt{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const a of to){const o=n.facet[a];if(o){const{bin:s,sort:l}=o;this[a]={name:n.getName(`${a}_domain`),fields:[_e(o),...Jt(s)?[_e(o,{binSuffix:"end"})]:[]],...iu(l)?{sortField:l}:ae(l)?{sortIndexField:zm(o,a)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of to)this[n]&&(t+=` ${n.charAt(0)}:${dt(this[n])}`);return t}get fields(){var n;const t=[];for(const r of to)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of to)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Pu){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),a=r.get("range");if(hr(i)&&xh(a)){const o=Yk(this.childModel,n),s=B5(o);s?t[n]=s:fe(IR(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],a=[],o=[],s=[];i&&r&&r[i]&&(n?(a.push(`distinct_${r[i]}`),o.push("max")):(a.push(r[i]),o.push("distinct")),s.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=$k,field:f}=l;a.push(f),o.push(c),s.push(_e(l,{forAs:!0}))}else u&&(a.push(u),o.push("max"),s.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...a.length?{fields:a,ops:o,as:s}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],a={};for(const u of M5){for(const c of j5){const f=(r[u]&&r[u][c])??[];for(const d of f)if(((l=d.axes)==null?void 0:l.length)>0){a[u]=!0;break}}if(a[u]){const c=`length(data("${this.facet.name}"))`,f=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:o,column:s}=a;return(o||s)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:a,facet:o}=this;if(i&&a&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const s=[].concat(r.x??[],r.y??[]),l=s.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:s,ops:l}]})}for(const s of[ru,nu])this[s]&&t.push(this.assembleRowColumnHeaderData(s,n,r));if(o){const s=this.assembleFacetHeaderData(r);s&&t.push(...s)}return t}}function Dq(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function AWe(e,t){const n=CR(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=Dq(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=Dq(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return fe(jze(t)),null}function EWe(e){const t={};return vw(e.filter,n=>{if(dse(n)){let r=null;qR(n)?r=pa(n.equal):GR(n)?r=pa(n.lte):HR(n)?r=pa(n.lt):VR(n)?r=pa(n.gt):XR(n)?r=pa(n.gte):ZR(n)?r=n.range[0]:YR(n)&&(r=(n.oneOf??n.in)[0]),r&&(bh(r)?t[n.field]="date":St(r)?t[n.field]="number":Ae(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function kWe(e){const t={};function n(r){Fm(r)?t[r.field]="date":r.type==="quantitative"&&lze(r.aggregate)?t[r.field]="number":$m(r.field)>1?r.field in t||(t[r.field]="flatten"):wh(r)&&iu(r.sort)&&$m(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((yn(e)||Sa(e))&&e.forEachFieldDef((r,i)=>{if(Ai(r))n(r);else{const a=yh(i),o=e.fieldDef(a);n({...r,type:o.type})}}),yn(e)){const{mark:r,markDef:i,encoding:a}=e;if(hf(r)&&!e.encoding.order){const o=i.orient==="horizontal"?"y":"x",s=a[o];de(s)&&s.type==="quantitative"&&!(s.field in t)&&(t[s.field]="number")}}return t}function CWe(e){const t={};if(yn(e)&&e.component.selection)for(const n of ue(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&$m(i.field)>1&&(t[i.field]="flatten")}return t}class Gr extends Lt{clone(){return new Gr(null,Ve(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${dt(this._parse)}`}static makeExplicit(t,n,r){var o;let i={};const a=n.data;return!$c(a)&&((o=a==null?void 0:a.format)!=null&&o.parse)&&(i=a.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const s of ue(r)){const l=i.getWithExplicit(s);l.value!==void 0&&(l.explicit||l.value===r[s]||l.value==="derived"||r[s]==="flatten"?delete r[s]:fe(IW(s,r[s],l.value)))}for(const s of ue(n)){const l=i.get(s);l!==void 0&&(l===n[s]?delete n[s]:fe(IW(s,n[s],l)))}const a=new Tu(n,r);i.copyAll(a);const o={};for(const s of ue(a.combine())){const l=a.get(s);l!==null&&(o[s]=l)}return ue(o).length===0||i.parseNothing?null:new Gr(t,o)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of ue(this._parse)){const r=this._parse[n];$m(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(ue(this._parse))}dependentFields(){return new Set(ue(this._parse))}assembleTransforms(t=!1){return ue(this._parse).filter(n=>t?$m(n)>1:!0).map(n=>{const r=AWe(n,this._parse[n]);return r?{type:"formula",expr:r,as:Dg(n)}:null}).filter(n=>n!==null)}}class Vc extends Lt{clone(){return new Vc(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([rs])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:rs}}}class Gx extends Lt{clone(){return new Gx(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${dt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class Vx extends Lt{clone(){return new Vx(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${dt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Zd extends Lt{constructor(t){super(null),t??(t={name:"source"});let n;if($c(t)||(n=t.format?{...Gi(t.format,["parse"])}:{}),o1(t))this._data={values:t.values};else if(Lm(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];lt(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else Ple(t)?this._data={values:[{type:"Sphere"}]}:(Cle(t)||$c(t))&&(this._data={});this._generator=$c(t),t.name&&(this._name=t.name),n&&!Ut(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var Fq=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},OWe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Oy;function I5(e){return e instanceof Zd||e instanceof Gx||e instanceof Vx}class R5{constructor(){Oy.set(this,void 0),Fq(this,Oy,!1,"f")}setModified(){Fq(this,Oy,!0,"f")}get modifiedFlag(){return OWe(this,Oy,"f")}}Oy=new WeakMap;class Ah extends R5{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,a)=>a[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class z5 extends R5{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class PWe extends z5{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of ue(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class $We extends z5{constructor(t){super(),this.requiresSelectionId=t&&P5(t)}run(t){t instanceof Vc&&(this.requiresSelectionId&&(I5(t.parent)||t.parent instanceof Xo||t.parent instanceof Gr)||(this.setModified(),t.remove()))}}class TWe extends R5{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof qs&&(r=t.producedFields(),ER(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class NWe extends z5{constructor(){super()}run(t){t instanceof Vi&&!t.isRequired()&&(this.setModified(),t.remove())}}class MWe extends Ah{run(t){if(!I5(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Gr)if(t instanceof Gr)this.setModified(),t.merge(n);else{if(kR(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class jWe extends Ah{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Gr);if(t.numChildren()>1&&r.length>=1){const i={},a=new Set;for(const o of r){const s=o.parse;for(const l of ue(s))l in i?i[l]!==s[l]&&a.add(l):i[l]=s[l]}for(const o of a)delete i[o];if(!Ut(i)){this.setModified();const o=new Gr(t,i);for(const s of n){if(s instanceof Gr)for(const l of ue(i))delete s.parse[l];t.removeChild(s),s.parent=o,s instanceof Gr&&ue(s.parse).length===0&&s.remove()}}}}}class DWe extends Ah{run(t){t instanceof Vi||t.numChildren()>0||t instanceof zg||t instanceof Zd||(this.setModified(),t.remove())}}class FWe extends Ah{run(t){const n=t.children.filter(i=>i instanceof qs),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class LWe extends Ah{run(t){const n=t.children.filter(i=>i instanceof Xo),r={};for(const i of n){const a=dt(i.groupBy);a in r||(r[a]=[]),r[a].push(i)}for(const i of ue(r)){const a=r[i];if(a.length>1){const o=a.pop();for(const s of a)o.merge(s)&&(t.removeChild(s),s.parent=o,s.remove(),this.setModified())}}}}class IWe extends Ah{constructor(t){super(),this.model=t}run(t){const n=!(I5(t)||t instanceof Rg||t instanceof Gr||t instanceof Vc),r=[],i=[];for(const a of t.children)a instanceof Gs&&(n&&!kR(t.producedFields(),a.dependentFields())?r.push(a):i.push(a));if(r.length>0){const a=r.pop();for(const o of r)a.merge(o,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Gs?t.merge(a,this.model.renameSignal.bind(this.model)):a.swapWithParent()}if(i.length>1){const a=i.pop();for(const o of i)a.merge(o,this.model.renameSignal.bind(this.model));this.setModified()}}}class RWe extends Ah{run(t){const n=[...t.children];if(!Pm(n,o=>o instanceof Vi)||t.numChildren()<=1)return;const i=[];let a;for(const o of n)if(o instanceof Vi){let s=o;for(;s.numChildren()===1;){const[l]=s.children;if(l instanceof Vi)s=l;else break}i.push(...s.children),a?(t.removeChild(o),o.parent=a.parent,a.parent.removeChild(a),a.parent=s,this.setModified()):a=s}else i.push(o);if(i.length){this.setModified();for(const o of i)o.parent.removeChild(o),o.parent=a}}}class Eh extends Lt{clone(){return new Eh(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ms(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??_e(t)}hash(){return`JoinAggregateTransform ${dt(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const a of this.transform.joinaggregate)n.push(a.op),r.push(this.getDefaultName(a)),t.push(a.field===void 0?null:a.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class Um extends Lt{clone(){return new Um(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:a}=n,{marks:o,scales:s}=r;if(o==="include-invalid-values"&&s==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,f)=>{const d=yl(f)&&n.getScaleComponent(f);if(d){const p=d.get("type"),{aggregate:m}=c,g=r5({scaleChannel:f,markDef:a,config:i,scaleType:p,isCountAggregate:_k(m)});g!=="show"&&g!=="always-valid"&&(u[c.field]=c)}return u},{});return ue(l).length?new Um(t,l):null}dependentFields(){return new Set(ue(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${dt(this.filter)}`}assemble(){const t=ue(this.filter).reduce((n,r)=>{const i=this.filter[r],a=_e(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${a}) || (${jj(a)}))`):i.type==="quantitative"&&n.push(jj(a))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function jj(e){return`isValid(${e}) && isFinite(+${e})`}function zWe(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=_e(r);return i&&t.push(i),t},[])}function BWe(e){return ae(e)&&e.every(t=>Ae(t))&&e.length>1}class ou extends Lt{clone(){return new ou(null,Ve(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:a,offset:o="zero"}=n,s=[],l=[];if(n.sort!==void 0)for(const f of n.sort)s.push(f.field),l.push(Tn(f.order,"ascending"));const u={field:s,order:l};let c;return BWe(a)?c=a:Ae(a)?c=[a,`${a}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new ou(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:o,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:a,fieldChannel:o,offset:s,impute:l}=r,u=a.map(p=>{const m=i[p];return ns(m)}).filter(p=>!!p),c=zWe(n),f=n.encoding.order;let d;if(ae(f)||de(f))d=Goe(f);else{const p=Fse(f)?f.sort:o==="y"?"descending":"ascending";d=c.reduce((m,g)=>(m.field.includes(g)||(m.field.push(g),m.order.push(p)),m),{field:[],order:[]})}return new ou(t,{dimensionFieldDefs:u,stackField:n.vgField(o),facetby:[],stackby:c,sort:d,offset:s,impute:l,as:[n.vgField(o,{suffix:"start",forAs:!0}),n.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${dt(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[_e(i,{binSuffix:"mid"})]:[_e(i,{}),_e(i,{binSuffix:"end"})]:[_e(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:a,sort:o,offset:s,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:f=.5,bin:d}=c;if(d){const p=_e(c,{expr:"datum"}),m=_e(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${jj(p)} ? ${f}*${p}+${1-f}*${m} : ${p}`,as:_e(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...a,...n],key:_e(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:o,as:u,offset:s}),t}}class Bg extends Lt{clone(){return new Bg(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ms(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??_e(t)}hash(){return`WindowTransform ${dt(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const a=this.transform.frame,o=this.transform.groupby;if(a&&a[0]===null&&a[1]===null&&n.every(f=>FR(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...o!==void 0?{groupby:o}:{}};const s=[],l=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)s.push(f.field),l.push(f.order??"ascending");const u={field:s,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...o!==void 0?{groupby:o}:{},...a!==void 0?{frame:a}:{}}}}function UWe(e){function t(n){if(!(n instanceof zg)){const r=n.clone();if(r instanceof Vi){const i=Fj+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Xo||r instanceof ou||r instanceof Bg||r instanceof Eh)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function Dj(e){if(e instanceof zg)if(e.numChildren()===1&&!(e.children[0]instanceof Vi)){const t=e.children[0];(t instanceof Xo||t instanceof ou||t instanceof Bg||t instanceof Eh)&&t.addDimensions(e.fields),t.swapWithParent(),Dj(e)}else{const t=e.model.component.data.main;Nue(t);const n=UWe(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(Dj)}function Nue(e){if(e instanceof Vi&&e.type===vn.Main&&e.numChildren()===1){const t=e.children[0];t instanceof zg||(t.swapWithParent(),Nue(e))}}const Fj="scale_",p_=5;function Lj(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!Lj(t.children))return!1}return!0}function ko(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function Lq(e,t,n){let r=e.sources,i=!1;return i=ko(new NWe,r)||i,i=ko(new $We(t),r)||i,r=r.filter(a=>a.numChildren()>0),i=ko(new DWe,r)||i,r=r.filter(a=>a.numChildren()>0),n||(i=ko(new MWe,r)||i,i=ko(new IWe(t),r)||i,i=ko(new TWe,r)||i,i=ko(new jWe,r)||i,i=ko(new LWe,r)||i,i=ko(new FWe,r)||i,i=ko(new PWe,r)||i,i=ko(new RWe,r)||i),e.sources=r,i}function WWe(e,t){Lj(e.sources);let n=0,r=0;for(let i=0;i<p_&&Lq(e,t,!0);i++)n++;e.sources.map(Dj);for(let i=0;i<p_&&Lq(e,t,!1);i++)r++;Lj(e.sources),Math.max(n,r)===p_&&fe(`Maximum optimization runs(${p_}) reached.`)}class rr{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new rr(()=>t(n))}}function Mue(e){yn(e)?qWe(e):HWe(e)}function qWe(e){const t=e.component.scales;for(const n of ue(t)){const r=VWe(e,n);if(t[n].setWithExplicit("domains",r),ZWe(e,n),e.component.data.isFaceted){let a=e;for(;!Sa(a)&&a.parent;)a=a.parent;if(a.component.resolve.scale[n]==="shared")for(const s of r.value)Kl(s)&&(s.data=Fj+s.data.replace(Fj,""))}}}function HWe(e){for(const n of e.children)Mue(n);const t=e.component.scales;for(const n of ue(t)){let r,i=null;for(const a of e.children){const o=a.component.scales[n];if(o){r===void 0?r=o.getWithExplicit("domains"):r=Gc(r,o.getWithExplicit("domains"),"domains","scale",Ij);const s=o.get("selectionExtent");i&&s&&i.param!==s.param&&fe(Cze),i=s}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function GWe(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:a}=Iq(t,n);if(!i){fe(a);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=Iq(t,n);if(i)return"unaggregated"}return e}function VWe(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=GWe(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Zn(r.x2)?Zn(r.x)?Gc(qu(n,i,e,"x"),qu(n,i,e,"x2"),"domain","scale",Ij):qu(n,i,e,"x2"):t==="y"&&Zn(r.y2)?Zn(r.y)?Gc(qu(n,i,e,"y"),qu(n,i,e,"y2"),"domain","scale",Ij):qu(n,i,e,"y2"):qu(n,i,e,t)}function XWe(e,t,n){return e.map(r=>({signal:`{data: ${jk(r,{timeUnit:n,type:t})}}`}))}function k$(e,t,n){var i;const r=(i=dr(n))==null?void 0:i.unit;return t==="temporal"||r?XWe(e,t,r):[e]}function qu(e,t,n,r){const{encoding:i,markDef:a,mark:o,config:s,stack:l}=n,u=Zn(i[r]),{type:c}=u,f=u.timeUnit,d=T9e({invalid:rl("invalid",a,s),isPath:hf(o)});if(J6e(t)){const g=qu(e,void 0,n,r),v=k$(t.unionWith,c,f);return ks([...v,...g.value])}else{if(Me(t))return ks([t]);if(t&&t!=="unaggregated"&&!xse(t))return ks(k$(t,c,f))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return sa([[0,1]]);const g=n.requestDataName(d);return sa([{data:g,field:n.vgField(r,{suffix:"start"})},{data:g,field:n.vgField(r,{suffix:"end"})}])}const p=yl(r)&&de(u)?YWe(n,r,e):void 0;if(vl(u)){const g=k$([u.datum],c,f);return sa(g)}const m=u;if(t==="unaggregated"){const{field:g}=u;return sa([{data:n.requestDataName(d),field:_e({field:g,aggregate:"min"})},{data:n.requestDataName(d),field:_e({field:g,aggregate:"max"})}])}else if(Jt(m.bin)){if(hr(e))return sa(e==="bin-ordinal"?[]:[{data:r1(p)?n.requestDataName(d):n.requestDataName(vn.Raw),field:n.vgField(r,zx(m,r)?{binSuffix:"range"}:{}),sort:p===!0||!Se(p)?{field:n.vgField(r,{}),op:"min"}:p}]);{const{bin:g}=m;if(Jt(g)){const v=L5(n,m.field,g);return sa([new rr(()=>{const x=n.getSignalName(v);return`[${x}.start, ${x}.stop]`})])}else return sa([{data:n.requestDataName(d),field:n.vgField(r,{})}])}}else if(m.timeUnit&&lt(["time","utc"],e)){const g=i[gl(r)];if(Dse(m,g,a,s)){const v=n.requestDataName(d),x=Hc({fieldDef:m,fieldDef2:g,markDef:a,config:s}),b=a1(o)&&x!==.5&&Nn(r);return sa([{data:v,field:n.vgField(r,b?{suffix:zk}:{})},{data:v,field:n.vgField(r,{suffix:b?Bk:"end"})}])}}return sa(p?[{data:r1(p)?n.requestDataName(d):n.requestDataName(vn.Raw),field:n.vgField(r),sort:p}]:[{data:n.requestDataName(d),field:n.vgField(r)}])}function C$(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":$k),...r?{field:ho(r)}:{},...i?{order:i}:{}}}function ZWe(e,t){var s;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(s=e.fieldDef(t))==null?void 0:s.bin,a=xse(r)?r:void 0,o=vh(i)&&wk(i.extent)?i.extent:void 0;(a||o)&&n.set("selectionExtent",a??o,!0)}function YWe(e,t,n){if(!hr(n))return;const r=e.fieldDef(t),i=r.sort;if(Mse(i))return{op:"min",field:zm(r,t),order:"ascending"};const{stack:a}=e,o=a?new Set([...a.groupbyFields,...a.stackBy.map(s=>s.fieldDef.field)]):void 0;if(iu(i)){const s=a&&!o.has(i.field);return C$(i,s)}else if(TBe(i)){const{encoding:s,order:l}=i,u=e.fieldDef(s),{aggregate:c,field:f}=u,d=a&&!o.has(f);if(vu(c)||df(c))return C$({field:_e(u),order:l},d);if(FR(c)||!c)return C$({op:c,field:f,order:l},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(lt(["ascending",void 0],i))return!0}}function Iq(e,t){const{aggregate:n,type:r}=e;return n?Ae(n)&&!cze.has(n)?{valid:!1,reason:n6e(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:r6e(e)}:{valid:!0}:{valid:!1,reason:t6e(e)}}function Ij(e,t,n,r){return e.explicit&&t.explicit&&fe(l6e(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function KWe(e){const t=Ms(e.map(o=>{if(Kl(o)){const{sort:s,...l}=o;return l}return o}),dt),n=Ms(e.map(o=>{if(Kl(o)){const s=o.sort;return s!==void 0&&!r1(s)&&("op"in s&&s.op==="count"&&delete s.field,s.order==="ascending"&&delete s.order),s}}).filter(o=>o!==void 0),dt);if(t.length===0)return;if(t.length===1){const o=e[0];if(Kl(o)&&n.length>0){let s=n[0];if(n.length>1){fe(zW);const l=n.filter(u=>Se(u)&&"op"in u&&u.op!=="min");n.every(u=>Se(u)&&"op"in u)&&l.length===1?s=l[0]:s=!0}else if(Se(s)&&"field"in s){const l=s.field;o.field===l&&(s=s.order?{order:s.order}:!0)}return{...o,sort:s}}return o}const r=Ms(n.map(o=>r1(o)||!("op"in o)||Ae(o.op)&&ke(oze,o.op)?o:(fe(c6e(o)),!0)),dt);let i;r.length===1?i=r[0]:r.length>1&&(fe(zW),i=!0);const a=Ms(e.map(o=>Kl(o)?o.data:null),o=>o);return a.length===1&&a[0]!==null?{data:a[0],fields:t.map(s=>s.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function B5(e){if(Kl(e)&&Ae(e.field))return e.field;if(fze(e)){let t;for(const n of e.fields)if(Kl(n)&&Ae(n.field)){if(!t)t=n.field;else if(t!==n.field)return fe(f6e),t}return fe(d6e),t}else if(dze(e)){fe(h6e);const t=e.fields[0];return Ae(t)?t:void 0}}function Yk(e,t){const r=e.component.scales[t].get("domains").map(i=>(Kl(i)&&(i.data=e.lookupDataSource(i.data)),i));return KWe(r)}function jue(e){return Ug(e)||U5(e)?e.children.reduce((t,n)=>t.concat(jue(n)),Rq(e)):Rq(e)}function Rq(e){return ue(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:a,type:o,selectionExtent:s,domains:l,range:u,reverse:c,...f}=i,d=QWe(i.range,a,n,e),p=Yk(e,n),m=s?U9e(e,s,r,p):null;return t.push({name:a,type:o,...p?{domain:p}:{},...m?{domainRaw:m}:{},range:d,...c!==void 0?{reverse:c}:{},...f}),t},[])}function QWe(e,t,n,r){if(Nn(n)){if(xh(e))return{step:{signal:`${t}_step`}}}else if(Se(e)&&Kl(e))return{...e,data:r.lookupDataSource(e.data)};return e}class Due extends Tu{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(lt([wr.LOG,wr.TIME,wr.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&lt([wr.LINEAR,wr.SQRT,wr.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,a=!1,o=!1;for(const s of r){if(ae(s)){const l=s[0],u=s[s.length-1];if(St(l)&&St(u))if(l<=0&&u>=0){i=!0;continue}else{a=!0;continue}}o=!0}if(i)return"definitely";if(a&&!o)return"definitely-not"}return"maybe"}}const JWe=["range","scheme"];function eqe(e){const t=e.component.scales;for(const n of DR){const r=t[n];if(!r)continue;const i=tqe(n,e);r.setWithExplicit("range",i)}}function zq(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,a=Ji(t),o=e.getName(a);if(Se(r)&&r.binned&&r.step!==void 0)return new rr(()=>{const s=e.scaleName(t),l=`(domain("${s}")[1] - domain("${s}")[0]) / ${r.step}`;return`${e.getSignalName(o)} / (${l})`});if(Jt(r)){const s=L5(e,i,r);return new rr(()=>{const l=e.getSignalName(s),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(o)} / (${u})`})}}}function tqe(e,t){const n=t.specifiedScales[e],{size:r}=t,a=t.getScaleComponent(e).get("type");for(const f of JWe)if(n[f]!==void 0){const d=gj(a,f),p=bse(e,f);if(!d)fe(Joe(a,f,e));else if(p)fe(p);else switch(f){case"range":{const m=n.range;if(ae(m)){if(Nn(e))return ks(m.map(g=>{if(g==="width"||g==="height"){const v=t.getName(g),x=t.getSignalName.bind(t);return rr.fromName(x,v)}return g}))}else if(Se(m))return ks({data:t.requestDataName(vn.Main),field:m.field,sort:{op:"min",field:t.vgField(e)}});return ks(m)}case"scheme":return ks(nqe(n[f]))}}const o=e===hn||e==="xOffset"?"width":"height",s=r[o];if(al(s)){if(Nn(e))if(hr(a)){const f=Lue(s,t,e);if(f)return ks({step:f})}else fe(ese(o));else if(Mx(e)){const f=e===of?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const m=Iue(s,a);if(m)return ks(m)}}}const{rangeMin:l,rangeMax:u}=n,c=rqe(e,t);return(l!==void 0||u!==void 0)&&gj(a,"rangeMin")&&ae(c)&&c.length===2?ks([l??c[0],u??c[1]]):sa(c)}function nqe(e){return Q6e(e)?{scheme:e.name,...Gi(e,["name"])}:{scheme:e}}function Fue(e,t,n,{center:r}={}){const i=Ji(e),a=t.getName(i),o=t.getSignalName.bind(t);return e===mr&&es(n)?r?[rr.fromName(s=>`${o(s)}/2`,a),rr.fromName(s=>`-${o(s)}/2`,a)]:[rr.fromName(o,a),0]:r?[rr.fromName(s=>`-${o(s)}/2`,a),rr.fromName(s=>`${o(s)}/2`,a)]:[0,rr.fromName(o,a)]}function rqe(e,t){const{size:n,config:r,mark:i,encoding:a}=t,{type:o}=Zn(a[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case hn:case mr:{if(lt(["point","band"],l)){const f=Rue(e,n,r.view);if(al(f))return{step:Lue(f,t,e)}}return Fue(e,t,l)}case of:case Fg:return iqe(e,t,l);case Cu:{const f=sqe(i,r),d=lqe(i,n,t,r);return Mm(l)?oqe(f,d,aqe(l,r,u,e)):[f,d]}case vo:return[0,Math.PI*2];case gh:return[0,360];case us:return[0,new rr(()=>{const f=t.getSignalName(Sa(t.parent)?"child_width":"width"),d=t.getSignalName(Sa(t.parent)?"child_height":"height");return`min(${f},${d})/2`})];case sf:return{step:1e3/r.scale.framesPerSecond};case cf:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case ff:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Qi:return"symbol";case Ki:case pl:case ml:return l==="ordinal"?o==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Ou:case lf:case uf:return[r.scale.minOpacity,r.scale.maxOpacity]}}function Lue(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),a=TR(n),o=r[a];if(hle({step:e,offsetIsDiscrete:Ye(o)&&pse(o.type)})==="offset"&&Vse(r,a)){const l=t.getScaleComponent(a);let c=`domain('${t.scaleName(a)}').length`;if(l.get("type")==="band"){const d=l.get("paddingInner")??l.get("padding")??0,p=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${d}, ${p})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${gze(f)})`}}else return e.step}function Iue(e,t){if(hle({step:e,offsetIsDiscrete:hr(t)})==="offset")return{step:e.step}}function iqe(e,t,n){const r=e===of?"x":"y",i=t.getScaleComponent(r);if(!i)return Fue(r,t,n,{center:!0});const a=i.get("type"),o=t.scaleName(r),{markDef:s,config:l}=t;if(a==="band"){const u=Rue(r,t.size,t.config.view);if(al(u)){const c=Iue(u,n);if(c)return c}return[0,{signal:`bandwidth('${o}')`}]}else{const u=t.encoding[r];if(de(u)&&u.timeUnit){const c=cse(u.timeUnit,m=>`scale('${o}', ${m})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=Hc({fieldDef:u,markDef:s,config:l})-.5,p=d!==0?` + ${d}`:"";if(f){const m=Me(f)?`${f.signal}/2`+p:`${f/2+d}`,g=Me(f)?`(1 - ${f.signal}/2)`+p:`${1-f/2+d}`;return[{signal:`${m} * (${c})`},{signal:`${g} * (${c})`}]}return[0,{signal:c}]}return _oe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function Rue(e,t,n){const r=e===hn?"width":"height",i=t[r];return i||CS(n,r)}function aqe(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&ae(n)?n.length+1:(fe(w6e(r)),3)}}function oqe(e,t,n){const r=()=>{const i=Wo(t),a=Wo(e),o=`(${i} - ${a}) / (${n} - 1)`;return`sequence(${a}, ${i} + ${o}, ${o})`};return Me(t)?new rr(r):{signal:r()}}function sqe(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(Sk("size",e))}const Bq=.95;function lqe(e,t,n,r){const i={x:zq(n,"x"),y:zq(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const a=Uq(t,i,r.view);return St(a)?a-1:new rr(()=>`${a.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const a=Uq(t,i,r.view);return St(a)?Math.pow(Bq*a,2):new rr(()=>`pow(${Bq} * ${a.signal}, 2)`)}}throw new Error(Sk("size",e))}function Uq(e,t,n){const r=al(e.width)?e.width.step:bj(n,"width"),i=al(e.height)?e.height.step:bj(n,"height");return t.x||t.y?new rr(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function zue(e,t){yn(e)?uqe(e,t):Uue(e,t)}function uqe(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:a,specifiedScales:o}=e;for(const s of ue(n)){const l=o[s],u=n[s],c=e.getScaleComponent(s),f=Zn(i[s]),d=l[t],p=c.get("type"),m=c.get("padding"),g=c.get("paddingInner"),v=gj(p,t),x=bse(s,t);if(d!==void 0&&(v?x&&fe(x):fe(Joe(p,t,s))),v&&x===void 0)if(d!==void 0){const b=f.timeUnit,S=f.type;switch(t){case"domainMax":case"domainMin":bh(l[t])||S==="temporal"||b?u.set(t,{signal:jk(l[t],{type:S,timeUnit:b})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const b=ce(Wq,t)?Wq[t]({model:e,channel:s,fieldOrDatumDef:f,scaleType:p,scalePadding:m,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:a,config:r,hasNestedOffsetScale:Xse(i,s),hasSecondaryRangeChannel:!!i[gl(s)]}):r.scale[t];b!==void 0&&u.set(t,b,!1)}}}const Wq={bins:({model:e,fieldOrDatumDef:t})=>de(t)?cqe(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>fqe(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:a})=>dqe(e,t,n,r,i,a),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>hqe(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:a})=>pqe(e,t,n.type,r,i.scale,a),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:a})=>mqe(e,t,n,r,i.scale,a),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=de(e)?e.sort:void 0;return gqe(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:a,hasSecondaryRangeChannel:o})=>yqe(e,t,n,r,i,a.scale,o)};function Bue(e){yn(e)?eqe(e):Uue(e,"range")}function Uue(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?Bue(r):zue(r,t);for(const r of ue(n)){let i;for(const a of e.children){const o=a.component.scales[r];if(o){const s=o.getWithExplicit(t);i=Gc(i,s,t,"scale",kle((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function cqe(e,t){const n=t.bin;if(Jt(n)){const r=L5(e,t.field,n);return new rr(()=>e.getSignalName(r))}else if(br(n)&&vh(n)&&n.step!==void 0)return{step:n.step}}function fqe(e,t){if(lt([Ki,pl,ml],e)&&t!=="nominal")return"hcl"}function dqe(e,t,n,r,i,a){var o;if(!((o=ns(a))!=null&&o.bin||ae(n)||i!=null||r!=null||lt([wr.TIME,wr.UTC],e)))return Nn(t)?!0:void 0}function hqe(e,t,n,r,i,a){if(Nn(e)){if(js(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:o,orient:s}=i;if(o==="bar"&&!(de(r)&&(r.bin||r.timeUnit))&&(s==="vertical"&&e==="x"||s==="horizontal"&&e==="y"))return a.continuousBandSize}if(t===wr.POINT)return n.pointPadding}}function pqe(e,t,n,r,i,a=!1){if(e===void 0){if(Nn(t)){const{bandPaddingInner:o,barBandPaddingInner:s,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return a?c:Tn(o,n==="bar"?s:n==="tick"?u:l)}else if(Mx(t)&&r===wr.BAND)return i.offsetBandPaddingInner}}function mqe(e,t,n,r,i,a=!1){if(e===void 0){if(Nn(t)){const{bandPaddingOuter:o,bandWithNestedOffsetPaddingOuter:s}=i;if(a)return s;if(n===wr.BAND)return Tn(o,Me(r)?{signal:`${r.signal}/2`}:r/2)}else if(Mx(t)){if(n===wr.POINT)return .5;if(n===wr.BAND)return i.offsetBandPaddingOuter}}}function gqe(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return es(e)&&t==="descending"?Me(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(es(e)&&t==="descending")return!0}function yqe(e,t,n,r,i,a,o){if(!!n&&n!=="unaggregated"&&es(i)){if(ae(n)){const l=n[0],u=n[n.length-1];if(St(l)&&l<=0&&St(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Mm(i))return!0;if(!(de(t)&&t.bin)&&lt([...Pu,...K5e],e)){const{orient:l,type:u}=r;return lt(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:lt(["bar","area"],u)&&!o?!0:a==null?void 0:a.zero}return!1}function vqe(e,t,n,r,i=!1){const a=xqe(t,n,r,i),{type:o}=e;return yl(t)?o!==void 0?aBe(t,o)?de(n)&&!iBe(o,n.type)?(fe(o6e(o,a)),a):o:(fe(a6e(t,o,a)),a):a:null}function xqe(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Vp(e)||d$(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&fe(h$(e,"ordinal")),"ordinal";if(f$(e))return"band";if(Nn(e)||Mx(e)){if(lt(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in jR)return"band";const a=n[Ji(e)];return Wd(a)||Dm(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return Vp(e)?"time":d$(e)==="discrete"?(fe(h$(e,"temporal")),"ordinal"):de(t)&&t.timeUnit&&dr(t.timeUnit).utc?"utc":f$(e)?"band":"time";case"quantitative":return Vp(e)?de(t)&&Jt(t.bin)?"bin-ordinal":"linear":d$(e)==="discrete"?(fe(h$(e,"quantitative")),"ordinal"):f$(e)?"band":"linear";case"geojson":return}throw new Error(Koe(t.type))}function bqe(e,{ignoreRange:t}={}){Wue(e),Mue(e);for(const n of rBe)zue(e,n);t||Bue(e)}function Wue(e){yn(e)?e.component.scales=_qe(e):e.component.scales=Sqe(e)}function _qe(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const a of DR){const o=Zn(t[a]);if(o&&n===Sse&&a===Qi&&o.type===Lg)continue;let s=o&&o.scale;if(o&&s!==null&&s!==!1){s??(s={});const l=Xse(t,a),u=vqe(s,a,o,r,l);i[a]=new Due(e.scaleName(`${a}`,!0),{value:u,explicit:s.type===u})}}return i}const wqe=kle((e,t)=>UW(e)-UW(t));function Sqe(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const a of e.children){Wue(a);for(const o of ue(a.component.scales))if((t=i.scale)[o]??(t[o]=bue(o,e)),i.scale[o]==="shared"){const s=r[o],l=a.component.scales[o].getWithExplicit("type");s?V6e(s.value,l.value)?r[o]=Gc(s,l,"type","scale",wqe):(i.scale[o]="independent",delete r[o]):r[o]=l}}for(const a of ue(r)){const o=e.scaleName(a,!0),s=r[a];n[a]=new Due(o,s);for(const l of e.children){const u=l.component.scales[a];u&&(l.renameScale(u.get("name"),o),u.merged=!0)}}return n}class O${constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function yn(e){return(e==null?void 0:e.type)==="unit"}function Sa(e){return(e==null?void 0:e.type)==="facet"}function U5(e){return(e==null?void 0:e.type)==="concat"}function Ug(e){return(e==null?void 0:e.type)==="layer"}class W5{constructor(t,n,r,i,a,o,s){this.type=n,this.parent=r,this.config=a,this.parent=r,this.config=a,this.view=_r(s),this.name=t.name??i,this.title=Qu(t.title)?{text:t.title}:t.title?_r(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new O$,this.projectionNameMap=r?r.projectionNameMap:new O$,this.signalNameMap=r?r.signalNameMap:new O$,this.data=t.data,this.description=t.description,this.transforms=x9e(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:S8e(t,n,a),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:Tk(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Tu,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...o?Ve(o):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){bqe(this)}parseProjection(){$ue(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Eue(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const a of ue(r)){const o=r[a];o!==void 0&&(i[a]=an(o))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=an(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:Ut(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,a=WUe(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...a?{titleBand:a}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of to)t[r].title&&n.push(LUe(this,r));for(const r of M5)n=n.concat(IUe(this,r));return n}assembleAxes(){return AUe(this.component.axes,this.config)}assembleLegends(){return Cue(this)}assembleProjections(){return dWe(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...Uoe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return lt(["unit","layer"],this.type)?lt(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Ut(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Sa(this.parent)?jue(this):[];i.length>0&&(n.scales=i);const a=this.assembleAxes();a.length>0&&(n.axes=a);const o=this.assembleLegends();return o.length>0&&(n.legends=o),n}getName(t){return fn((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(vn[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Sa(this.parent)){const n=vue(t),r=bk(n),i=this.component.scales[r];if(i&&!i.merged){const a=i.get("type"),o=i.get("range");if(hr(a)&&xh(o)){const s=i.get("name"),l=Yk(this,r),u=B5(l);if(u){const c=_e({aggregate:"distinct",field:u},{expr:"datum"});return{signal:yue(s,i,c)}}else return fe(IR(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(joe(t)&&yl(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(_ze(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class que extends W5{vgField(t,n={}){const r=this.fieldDef(t);if(r)return _e(r,n)}reduceFieldDef(t,n){return QBe(this.getMapping(),(r,i,a)=>{const o=ns(i);return o?t(r,o,a):r},n)}forEachFieldDef(t,n){d5(this.getMapping(),(r,i)=>{const a=ns(r);a&&t(a,i)},n)}}class Kk extends Lt{clone(){return new Kk(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${dt(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class Qk extends Lt{clone(){return new Qk(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${dt(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class Jk extends Lt{clone(){return new Jk(this.parent,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((a,o)=>i[o]??a)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${dt(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class eC extends Lt{clone(){return new eC(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${dt(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class Yp extends Lt{clone(){return new Yp(null,Ve(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[fs,cs],[po,ds]]){const a=i.map(o=>{const s=Zn(n.encoding[o]);return de(s)?s.field:vl(s)?{expr:`${s.datum}`}:ts(s)?{expr:`${s.value}`}:void 0});(a[0]||a[1])&&(t=new Yp(t,a,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(Qi)){const i=n.typedFieldDef(Qi);i.type===Lg&&(t=new Yp(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Ae);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${dt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class u1 extends Lt{clone(){return new u1(null,this.projection,Ve(this.fields),Ve(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[fs,cs],[po,ds]]){const i=r.map(o=>{const s=Zn(n.encoding[o]);return de(s)?s.field:vl(s)?{expr:`${s.datum}`}:ts(s)?{expr:`${s.value}`}:void 0}),a=r[0]===po?"2":"";(i[0]||i[1])&&(t=new u1(t,n.projectionName(),i,[n.getName(`x${a}`),n.getName(`y${a}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Ae))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${dt(this.fields)} ${dt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class md extends Lt{clone(){return new md(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new md(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,a=r.y;if(de(i)&&de(a)){const o=i.impute?i:a.impute?a:void 0;if(o===void 0)return;const s=i.impute?a:a.impute?i:void 0,{method:l,value:u,frame:c,keyvals:f}=o.impute,d=Kse(n.mark,r);return new md(t,{impute:o.field,key:s.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...f!==void 0?{keyvals:f}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${dt(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:a,value:o,frame:s=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:e9e(r)?this.processSequence(r):r}:{},method:"value",...a?{groupby:a}:{},value:!i||i==="value"?o:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:s,ignorePeers:!1,...a?{groupby:a}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class tC extends Lt{clone(){return new tC(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${dt(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class c1 extends Lt{clone(){return new c1(null,Ve(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const a=n.component.data.sources,{from:o}=r;let s=null;if(t9e(o)){let l=Vue(o.data,a);l||(l=new Zd(o.data),a.push(l));const u=n.getName(`lookup_${i}`);s=new Vi(l,u,vn.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=s}else if(n9e(o)){const l=o.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(fn(l),l)}catch{throw new Error(Eze(l))}if(s=u.materialized,!s)throw new Error(kze(l))}return new c1(t,r,s.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Ee(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${dt({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Ee(this.transform.as)}:{}};else{let n=this.transform.as;Ae(n)||(fe(Lze),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class nC extends Lt{clone(){return new nC(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${dt(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class rC extends Lt{clone(){return new rC(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Ve(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${dt(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class iC extends Lt{clone(){return new iC(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Ms((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${dt(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:a}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...a!==void 0?{op:a}:{},...r!==void 0?{groupby:r}:{}}}}class aC extends Lt{clone(){return new aC(null,Ve(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${dt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Hue(e){let t=0;function n(r,i){if(r instanceof Zd&&!r.isGenerator&&!Lm(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Gr&&(r.parent instanceof Zd&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof zg){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof Gx||r instanceof Vx||r instanceof Um||r instanceof Rg||r instanceof Rm||r instanceof u1||r instanceof Xo||r instanceof c1||r instanceof Bg||r instanceof Eh||r instanceof eC||r instanceof Jk||r instanceof Kk||r instanceof tC||r instanceof nC||r instanceof rC||r instanceof Vc||r instanceof aC||r instanceof iC||r instanceof Qk)&&i.transform.push(r.assemble()),(r instanceof Gs||r instanceof qs||r instanceof md||r instanceof ou||r instanceof Yp)&&i.transform.push(...r.assemble()),r instanceof Vi&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Vi?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Vi&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let a=i.name;!i.source||i.transform.length>0?e.push(i):a=i.source;for(const o of r.children)n(o,{name:null,source:a,transform:[]});break}}}return n}function Aqe(e){const t=[],n=Hue(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function Eqe(e,t){const n=[],r=Hue(n);let i=0;for(const o of e.sources){o.hasName()||(o.dataName=`source_${i++}`);const s=o.assemble();r(o,s)}for(const o of n)o.transform.length===0&&delete o.transform;let a=0;for(const[o,s]of n.entries())(s.transform??[]).length===0&&!s.source&&n.splice(a++,0,n.splice(o,1)[0]);for(const o of n)for(const s of o.transform??[])s.type==="lookup"&&(s.from=e.outputNodes[s.from].getSource());for(const o of n)o.name in t&&(o.values=t[o.name]);return n}function kqe(e){return e==="top"||e==="left"||Me(e)?"header":"footer"}function Cqe(e){for(const t of to)Oqe(e,t);qq(e,"x"),qq(e,"y")}function Oqe(e,t){var o;const{facet:n,config:r,child:i,component:a}=e;if(e.channelHasField(t)){const s=n[t],l=Bm("title",null,r,t);let u=Xp(s,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=ae(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=Bm("labelOrient",s.header,r,t),f=s.header!==null?Tn((o=s.header)==null?void 0:o.labels,r.header.labels,!0):!1,d=lt(["bottom","right"],c)?"footer":"header";a.layoutHeaders[t]={title:s.header!==null?u:null,facetFieldDef:s,[d]:t==="facet"?[]:[Gue(e,t,f)]}}}function Gue(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function qq(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=F5(i,t),i.axis[t]==="shared"){const a=t==="x"?"column":"row",o=r[a];for(const s of n.component.axes[t]){const l=kqe(s.get("orient"));o[l]??(o[l]=[Gue(e,a,!1)]);const u=Cy(s,"main",e.config,{header:!0});u&&o[l][0].axes.push(u),s.mainExtracted=!0}}}}function Pqe(e){q5(e),NS(e,"width"),NS(e,"height")}function $qe(e){q5(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";NS(e,t),NS(e,n)}function q5(e){for(const t of e.children)t.parseLayoutSize()}function NS(e,t){const n=vue(t),r=bk(n),i=e.component.resolve,a=e.component.layoutSize;let o;for(const s of e.children){const l=s.component.layoutSize.getWithExplicit(n),u=i.scale[r]??bue(r,e);if(u==="independent"&&l.value==="step"){o=void 0;break}if(o){if(u==="independent"&&o.value!==l.value){o=void 0;break}o=Gc(o,l,n,"")}else o=l}if(o){for(const s of e.children)e.renameSignal(s.getName(n),e.getName(t)),s.component.layoutSize.set(n,"merged",!1);a.setWithExplicit(t,o)}else a.setWithExplicit(t,{explicit:!1,value:void 0})}function Tqe(e){const{size:t,component:n}=e;for(const r of Pu){const i=Ji(r);if(t[i]){const a=t[i];n.layoutSize.set(i,al(a)?"step":a,!0)}else{const a=Nqe(e,i);n.layoutSize.set(i,a,!1)}}}function Nqe(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const a=i.get("type"),o=i.get("range");if(hr(a)){const s=CS(r.view,t);return xh(o)||al(s)?"step":s}else return xj(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return xj(r.view,t);{const a=CS(r.view,t);return al(a)?a.step:a}}}function Rj(e,t,n){return _e(t,{suffix:`by_${_e(e)}`,...n})}class ov extends que{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=Z5(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!Lx(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=ue(t),r={};for(const i of n){if(![nu,ru].includes(i)){fe(Sk(i,"facet"));break}const a=t[i];if(a.field===void 0){fe(pj(a,i));break}r[i]=this.initFacetFieldDef(a,i)}return r}initFacetFieldDef(t,n){const r=f5(t,n);return r.header?r.header=_r(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return ce(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=oC(this),this.child.parseData()}parseLayoutSize(){q5(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>Hs(t))&&zR(RR)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),Cqe(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of to)for(const r of j5){const i=this.component.layoutHeaders[n],a=i[r],{facetFieldDef:o}=i;if(o){const s=Bm("titleOrient",o.header,this.config,n);if(["right","bottom"].includes(s)){const l=Xk(n,s);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(a!=null&&a[0]){const s=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(s)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof ov))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof ov?{...this.channelHasField("column")?{encode:{update:{columns:{field:_e(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof ov){if(this.child.channelHasField("column")){const i=_e(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Pu){const a=this.child.component.scales[i];if(a&&!a.merged){const o=a.get("type"),s=a.get("range");if(hr(o)&&xh(s)){const l=Yk(this.child,i),u=B5(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):fe(IR(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:a,ops:o,as:s}=this.getCardinalityAggregateForChild(),l=[];for(const c of to){const f=this.facet[c];if(f){l.push(_e(f));const{bin:d,sort:p}=f;if(Jt(d)&&l.push(_e(f,{binSuffix:"end"})),iu(p)){const{field:m,op:g=$k}=p,v=Rj(f,p);r&&i?(a.push(v),o.push("max"),s.push(v)):(a.push(m),o.push(g),s.push(v))}else if(ae(p)){const m=zm(f,c);a.push(m),o.push("max"),s.push(m)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||a.length>0?{aggregate:{...u?{cross:u}:{},...a.length?{fields:a,ops:o,as:s}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?iu(r.sort)?[Rj(r,r.sort,{expr:"datum"})]:ae(r.sort)?[zm(r,t,{expr:"datum"})]:[_e(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(iu(i)?i.order:!ae(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return Nj(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const a of M5)if(t[a]){const o=Bm("labelOrient",(i=t[a])==null?void 0:i.header,n,a);if(r[a].includes(o))return Nj(t[a],a,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=Aqe(n),i=t.assembleGroupEncodeEntry(!1),a=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...a?{title:a}:{},...o?{style:o}:{},from:{facet:this.assembleFacet()},sort:{field:to.map(l=>this.facetSortFields(l)).flat(),order:to.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(I9e(this,[]))}]}getMapping(){return this.facet}}function Mqe(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const a of[n,r])if(iu(a.sort)){const{field:o,op:s=$k}=a.sort;e=i=new Eh(e,{joinaggregate:[{op:s,field:o,as:Rj(a,a.sort,{forAs:!0})}],groupby:[_e(a)]})}return i}return null}function Vue(e,t){var n,r,i,a;for(const o of t){const s=o.data;if(e.name&&o.hasName()&&e.name!==o.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=s.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const f=(a=s.format)==null?void 0:a.mesh;if(!((l||f)&&l!==f)){if(o1(e)&&o1(s)){if(va(e.values,s.values))return o}else if(Lm(e)&&Lm(s)){if(e.url===s.url)return o}else if(Cle(e)&&e.name===o.dataName)return o}}return null}function jqe(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Zd({values:[]});return t.push(r),r}const n=Vue(e.data,t);if(n)return $c(e.data)||(n.data.format=woe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Zd(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function Dqe(e,t,n){let r=0;for(const i of t.transforms){let a,o;if(d9e(i))o=e=new Rm(e,i),a="derived";else if(S5(i)){const s=EWe(i);o=e=Gr.makeWithAncestors(e,{},s,n)??e,e=new Rg(e,t,i.filter)}else if(wle(i))o=e=Gs.makeFromTransform(e,i,t),a="number";else if(p9e(i))a="date",n.getWithExplicit(i.field).value===void 0&&(e=new Gr(e,{[i.field]:a}),n.set(i.field,a,!1)),o=e=qs.makeFromTransform(e,i);else if(m9e(i))o=e=Xo.makeFromTransform(e,i),a="number",P5(t)&&(e=new Vc(e));else if(_le(i))o=e=c1.make(e,t,i,r++),a="derived";else if(u9e(i))o=e=new Bg(e,i),a="number";else if(c9e(i))o=e=new Eh(e,i),a="number";else if(g9e(i))o=e=ou.makeFromTransform(e,i),a="derived";else if(y9e(i))o=e=new eC(e,i),a="derived";else if(v9e(i))o=e=new Qk(e,i),a="derived";else if(f9e(i))o=e=new Jk(e,i),a="derived";else if(r9e(i))o=e=new iC(e,i),a="derived";else if(l9e(i))e=new aC(e,i);else if(h9e(i))o=e=md.makeFromTransform(e,i),a="derived";else if(i9e(i))o=e=new Kk(e,i),a="derived";else if(a9e(i))o=e=new nC(e,i),a="derived";else if(o9e(i))o=e=new rC(e,i),a="derived";else if(s9e(i))o=e=new tC(e,i),a="derived";else{fe(Fze(i));continue}if(o&&a!==void 0)for(const s of o.producedFields()??[])n.set(s,a,!1)}return e}function oC(e){var v;let t=jqe(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,o=!(i&&($c(i)||Lm(i)||o1(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new $9e;$c(i)?(Ole(i)?t=new Vx(t,i.sequence):A5(i)&&(t=new Gx(t,i.graticule)),o.parseNothing=!0):((v=i==null?void 0:i.format)==null?void 0:v.parse)===null&&(o.parseNothing=!0),t=Gr.makeExplicit(t,e,o)??t,t=new Vc(t);const s=e.parent&&Ug(e.parent);(yn(e)||Sa(e))&&s&&(t=Gs.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=Dqe(t,e,o));const l=CWe(e),u=kWe(e);t=Gr.makeWithAncestors(t,{},{...l,...u},o)??t,yn(e)&&(t=Yp.parseAll(t,e),t=u1.parseAll(t,e)),(yn(e)||Sa(e))&&(s||(t=Gs.makeFromEncoding(t,e)??t),t=qs.makeFromEncoding(t,e)??t,t=Rm.parseAllForSortIndex(t,e));const c=t=m_(vn.Raw,e,t);if(yn(e)){const x=Xo.makeFromEncoding(t,e);x&&(t=x,P5(e)&&(t=new Vc(t))),t=md.makeFromEncoding(t,e)??t,t=ou.makeFromEncoding(t,e)??t}let f,d;if(yn(e)){const{markDef:x,mark:b,config:S}=e,k=Bt("invalid",x,S),{marks:A,scales:E}=d=$le({invalid:k,isPath:hf(b)});A!==E&&E==="include-invalid-values"&&(f=t=m_(vn.PreFilterInvalid,e,t)),A==="exclude-invalid-values"&&(t=Um.make(t,e,d)??t)}const p=t=m_(vn.Main,e,t);let m;if(yn(e)&&d){const{marks:x,scales:b}=d;x==="include-invalid-values"&&b==="exclude-invalid-values"&&(t=Um.make(t,e,d)??t,m=t=m_(vn.PostFilterInvalid,e,t))}yn(e)&&wUe(e,p);let g=null;if(Sa(e)){const x=e.getName("facet");t=Mqe(t,e.facet)??t,g=new zg(t,e,x,p.getSource()),n[x]=g}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:p,facetRoot:g,ancestorParse:o,preFilterInvalid:f,postFilterInvalid:m}}function m_(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,a=t.getDataName(e),o=new Vi(n,a,e,i);return r[a]=o,o}class Fqe extends W5{constructor(t,n,r,i){var a,o,s,l;super(t,"concat",n,r,i,t.resolve),(((o=(a=t.resolve)==null?void 0:a.axis)==null?void 0:o.x)==="shared"||((l=(s=t.resolve)==null?void 0:s.axis)==null?void 0:l.y)==="shared")&&fe(Mze),this.children=this.getChildren(t).map((u,c)=>Z5(u,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=oC(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of ue(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>Hs(t))&&zR(RR)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return Lk(t)?t.vconcat:_5(t)?t.hconcat:t.concat}parseLayoutSize(){$qe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=D5(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function Lqe(e){return e===!1||e===null}const Iqe={disable:1,gridScale:1,scale:1,...Hse,labelExpr:1,encode:1},Xue=ue(Iqe);class H5 extends Tu{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new H5(Ve(this.explicit),Ve(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!Lqe(this.get(t))}hasOrientSignalRef(){return Me(this.explicit.orient)}}function Rqe(e,t,n){const{encoding:r,config:i}=e,a=Zn(r[t])??Zn(r[gl(t)]),o=e.axis(t)||{},{format:s,formatType:l}=o;if(qd(l))return{text:qo({fieldOrDatumDef:a,field:"datum.value",format:s,formatType:l,config:i}),...n};if(s===void 0&&l===void 0&&i.customFormatTypes){if(jm(a)==="quantitative"){if(Dm(a)&&a.stack==="normalize"&&i.normalizedNumberFormatType)return{text:qo({fieldOrDatumDef:a,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:qo({fieldOrDatumDef:a,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(jm(a)==="temporal"&&i.timeFormatType&&de(a)&&!a.timeUnit)return{text:qo({fieldOrDatumDef:a,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function zqe(e){return Pu.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[Vqe(n,e)]),t),{})}const Bqe={bottom:"top",top:"bottom",left:"right",right:"left"};function Uqe(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const a of ue(i.component.axes))n.axis[a]=F5(e.component.resolve,a),n.axis[a]==="shared"&&(t[a]=Wqe(t[a],i.component.axes[a]),t[a]||(n.axis[a]="independent",delete t[a]))}for(const i of Pu){for(const a of e.children)if(a.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(a.component.axes[i]);for(const o of a.component.axes[i]){const{value:s,explicit:l}=o.getWithExplicit("orient");if(!Me(s)){if(r[s]>0&&!l){const u=Bqe[s];r[s]>r[u]&&o.set("orient",u,!1)}r[s]++}}}delete a.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[a,o]of(t[i]||[]).entries())a>0&&o.get("grid")&&!o.explicit.grid&&(o.implicit.grid=!1)}}function Wqe(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],a=t[r];if(!!i!=!!a)return;if(i&&a){const o=i.getWithExplicit("orient"),s=a.getWithExplicit("orient");if(o.explicit&&s.explicit&&o.value!==s.value)return;e[r]=qqe(i,a)}}}else return t.map(n=>n.clone());return e}function qqe(e,t){for(const n of Xue){const r=Gc(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,a)=>{switch(n){case"title":return Zoe(i,a);case"gridScale":return{explicit:i.explicit,value:Tn(i.value,a.value)}}return Rk(i,a,n,"axis")});e.setWithExplicit(n,r)}return e}function Hqe(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Me(n.labelAngle)?n.labelAngle:i1(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===hue(r,i))return!0}return e===n[t]}const Gqe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Vqe(e,t){var x,b;let n=t.axis(e);const r=new H5,i=Zn(t.encoding[e]),{mark:a,config:o}=t,s=(n==null?void 0:n.orient)||((x=o[e==="x"?"axisX":"axisY"])==null?void 0:x.orient)||((b=o.axis)==null?void 0:b.orient)||NUe(e),l=t.getScaleComponent(e).get("type"),u=EUe(e,l,s,t.config),c=n!==void 0?!n:$j("disable",o.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=PUe(i,n,e,o.style,u),d=Tse(n.formatType,i,l),p=$se(i,i.type,n.format,n.formatType,o,!0),m={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:s,labelAngle:f,format:p,formatType:d,mark:a,config:o};for(const S of Xue){const k=S in Pq?Pq[S](m):ZW(S)?n[S]:void 0,A=k!==void 0,E=Hqe(k,S,n,t,e);if(A&&E)r.set(S,k,E);else{const{configValue:C=void 0,configFrom:P=void 0}=ZW(S)&&S!=="values"?$j(S,o.style,n.style,u):{},T=C!==void 0;A&&!T?r.set(S,k,E):(P!=="vgAxisConfig"||Gqe.has(S)&&T||Bx(C)||Me(C))&&r.set(S,C,!1)}}const g=n.encoding??{},v=qse.reduce((S,k)=>{if(!r.hasAxisPart(k))return S;const A=xue(g[k]??{},t),E=k==="labels"?Rqe(t,e,A):A;return E!==void 0&&!Ut(E)&&(S[k]={update:E}),S},{});return Ut(v)||r.set("encode",v,!!n.encoding||n.labelAngle!==void 0),r}function Xqe({encoding:e,size:t}){for(const n of Pu){const r=Ji(n);al(t[r])&&pc(e[n])&&(delete t[r],fe(ese(r)))}return t}const Zqe={vgMark:"arc",encodeEntry:e=>({...xo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...gi("x",e,{defaultPos:"mid"}),...gi("y",e,{defaultPos:"mid"}),...xu(e,"radius"),...xu(e,"theta")})},Yqe={vgMark:"area",encodeEntry:e=>({...xo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...OS("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...OS("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...O5(e)})},Kqe={vgMark:"rect",encodeEntry:e=>({...xo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...xu(e,"x"),...xu(e,"y")})},Qqe={vgMark:"shape",encodeEntry:e=>({...xo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&de(n)&&n.type===Lg?{field:_e(n,{expr:"datum"})}:{}}]}},Jqe={vgMark:"image",encodeEntry:e=>({...xo(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...xu(e,"x"),...xu(e,"y"),...k5(e,"url")})},eHe={vgMark:"line",encodeEntry:e=>({...xo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...gi("x",e,{defaultPos:"mid"}),...gi("y",e,{defaultPos:"mid"}),...Sr("size",e,{vgChannel:"strokeWidth"}),...O5(e)})},tHe={vgMark:"trail",encodeEntry:e=>({...xo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...gi("x",e,{defaultPos:"mid"}),...gi("y",e,{defaultPos:"mid"}),...Sr("size",e),...O5(e)})};function G5(e,t){const{config:n}=e;return{...xo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...gi("x",e,{defaultPos:"mid"}),...gi("y",e,{defaultPos:"mid"}),...Sr("size",e),...Sr("angle",e),...nHe(e,n,t)}}function nHe(e,t,n){return n?{shape:{value:n}}:Sr("shape",e)}const rHe={vgMark:"symbol",encodeEntry:e=>G5(e)},iHe={vgMark:"symbol",encodeEntry:e=>G5(e,"circle")},aHe={vgMark:"symbol",encodeEntry:e=>G5(e,"square")},oHe={vgMark:"rect",encodeEntry:e=>({...xo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...xu(e,"x"),...xu(e,"y")})},sHe={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...xo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...OS("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...OS("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Sr("size",e,{vgChannel:"strokeWidth"})}}},lHe={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...xo(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...gi("x",e,{defaultPos:"mid"}),...gi("y",e,{defaultPos:"mid"}),...k5(e),...Sr("size",e,{vgChannel:"fontSize"}),...Sr("angle",e),...vq("align",uHe(e.markDef,n,t)),...vq("baseline",cHe(e.markDef,n,t)),...gi("radius",e,{defaultPos:null}),...gi("theta",e,{defaultPos:null})}}};function uHe(e,t,n){if(Bt("align",e,n)===void 0)return"center"}function cHe(e,t,n){if(Bt("baseline",e,n)===void 0)return"middle"}const fHe={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",a=r==="horizontal"?"y":"x",o=r==="horizontal"?"height":"width";return{...xo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...xu(e,i),...gi(a,e,{defaultPos:"mid",vgChannel:a==="y"?"yc":"xc"}),[o]:an(Bt("thickness",n,t))}}},g_={arc:Zqe,area:Yqe,bar:Kqe,circle:iHe,geoshape:Qqe,image:Jqe,line:eHe,point:rHe,rect:oHe,rule:sHe,square:aHe,text:lHe,tick:fHe,trail:tHe};function dHe(e){if(lt([Ok,kk,uBe],e.mark)){const t=Kse(e.mark,e.encoding);if(t.length>0)return hHe(e,t)}else if(e.mark===Ck){const t=dj.some(n=>Bt(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return pHe(e)}return V5(e)}const Hq="faceted_path_";function hHe(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:Hq+e.requestDataName(vn.Main),data:e.requestDataName(vn.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:V5(e,{fromPrefix:Hq})}]}const Gq="stack_group_";function pHe(e){var u;const[t]=V5(e,{fromPrefix:Gq}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${d.map(p=>`scale('${n}',${p})`).join(",")})`};let a,o;e.stack.fieldChannel==="x"?(a={...Om(t.encode.update,["y","yc","y2","height",...dj]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},o={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Gi(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(a={...Om(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},o={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Gi(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of dj){const f=rl(c,e.markDef,e.config);t.encode.update[c]?(a[c]=t.encode.update[c],delete t.encode.update[c]):f&&(a[c]=an(f)),f&&(t.encode.update[c]={value:0})}const s=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=_e(f);d&&s.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&s.push(_e(f,{binSuffix:"end"}))}return a=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=rl(f,e.markDef,e.config);return d!==void 0?{...c,[f]:an(d)}:c}},a),a.stroke&&(a.strokeForeground={value:!0},a.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(vn.Main),name:Gq+e.requestDataName(vn.Main),groupby:s,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:a},marks:[{type:"group",encode:{update:o},marks:[t]}]}]}function mHe(e){const{encoding:t,stack:n,mark:r,markDef:i,config:a}=e,o=t.order;if(!(!ae(o)&&ts(o)&&cj(o.value)||!o&&cj(Bt("order",i,a)))){if((ae(o)||de(o))&&!n)return Goe(o,{expr:"datum"});if(hf(r)){const s=i.orient==="horizontal"?"y":"x",l=t[s];if(de(l))return{field:s}}}}function V5(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:a}=e,o=Tn(r.clip,gHe(e),yHe(e)),s=qoe(r),l=i.key,u=mHe(e),c=vHe(e),f=Bt("aria",r,a),d=g_[n].postEncodingTransform?g_[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:g_[n].vgMark,...o?{clip:o}:{},...s?{style:s}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(vn.Main)},encode:{update:g_[n].encodeEntry(e)},...d?{transform:d}:{}}]}function gHe(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function yHe(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function vHe(e){if(!e.component.selection)return null;const t=ue(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=ue(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class Zue extends que{constructor(t,n,r,i={},a){super(t,"unit",n,r,a,void 0,KW(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=u=>{var c,f,d;return(c=u.from)!=null&&c.data&&(u.from.data=this.lookupDataSource(u.from.data),"time"in this.encoding&&(u.from.data=u.from.data+Nle)),(d=(f=u.from)==null?void 0:f.facet)!=null&&d.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u};const o=il(t.mark)?{...t.mark}:{type:t.mark},s=o.type;o.filled===void 0&&(o.filled=G8e(o,a,{graticule:t.data&&A5(t.data)}));const l=this.encoding=YBe(t.encoding||{},s,o.filled,a);this.markDef=vle(o,l,a),this.size=Xqe({encoding:l,size:KW(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=yle(this.markDef,l),this.specifiedScales=this.initScales(s,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>x5(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===Sse,r=t&&U5e.some(i=>Ye(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return DR.reduce((r,i)=>{const a=Zn(n[i]);return a&&(r[i]=this.initScale(a.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=_r(t);return ae(n)&&(i.domain=n.map(pa)),ae(r)&&(i.range=r.map(pa)),i}initAxes(t){return Pu.reduce((n,r)=>{const i=t[r];if(Ye(i)||r===hn&&Ye(t.x2)||r===mr&&Ye(t.y2)){const a=Ye(i)?i.axis:void 0;n[r]=a&&this.initAxis({...a})}return n},{})}initAxis(t){const n=ue(t),r={};for(const i of n){const a=t[i];r[i]=Bx(a)?Woe(a):pa(a)}return r}initLegends(t){return J5e.reduce((n,r)=>{const i=Zn(t[r]);if(i&&tze(r)){const a=i.legend;n[r]=a&&_r(a)}return n},{})}parseData(){this.component.data=oC(this)}parseLayoutSize(){Tqe(this)}parseSelections(){this.component.selection=_Ue(this,this.selection)}parseMarkGroup(){this.component.mark=dHe(this)}parseAxesAndHeaders(){this.component.axes=zqe(this)}assembleSelectionTopLevelSignals(t){return R9e(this,t)}assembleSignals(){return[...cue(this),...L9e(this,[])]}assembleSelectionData(t){return z9e(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return D5(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!Ug(this.parent))&&(t=Fle(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return hd(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return ns(n)}typedFieldDef(t){const n=this.fieldDef(t);return Ai(n)?n:null}}class X5 extends W5{constructor(t,n,r,i,a){super(t,"layer",n,r,a,t.resolve,t.view);const o={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((s,l)=>{if(Ik(s))return new X5(s,this,this.getName(`layer_${l}`),o,a);if($u(s))return new Zue(s,this,this.getName(`layer_${l}`),o,a);throw new Error(LR(s))})}parseData(){this.component.data=oC(this);for(const t of this.children)t.parseData()}parseLayoutSize(){Pqe(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of ue(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>Hs(t))&&zR(RR)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){Uqe(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),cue(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),D5(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Ee(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return B9e(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),Cue(this))}}function Z5(e,t,n,r,i){if(Tk(e))return new ov(e,t,n,i);if(Ik(e))return new X5(e,t,n,r,i);if($u(e))return new Zue(e,t,n,r,i);if(b8e(e))return new Fqe(e,t,n,i);throw new Error(LR(e))}function xHe(e,t={}){t.logger&&S6e(t.logger),t.fieldTitle&&Bse(t.fieldTitle);try{const n=gle(vg(t.config,e.config)),r=Ele(e,n),i=Z5(r,null,"",void 0,n);return i.parse(),WWe(i.component.data,i),{spec:_He(i,bHe(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&A6e(),t.fieldTitle&&BBe()}}function bHe(e,t,n,r){const i=r.component.layoutSize.get("width"),a=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Ae(t)&&(t={type:t}),i&&a&&C9e(t.type)){if(i==="step"&&a==="step")fe(DW()),t.type="pad";else if(i==="step"||a==="step"){const o=i==="step"?"width":"height";fe(DW(bk(o)));const s=o==="width"?"height":"width";t.type=O9e(s)}}return{...ue(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...uq(n,!1),...uq(e,!0)}}function _He(e,t,n={},r){const i=e.config?j8e(e.config):void 0,a=Eqe(e.component.data,n),o=e.assembleSelectionData(a),s=e.assembleProjections(),l=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let f=e.assembleLayoutSignals();f=f.filter(m=>(m.name==="width"||m.name==="height")&&m.value!==void 0?(t[m.name]=+m.value,!1):!0);const{params:d,...p}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...p,...l?{title:l}:{},...u?{style:u}:{},...c?{encode:{update:c}}:{},data:o,...s.length>0?{projections:s}:{},...e.assembleGroup([...f,...e.assembleSelectionTopLevelSignals([]),...dle(d)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const wHe=F5e.version,SHe=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:$m,accessPathWithDatum:CR,accessWithDatumToUnescapedPath:Mt,compile:xHe,contains:lt,deepEqual:va,deleteNestedProperty:vS,duplicate:Ve,entries:Wc,every:AR,fieldIntersection:kR,flatAccessWithDatum:Aoe,getFirstDefined:Tn,hasIntersection:ER,hasProperty:ce,hash:dt,internalField:Coe,isBoolean:r1,isEmpty:Ut,isEqual:I5e,isInternalField:Ooe,isNullOrFalse:cj,isNumeric:pk,keys:ue,logicalExpr:rv,mergeDeep:woe,never:_oe,normalize:Ele,normalizeAngle:i1,omit:Gi,pick:Om,prefixGenerator:fj,removePathFromField:Dg,replaceAll:Id,replacePathInField:ho,resetIdCounter:z5e,setEqual:Soe,some:Pm,stringify:Wt,titleCase:$x,unique:Ms,uniqueId:koe,vals:$r,varName:fn,version:wHe},Symbol.toStringTag,{value:"Module"}));function Yue(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var AHe="2.15.0",EHe={version:AHe};const ep="#fff",Vq="#888",kHe={background:"#333",view:{stroke:Vq},title:{color:ep,subtitleColor:ep},style:{"guide-label":{fill:ep},"guide-title":{fill:ep}},axis:{domainColor:ep,gridColor:Vq,tickColor:ep}},kf="#4572a7",CHe={background:"#fff",arc:{fill:kf},area:{fill:kf},line:{stroke:kf,strokeWidth:2},path:{stroke:kf},rect:{fill:kf},shape:{stroke:kf},symbol:{fill:kf,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Cf="#30a2da",P$="#cbcbcb",OHe="#999",PHe="#333",Xq="#f0f0f0",Zq="#333",$He={arc:{fill:Cf},area:{fill:Cf},axis:{domainColor:P$,grid:!0,gridColor:P$,gridWidth:1,labelColor:OHe,labelFontSize:10,titleColor:PHe,tickColor:P$,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:Xq,group:{fill:Xq},legend:{labelColor:Zq,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Zq,titleFontSize:14,titlePadding:10},line:{stroke:Cf,strokeWidth:2},path:{stroke:Cf,strokeWidth:.5},rect:{fill:Cf},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Cf},bar:{binSpacing:2,fill:Cf,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Of="#000",THe={group:{fill:"#e5e5e5"},arc:{fill:Of},area:{fill:Of},line:{stroke:Of},path:{stroke:Of},rect:{fill:Of},shape:{stroke:Of},symbol:{fill:Of,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},NHe=22,MHe="normal",Yq="Benton Gothic, sans-serif",Kq=11.5,jHe="normal",Pf="#82c6df",$$="Benton Gothic Bold, sans-serif",Qq="normal",Jq=13,H0={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},DHe={background:"#ffffff",title:{anchor:"start",color:"#000000",font:$$,fontSize:NHe,fontWeight:MHe},arc:{fill:Pf},area:{fill:Pf},line:{stroke:Pf,strokeWidth:2},path:{stroke:Pf},rect:{fill:Pf},shape:{stroke:Pf},symbol:{fill:Pf,size:30},axis:{labelFont:Yq,labelFontSize:Kq,labelFontWeight:jHe,titleFont:$$,titleFontSize:Jq,titleFontWeight:Qq},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Yq,labelFontSize:Kq,symbolType:"square",titleFont:$$,titleFontSize:Jq,titleFontWeight:Qq},range:{category:H0["category-6"],diverging:H0["fireandice-6"],heatmap:H0["fire-7"],ordinal:H0["fire-7"],ramp:H0["fire-7"]}},$f="#ab5787",y_="#979797",FHe={background:"#f9f9f9",arc:{fill:$f},area:{fill:$f},line:{stroke:$f},path:{stroke:$f},rect:{fill:$f},shape:{stroke:$f},symbol:{fill:$f,size:30},axis:{domainColor:y_,domainWidth:.5,gridWidth:.2,labelColor:y_,tickColor:y_,tickWidth:.2,titleColor:y_},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Tf="#3e5c69",LHe={background:"#fff",arc:{fill:Tf},area:{fill:Tf},line:{stroke:Tf},path:{stroke:Tf},rect:{fill:Tf},shape:{stroke:Tf},symbol:{fill:Tf},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Ua="#1696d2",eH="#000000",IHe="#FFFFFF",v_="Lato",T$="Lato",RHe="Lato",zHe="#DEDDDD",BHe=18,G0={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},UHe={background:IHe,title:{anchor:"start",fontSize:BHe,font:v_},axisX:{domain:!0,domainColor:eH,domainWidth:1,grid:!1,labelFontSize:12,labelFont:T$,labelAngle:0,tickColor:eH,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:v_},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:zHe,gridWidth:1,labelFontSize:12,labelFont:T$,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:v_,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:T$,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:v_,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:G0["six-groups-cat-1"],diverging:G0["diverging-colors"],heatmap:G0["diverging-colors"],ordinal:G0["six-groups-seq"],ramp:G0["shades-blue"]},area:{fill:Ua},rect:{fill:Ua},line:{color:Ua,stroke:Ua,strokeWidth:5},trail:{color:Ua,stroke:Ua,strokeWidth:0,size:1},path:{stroke:Ua,strokeWidth:.5},point:{filled:!0},text:{font:RHe,color:Ua,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Ua,stroke:null}},arc:{fill:Ua},shape:{stroke:Ua},symbol:{fill:Ua,size:30}},Nf="#3366CC",tH="#ccc",x_="Arial, sans-serif",WHe={arc:{fill:Nf},area:{fill:Nf},path:{stroke:Nf},rect:{fill:Nf},shape:{stroke:Nf},symbol:{stroke:Nf},circle:{fill:Nf},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:x_,fontSize:12},"guide-title":{font:x_,fontSize:12},"group-title":{font:x_,fontSize:12}},title:{font:x_,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:tH,tickColor:tH,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Y5=e=>e*(1/3+1),nH=Y5(9),rH=Y5(10),iH=Y5(12),V0="Segoe UI",aH="wf_standard-font, helvetica, arial, sans-serif",oH="#252423",X0="#605E5C",sH="transparent",qHe="#C8C6C4",Po="#118DFF",HHe="#12239E",GHe="#E66C37",VHe="#6B007B",XHe="#E044A7",ZHe="#744EC2",YHe="#D9B300",KHe="#D64550",Kue=Po,Que="#DEEFFF",lH=[Que,Kue],QHe=[Que,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",Kue],JHe={view:{stroke:sH},background:sH,font:V0,header:{titleFont:aH,titleFontSize:iH,titleColor:oH,labelFont:V0,labelFontSize:rH,labelColor:X0},axis:{ticks:!1,grid:!1,domain:!1,labelColor:X0,labelFontSize:nH,titleFont:aH,titleColor:oH,titleFontSize:iH,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:qHe,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Po},line:{stroke:Po,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:V0,fontSize:nH,fill:X0},arc:{fill:Po},area:{fill:Po,line:!0,opacity:.6},path:{stroke:Po},rect:{fill:Po},point:{fill:Po,filled:!0,size:75},shape:{stroke:Po},symbol:{fill:Po,strokeWidth:1.5,size:50},legend:{titleFont:V0,titleFontWeight:"bold",titleColor:X0,labelFont:V0,labelFontSize:rH,labelColor:X0,symbolType:"circle",symbolSize:75},range:{category:[Po,HHe,GHe,VHe,XHe,ZHe,YHe,KHe],diverging:lH,heatmap:lH,ordinal:QHe}},N$='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',eGe='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',M$=400,b_={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},tGe=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],nGe=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function sC({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=b_.gridBg[e],i=b_.textPrimary[e],a=b_.textSecondary[e],o=n==="dark"?tGe:nGe,s=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:s},area:{fill:s},path:{stroke:s},rect:{fill:s},shape:{stroke:s},symbol:{stroke:s},circle:{fill:s},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:N$,fontWeight:600},axis:{labelColor:a,labelFontSize:12,labelFont:eGe,labelFontWeight:M$,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:b_.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:N$,fill:a,fontWeight:M$},"guide-title":{font:N$,fill:a,fontWeight:M$}},range:{category:o,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const rGe=sC({theme:"white",background:"#ffffff"}),iGe=sC({theme:"g10",background:"#f4f4f4"}),aGe=sC({theme:"g90",background:"#262626"}),oGe=sC({theme:"g100",background:"#161616"}),sGe=EHe.version,lGe=Object.freeze(Object.defineProperty({__proto__:null,carbong10:iGe,carbong100:oGe,carbong90:aGe,carbonwhite:rGe,dark:kHe,excel:CHe,fivethirtyeight:$He,ggplot2:THe,googlecharts:WHe,latimes:DHe,powerbi:JHe,quartz:FHe,urbaninstitute:UHe,version:sGe,vox:LHe},Symbol.toStringTag,{value:"Module"}));function uGe(e,t,n,r){if(ae(e))return`[${e.map(i=>t(Ae(i)?i:uH(i,n))).join(", ")}]`;if(Se(e)){let i="";const{title:a,image:o,...s}=e;a&&(i+=`<h2>${t(a)}</h2>`),o&&(i+=`<img src="${new URL(t(o),r||location.href).href}">`);const l=Object.keys(s);if(l.length>0){i+="<table>";for(const u of l){let c=s[u];c!==void 0&&(Se(c)&&(c=uH(c,n)),i+=`<tr><td class="key">${t(u)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function cGe(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function uH(e,t){return JSON.stringify(e,cGe(t))}var fGe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const Jue="vg-tooltip-element",dGe={offsetX:10,offsetY:10,id:Jue,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:hGe,maxDepth:2,formatTooltip:uGe,baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function hGe(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function pGe(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return fGe.toString().replace(Jue,e)}function ece(e,t,{offsetX:n,offsetY:r}){const i=tce({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,n,r),a=["bottom-right","bottom-left","top-right","top-left"];for(const o of a)if(nce(i[o],t))return i[o];return i["top-left"]}function mGe(e,t,n,r,i){const{position:a,offsetX:o,offsetY:s}=i,l=e._el.getBoundingClientRect(),u=e._origin,c=gGe(l,u,n),f=tce(c,r,o,s),d=Array.isArray(a)?a:[a];for(const p of d)if(nce(f[p],r)&&!yGe(t,f[p],r))return f[p];return ece(t,r,i)}function gGe(e,t,n){const r=n.isVoronoi?n.datum.bounds:n.bounds;let i=e.left+t[0]+r.x1,a=e.top+t[1]+r.y1,o=n;for(;o.mark.group;)o=o.mark.group,i+=o.x??0,a+=o.y??0;const s=r.x2-r.x1,l=r.y2-r.y1;return{x1:i,x2:i+s,y1:a,y2:a+l}}function tce(e,t,n,r){const i=(e.x1+e.x2)/2,a=(e.y1+e.y2)/2,o=e.x1-t.width-n,s=i-t.width/2,l=e.x2+n,u=e.y1-t.height-r,c=a-t.height/2,f=e.y2+r;return{top:{x:s,y:u},bottom:{x:s,y:f},left:{x:o,y:c},right:{x:l,y:c},"top-left":{x:o,y:u},"top-right":{x:l,y:u},"bottom-left":{x:o,y:f},"bottom-right":{x:l,y:f}}}function nce(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function yGe(e,t,n){return e.clientX>=t.x&&e.clientX<=t.x+n.width&&e.clientY>=t.y&&e.clientY<=t.y+n.height}class vGe{constructor(t){this.options={...dGe,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=pGe(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:a,y:o}=this.options.anchor==="mark"?mGe(t,n,r,this.el.getBoundingClientRect(),this.options):ece(n,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${o}px`,this.el.style.left=`${a}px`}}var j$={};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var xGe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bGe=Object.prototype.hasOwnProperty;function zj(e,t){return bGe.call(e,t)}function Bj(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)zj(e,i)&&r.push(i);return r}function xa(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Uj(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function zf(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function rce(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Wj(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Wj(e[t]))return!0}else if(typeof e=="object"){for(var r=Bj(e),i=r.length,a=0;a<i;a++)if(Wj(e[r[a]]))return!0}}return!1}function cH(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var ice=function(e){xGe(t,e);function t(n,r,i,a,o){var s=this.constructor,l=e.call(this,cH(n,{name:r,index:i,operation:a,tree:o}))||this;return l.name=r,l.index=i,l.operation=a,l.tree=o,Object.setPrototypeOf(l,s.prototype),l.message=cH(n,{name:r,index:i,operation:a,tree:o}),l}return t}(Error),wn=ice,_Ge=xa,Cp={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=MS(n,this.path);r&&(r=xa(r));var i=gd(n,{op:"remove",path:this.from}).removed;return gd(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=MS(n,this.from);return gd(n,{op:"add",path:this.path,value:xa(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:f1(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},wGe={add:function(e,t,n){return Uj(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Cp.move,copy:Cp.copy,test:Cp.test,_get:Cp._get};function MS(e,t){if(t=="")return e;var n={op:"_get",path:t};return gd(e,n),n.value}function gd(e,t,n,r,i,a){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),a===void 0&&(a=0),n&&(typeof n=="function"?n(t,0,e,t.path):jS(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=MS(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=f1(e,t.value),o.test===!1)throw new wn("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new wn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return o}}else{r||(e=xa(e));var s=t.path||"",l=s.split("/"),u=e,c=1,f=l.length,d=void 0,p=void 0,m=void 0;for(typeof n=="function"?m=n:m=jS;;){if(p=l[c],p&&p.indexOf("~")!=-1&&(p=rce(p)),i&&(p=="__proto__"||p=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[p]===void 0?d=l.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&m(t,0,e,d)),c++,Array.isArray(u)){if(p==="-")p=u.length;else{if(n&&!Uj(p))throw new wn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);Uj(p)&&(p=~~p)}if(c>=f){if(n&&t.op==="add"&&p>u.length)throw new wn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);var o=wGe[t.op].call(t,u,p,e);if(o.test===!1)throw new wn("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}}else if(c>=f){var o=Cp[t.op].call(t,u,p,e);if(o.test===!1)throw new wn("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}if(u=u[p],n&&c<f&&(!u||typeof u!="object"))throw new wn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function lC(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new wn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=xa(e));for(var a=new Array(t.length),o=0,s=t.length;o<s;o++)a[o]=gd(e,t[o],n,!0,i,o),e=a[o].newDocument;return a.newDocument=e,a}function SGe(e,t,n){var r=gd(e,t);if(r.test===!1)throw new wn("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function jS(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new wn("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Cp[e.op]){if(typeof e.path!="string")throw new wn("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new wn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new wn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new wn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Wj(e.value))throw new wn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new wn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new wn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},s=ace([o],n);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new wn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new wn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function ace(e,t,n){try{if(!Array.isArray(e))throw new wn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)lC(xa(t),xa(e),n||!0);else{n=n||jS;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof wn)return i;throw i}}function f1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,a,o;if(n&&r){if(a=e.length,a!=t.length)return!1;for(i=a;i--!==0;)if(!f1(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var s=Object.keys(e);if(a=s.length,a!==Object.keys(t).length)return!1;for(i=a;i--!==0;)if(!t.hasOwnProperty(s[i]))return!1;for(i=a;i--!==0;)if(o=s[i],!f1(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}var AGe=Object.freeze({__proto__:null,JsonPatchError:wn,_areEquals:f1,applyOperation:gd,applyPatch:lC,applyReducer:SGe,deepClone:_Ge,getValueByPointer:MS,validate:ace,validator:jS});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var K5=new WeakMap,EGe=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),kGe=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function CGe(e){return K5.get(e)}function OGe(e,t){return e.observers.get(t)}function PGe(e,t){e.observers.delete(t.callback)}function $Ge(e,t){t.unobserve()}function TGe(e,t){var n=[],r,i=CGe(e);if(!i)i=new EGe(e),K5.set(e,i);else{var a=OGe(i,t);r=a&&a.observer}if(r)return r;if(r={},i.value=xa(e),t){r.callback=t,r.next=null;var o=function(){qj(r)},s=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return r.patches=n,r.object=e,r.unobserve=function(){qj(r),clearTimeout(r.next),PGe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},i.observers.set(t,new kGe(t,r)),r}function qj(e,t){t===void 0&&(t=!1);var n=K5.get(e.object);Q5(n.value,e.object,e.patches,"",t),e.patches.length&&lC(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function Q5(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=Bj(t),o=Bj(e),s=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(zj(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?Q5(c,f,n,r+"/"+zf(u),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+zf(u),value:xa(c)}),n.push({op:"replace",path:r+"/"+zf(u),value:xa(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+zf(u),value:xa(c)}),n.push({op:"remove",path:r+"/"+zf(u)}),s=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!s&&a.length==o.length))for(var l=0;l<a.length;l++){var u=a[l];!zj(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+zf(u),value:xa(t[u])})}}}function NGe(e,t,n){n===void 0&&(n=!1);var r=[];return Q5(e,t,r,"",n),r}var MGe=Object.freeze({__proto__:null,compare:NGe,generate:qj,observe:TGe,unobserve:$Ge});Object.assign({},AGe,MGe,{JsonPatchError:ice,deepClone:xa,escapePathComponent:zf,unescapePathComponent:rce});function jGe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D$,fH;function DGe(){if(fH)return D$;fH=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const a=this.map.keys().next().value;this.delete(a)}this.map.set(n,r)}return this}}return D$=e,D$}var F$,dH;function J5(){if(dH)return F$;dH=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return F$=r=>r?typeof r!="object"?e:r:t,F$}var __={exports:{}},L$,hH;function ez(){if(hH)return L$;hH=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return L$={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},L$}var I$,pH;function uC(){return pH||(pH=1,I$=typeof process=="object"&&j$&&j$.NODE_DEBUG&&/\bsemver\b/i.test(j$.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),I$}var mH;function tz(){return mH||(mH=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=ez(),a=uC();t=e.exports={};const o=t.re=[],s=t.safeRe=[],l=t.src=[],u=t.t={};let c=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,r]],p=g=>{for(const[v,x]of d)g=g.split(`${v}*`).join(`${v}{0,${x}}`).split(`${v}+`).join(`${v}{1,${x}}`);return g},m=(g,v,x)=>{const b=p(v),S=c++;a(g,S,v),u[g]=S,l[S]=v,o[S]=new RegExp(v,x?"g":void 0),s[S]=new RegExp(b,x?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),m("FULL",`^${l[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),m("LOOSE",`^${l[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),m("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[u.COERCE],!0),m("COERCERTLFULL",l[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(__,__.exports)),__.exports}var R$,gH;function FGe(){if(gH)return R$;gH=1;const e=/^[0-9]+$/,t=(r,i)=>{const a=e.test(r),o=e.test(i);return a&&o&&(r=+r,i=+i),r===i?0:a&&!o?-1:o&&!a?1:r<i?-1:1};return R$={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},R$}var z$,yH;function nz(){if(yH)return z$;yH=1;const e=uC(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=ez(),{safeRe:r,t:i}=tz(),a=J5(),{compareIdentifiers:o}=FGe();class s{constructor(u,c){if(c=a(c),u instanceof s){if(u.loose===!!c.loose&&u.includePrerelease===!!c.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const f=u.trim().match(c.loose?r[i.LOOSE]:r[i.FULL]);if(!f)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(d=>{if(/^[0-9]+$/.test(d)){const p=+d;if(p>=0&&p<n)return p}return d}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof s)){if(typeof u=="string"&&u===this.version)return 0;u=new s(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof s||(u=new s(u,this.options)),o(this.major,u.major)||o(this.minor,u.minor)||o(this.patch,u.patch)}comparePre(u){if(u instanceof s||(u=new s(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let c=0;do{const f=this.prerelease[c],d=u.prerelease[c];if(e("prerelease compare",c,f,d),f===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(f===void 0)return-1;if(f===d)continue;return o(f,d)}while(++c)}compareBuild(u){u instanceof s||(u=new s(u,this.options));let c=0;do{const f=this.build[c],d=u.build[c];if(e("build compare",c,f,d),f===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(f===void 0)return-1;if(f===d)continue;return o(f,d)}while(++c)}inc(u,c,f){switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,f),this.inc("pre",c,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,f),this.inc("pre",c,f);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const d=Number(f)?1:0;if(!c&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[d];else{let p=this.prerelease.length;for(;--p>=0;)typeof this.prerelease[p]=="number"&&(this.prerelease[p]++,p=-2);if(p===-1){if(c===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(d)}}if(c){let p=[c,d];f===!1&&(p=[c]),o(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=p):this.prerelease=p}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return z$=s,z$}var B$,vH;function Wg(){if(vH)return B$;vH=1;const e=nz();return B$=(n,r,i)=>new e(n,i).compare(new e(r,i)),B$}var U$,xH;function LGe(){if(xH)return U$;xH=1;const e=Wg();return U$=(n,r,i)=>e(n,r,i)===0,U$}var W$,bH;function IGe(){if(bH)return W$;bH=1;const e=Wg();return W$=(n,r,i)=>e(n,r,i)!==0,W$}var q$,_H;function RGe(){if(_H)return q$;_H=1;const e=Wg();return q$=(n,r,i)=>e(n,r,i)>0,q$}var H$,wH;function zGe(){if(wH)return H$;wH=1;const e=Wg();return H$=(n,r,i)=>e(n,r,i)>=0,H$}var G$,SH;function BGe(){if(SH)return G$;SH=1;const e=Wg();return G$=(n,r,i)=>e(n,r,i)<0,G$}var V$,AH;function UGe(){if(AH)return V$;AH=1;const e=Wg();return V$=(n,r,i)=>e(n,r,i)<=0,V$}var X$,EH;function WGe(){if(EH)return X$;EH=1;const e=LGe(),t=IGe(),n=RGe(),r=zGe(),i=BGe(),a=UGe();return X$=(s,l,u,c)=>{switch(l){case"===":return typeof s=="object"&&(s=s.version),typeof u=="object"&&(u=u.version),s===u;case"!==":return typeof s=="object"&&(s=s.version),typeof u=="object"&&(u=u.version),s!==u;case"":case"=":case"==":return e(s,u,c);case"!=":return t(s,u,c);case">":return n(s,u,c);case">=":return r(s,u,c);case"<":return i(s,u,c);case"<=":return a(s,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},X$}var Z$,kH;function qGe(){if(kH)return Z$;kH=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new s(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new s(c,this.options)}catch{return!1}return a(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||a(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||a(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}Z$=t;const n=J5(),{safeRe:r,t:i}=tz(),a=WGe(),o=uC(),s=nz(),l=oce();return Z$}var Y$,CH;function oce(){if(CH)return Y$;CH=1;const e=/\s+/g;class t{constructor(N,z){if(z=i(z),N instanceof t)return N.loose===!!z.loose&&N.includePrerelease===!!z.includePrerelease?N:new t(N.raw,z);if(N instanceof a)return this.raw=N.value,this.set=[[N]],this.formatted=void 0,this;if(this.options=z,this.loose=!!z.loose,this.includePrerelease=!!z.includePrerelease,this.raw=N.trim().replace(e," "),this.set=this.raw.split("||").map(q=>this.parseRange(q.trim())).filter(q=>q.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const q=this.set[0];if(this.set=this.set.filter(B=>!g(B[0])),this.set.length===0)this.set=[q];else if(this.set.length>1){for(const B of this.set)if(B.length===1&&v(B[0])){this.set=[B];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let N=0;N<this.set.length;N++){N>0&&(this.formatted+="||");const z=this.set[N];for(let q=0;q<z.length;q++)q>0&&(this.formatted+=" "),this.formatted+=z[q].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(N){const q=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+N,B=r.get(q);if(B)return B;const G=this.options.loose,M=G?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];N=N.replace(M,F(this.options.includePrerelease)),o("hyphen replace",N),N=N.replace(l[u.COMPARATORTRIM],c),o("comparator trim",N),N=N.replace(l[u.TILDETRIM],f),o("tilde trim",N),N=N.replace(l[u.CARETTRIM],d),o("caret trim",N);let K=N.split(" ").map(le=>b(le,this.options)).join(" ").split(/\s+/).map(le=>D(le,this.options));G&&(K=K.filter(le=>(o("loose invalid filter",le,this.options),!!le.match(l[u.COMPARATORLOOSE])))),o("range list",K);const Z=new Map,U=K.map(le=>new a(le,this.options));for(const le of U){if(g(le))return[le];Z.set(le.value,le)}Z.size>1&&Z.has("")&&Z.delete("");const me=[...Z.values()];return r.set(q,me),me}intersects(N,z){if(!(N instanceof t))throw new TypeError("a Range is required");return this.set.some(q=>x(q,z)&&N.set.some(B=>x(B,z)&&q.every(G=>B.every(M=>G.intersects(M,z)))))}test(N){if(!N)return!1;if(typeof N=="string")try{N=new s(N,this.options)}catch{return!1}for(let z=0;z<this.set.length;z++)if(W(this.set[z],N,this.options))return!0;return!1}}Y$=t;const n=DGe(),r=new n,i=J5(),a=qGe(),o=uC(),s=nz(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:f,caretTrimReplace:d}=tz(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=ez(),g=R=>R.value==="<0.0.0-0",v=R=>R.value==="",x=(R,N)=>{let z=!0;const q=R.slice();let B=q.pop();for(;z&&q.length;)z=q.every(G=>B.intersects(G,N)),B=q.pop();return z},b=(R,N)=>(o("comp",R,N),R=E(R,N),o("caret",R),R=k(R,N),o("tildes",R),R=P(R,N),o("xrange",R),R=j(R,N),o("stars",R),R),S=R=>!R||R.toLowerCase()==="x"||R==="*",k=(R,N)=>R.trim().split(/\s+/).map(z=>A(z,N)).join(" "),A=(R,N)=>{const z=N.loose?l[u.TILDELOOSE]:l[u.TILDE];return R.replace(z,(q,B,G,M,K)=>{o("tilde",R,q,B,G,M,K);let Z;return S(B)?Z="":S(G)?Z=`>=${B}.0.0 <${+B+1}.0.0-0`:S(M)?Z=`>=${B}.${G}.0 <${B}.${+G+1}.0-0`:K?(o("replaceTilde pr",K),Z=`>=${B}.${G}.${M}-${K} <${B}.${+G+1}.0-0`):Z=`>=${B}.${G}.${M} <${B}.${+G+1}.0-0`,o("tilde return",Z),Z})},E=(R,N)=>R.trim().split(/\s+/).map(z=>C(z,N)).join(" "),C=(R,N)=>{o("caret",R,N);const z=N.loose?l[u.CARETLOOSE]:l[u.CARET],q=N.includePrerelease?"-0":"";return R.replace(z,(B,G,M,K,Z)=>{o("caret",R,B,G,M,K,Z);let U;return S(G)?U="":S(M)?U=`>=${G}.0.0${q} <${+G+1}.0.0-0`:S(K)?G==="0"?U=`>=${G}.${M}.0${q} <${G}.${+M+1}.0-0`:U=`>=${G}.${M}.0${q} <${+G+1}.0.0-0`:Z?(o("replaceCaret pr",Z),G==="0"?M==="0"?U=`>=${G}.${M}.${K}-${Z} <${G}.${M}.${+K+1}-0`:U=`>=${G}.${M}.${K}-${Z} <${G}.${+M+1}.0-0`:U=`>=${G}.${M}.${K}-${Z} <${+G+1}.0.0-0`):(o("no pr"),G==="0"?M==="0"?U=`>=${G}.${M}.${K}${q} <${G}.${M}.${+K+1}-0`:U=`>=${G}.${M}.${K}${q} <${G}.${+M+1}.0-0`:U=`>=${G}.${M}.${K} <${+G+1}.0.0-0`),o("caret return",U),U})},P=(R,N)=>(o("replaceXRanges",R,N),R.split(/\s+/).map(z=>T(z,N)).join(" ")),T=(R,N)=>{R=R.trim();const z=N.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return R.replace(z,(q,B,G,M,K,Z)=>{o("xRange",R,q,B,G,M,K,Z);const U=S(G),me=U||S(M),le=me||S(K),ve=le;return B==="="&&ve&&(B=""),Z=N.includePrerelease?"-0":"",U?B===">"||B==="<"?q="<0.0.0-0":q="*":B&&ve?(me&&(M=0),K=0,B===">"?(B=">=",me?(G=+G+1,M=0,K=0):(M=+M+1,K=0)):B==="<="&&(B="<",me?G=+G+1:M=+M+1),B==="<"&&(Z="-0"),q=`${B+G}.${M}.${K}${Z}`):me?q=`>=${G}.0.0${Z} <${+G+1}.0.0-0`:le&&(q=`>=${G}.${M}.0${Z} <${G}.${+M+1}.0-0`),o("xRange return",q),q})},j=(R,N)=>(o("replaceStars",R,N),R.trim().replace(l[u.STAR],"")),D=(R,N)=>(o("replaceGTE0",R,N),R.trim().replace(l[N.includePrerelease?u.GTE0PRE:u.GTE0],"")),F=R=>(N,z,q,B,G,M,K,Z,U,me,le,ve)=>(S(q)?z="":S(B)?z=`>=${q}.0.0${R?"-0":""}`:S(G)?z=`>=${q}.${B}.0${R?"-0":""}`:M?z=`>=${z}`:z=`>=${z}${R?"-0":""}`,S(U)?Z="":S(me)?Z=`<${+U+1}.0.0-0`:S(le)?Z=`<${U}.${+me+1}.0-0`:ve?Z=`<=${U}.${me}.${le}-${ve}`:R?Z=`<${U}.${me}.${+le+1}-0`:Z=`<=${Z}`,`${z} ${Z}`.trim()),W=(R,N,z)=>{for(let q=0;q<R.length;q++)if(!R[q].test(N))return!1;if(N.prerelease.length&&!z.includePrerelease){for(let q=0;q<R.length;q++)if(o(R[q].semver),R[q].semver!==a.ANY&&R[q].semver.prerelease.length>0){const B=R[q].semver;if(B.major===N.major&&B.minor===N.minor&&B.patch===N.patch)return!0}return!1}return!0};return Y$}var K$,OH;function HGe(){if(OH)return K$;OH=1;const e=oce();return K$=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},K$}var GGe=HGe(),sce=jGe(GGe);function VGe(e,t,n){const r=e.open(t),i=250,{origin:a}=new URL(t);let o=40;function s(u){u.source===r&&(o=0,e.removeEventListener("message",s,!1))}e.addEventListener("message",s,!1);function l(){o<=0||(r.postMessage(n,a),setTimeout(l,i),o-=1)}setTimeout(l,i)}var XGe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function lce(e,...t){for(const n of t)ZGe(e,n);return e}function ZGe(e,t){for(const n of Object.keys(t))xg(e,n,t[n],!0)}const As=A5e;let d1=SHe;const w_=typeof window<"u"?window:void 0;var VX;d1===void 0&&((VX=w_==null?void 0:w_.vl)!=null&&VX.compile)&&(d1=w_.vl);const YGe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},KGe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Py={vega:"Vega","vega-lite":"Vega-Lite"},DS={vega:As.version,"vega-lite":d1?d1.version:"not available"},QGe={vega:e=>e,"vega-lite":(e,t)=>d1.compile(e,{config:t}).spec},JGe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,eVe="chart-wrapper";function tVe(e){return typeof e=="function"}function PH(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,a=`</code></pre>${n}</body></html>`,o=window.open("");o.document.write(i+e+a),o.document.title=`${Py[r]} JSON Source`}function nVe(e,t){if(e.$schema){const n=Yue(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${Py[n.library]}, but mode argument sets ${Py[t]??t}.`);const r=n.library;return sce(DS[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${Py[r]} ${n.version}, but the current version of ${Py[r]} is v${DS[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function uce(e){return!!(e&&"load"in e)}function $H(e){return uce(e)?e:As.loader(e)}function rVe(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return Ae(t.defaultStyle)&&(t.defaultStyle=!1),t}async function iVe(e,t,n={}){let r,i;Ae(t)?(i=$H(n.loader),r=JSON.parse(await i.load(t))):r=t;const a=rVe(r),o=a.loader;(!i||o)&&(i=$H(n.loader??o));const s=await TH(a,i),l=await TH(n,i),u={...lce(l,s),config:vg(l.config??{},s.config??{})};return await oVe(e,r,u,i)}async function TH(e,t){const n=Ae(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Ae(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function aVe(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function oVe(e,t,n={},r){const i=n.theme?vg(lGe[n.theme],n.config??{}):n.config,a=Qc(n.actions)?n.actions:lce({},YGe,n.actions??{}),o={...KGe,...n.i18n},s=n.renderer??"canvas",l=n.logLevel??As.Warn,u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const A="vega-embed-style",{root:E,rootContainer:C}=aVe(c);if(!E.getElementById(A)){const P=document.createElement("style");P.id=A,P.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?XGe.toString():n.defaultStyle,C.appendChild(P)}}const f=nVe(t,n.mode);let d=QGe[f](t,i);if(f==="vega-lite"&&d.$schema){const A=Yue(d.$schema);sce(DS.vega,`^${A.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${A.version}, but current version is v${DS.vega}.`)}c.classList.add("vega-embed"),a&&c.classList.add("has-actions"),c.innerHTML="";let p=c;if(a){const A=document.createElement("div");A.classList.add(eVe),c.appendChild(A),p=A}const m=n.patch;if(m&&(d=m instanceof Function?m(d):lC(d,m,!0,!1).newDocument),n.formatLocale&&As.formatLocale(n.formatLocale),n.timeFormatLocale&&As.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const A in n.expressionFunctions){const E=n.expressionFunctions[A];"fn"in E?As.expressionFunction(A,E.fn,E.visitor):E instanceof Function&&As.expressionFunction(A,E)}const{ast:g}=n,v=As.parse(d,f==="vega-lite"?{}:i,{ast:g}),x=new(n.viewClass||As.View)(v,{loader:r,logLevel:l,renderer:s,...g?{expr:As.expressionInterpreter??n.expr??j5e}:{}});if(x.addSignalListener("autosize",(A,E)=>{const{type:C}=E;C=="fit-x"?(p.classList.add("fit-x"),p.classList.remove("fit-y")):C=="fit-y"?(p.classList.remove("fit-x"),p.classList.add("fit-y")):C=="fit"?p.classList.add("fit-x","fit-y"):p.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:A,tooltip:E}=n,C=A&&!uce(A)?A==null?void 0:A.baseURL:void 0,P=tVe(E)?E:new vGe({baseURL:C,...E===!0?{}:E}).call;x.tooltip(P)}let{hover:b}=n;if(b===void 0&&(b=f==="vega"),b){const{hoverSet:A,updateSet:E}=typeof b=="boolean"?{}:b;x.hover(A,E)}n&&(n.width!=null&&x.width(n.width),n.height!=null&&x.height(n.height),n.padding!=null&&x.padding(n.padding)),await x.initialize(p,n.bind).runAsync();let S;if(a!==!1){let A=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const C=document.createElement("details");C.title=o.CLICK_TO_VIEW_ACTIONS,c.append(C),A=C;const P=document.createElement("summary");P.innerHTML=JGe,C.append(P),S=T=>{C.contains(T.target)||C.removeAttribute("open")},document.addEventListener("click",S)}const E=document.createElement("div");if(A.append(E),E.classList.add("vega-actions"),a===!0||a.export!==!1){for(const C of["svg","png"])if(a===!0||a.export===!0||a.export[C]){const P=o[`${C.toUpperCase()}_ACTION`],T=document.createElement("a"),j=Se(n.scaleFactor)?n.scaleFactor[C]:n.scaleFactor;T.text=P,T.href="#",T.target="_blank",T.download=`${u}.${C}`,T.addEventListener("mousedown",async function(D){D.preventDefault();const F=await x.toImageURL(C,j);this.href=F}),E.append(T)}}if(a===!0||a.source!==!1){const C=document.createElement("a");C.text=o.SOURCE_ACTION,C.href="#",C.addEventListener("click",function(P){PH(iP(t),n.sourceHeader??"",n.sourceFooter??"",f),P.preventDefault()}),E.append(C)}if(f==="vega-lite"&&(a===!0||a.compiled!==!1)){const C=document.createElement("a");C.text=o.COMPILED_ACTION,C.href="#",C.addEventListener("click",function(P){PH(iP(d),n.sourceHeader??"",n.sourceFooter??"","vega"),P.preventDefault()}),E.append(C)}if(a===!0||a.editor!==!1){const C=n.editorUrl??"https://vega.github.io/editor/",P=document.createElement("a");P.text=o.EDITOR_ACTION,P.href="#",P.addEventListener("click",function(T){VGe(window,C,{config:i,mode:m?"vega":f,renderer:s,spec:iP(m?d:t)}),T.preventDefault()}),E.append(P)}}function k(){S&&document.removeEventListener("click",S),x.finalize()}return{view:x,spec:t,vgSpec:d,finalize:k,embedOptions:n}}function sVe({spec:e,className:t=""}){const n=X.useRef(null);return X.useEffect(()=>{if(!n.current||!e)return;const r={...e,background:"transparent",config:{...e.config||{},view:{stroke:"transparent"},axis:{domainColor:"#475569",gridColor:"#334155",tickColor:"#475569",labelColor:"#94a3b8",titleColor:"#e2e8f0"},legend:{labelColor:"#94a3b8",titleColor:"#e2e8f0"},title:{color:"#e2e8f0"}}};return iVe(n.current,r,{actions:!1,theme:"dark",renderer:"svg"}).catch(console.error),()=>{n.current&&(n.current.innerHTML="")}},[e]),_.jsx("div",{ref:n,className:`vega-chart bg-navy-900/50 rounded-lg p-4 ${t}`})}const lVe=["Show me Ghost Cycle patterns","What sites have the most traffic?","Which equipment is least efficient?","Find choke points on haul roads","Summarize fleet utilization","What's the cycle time for Site Alpha?"];function uVe({siteId:e,onVisualizationRequest:t}){const[n,r]=X.useState([{id:"1",role:"assistant",content:` Hello! I'm **TERRA**, your Terrain & Equipment Route Resource Advisor.

I can help you analyze your construction operations across 8 sites with 152 equipment units. Ask me about:

-  **Ghost Cycles** - Find equipment wasting fuel
-  **Choke Points** - Detect haul road bottlenecks
-  **Cycle Times** - Optimize haul cycles
-  **Fleet Analytics** - Site-wide efficiency metrics

Try asking: *"Show me Ghost Cycle patterns"*`,sources:[],timestamp:new Date}]),[i,a]=X.useState(""),[o,s]=X.useState(!1),[l,u]=X.useState({}),c=X.useRef(null),f=()=>{var g;(g=c.current)==null||g.scrollIntoView({behavior:"smooth"})};X.useEffect(()=>{f()},[n]);const d=async g=>{if(!g.trim())return;const v={id:Date.now().toString(),role:"user",content:g.trim(),timestamp:new Date};r(S=>[...S,v]),a(""),s(!0);const x=(Date.now()+1).toString(),b={id:x,role:"assistant",content:"",thinkingSteps:[],isStreaming:!0,timestamp:new Date};r(S=>[...S,b]),u(S=>({...S,[x]:!0}));try{const S=await fetch("/api/chat/stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:g.trim(),site_id:e})});if(!S.ok||!S.body)throw new Error("Streaming not available");const k=S.body.getReader(),A=new TextDecoder;let E="",C="";const P=[];let T=[];for(;;){const{done:j,value:D}=await k.read();if(j)break;E+=A.decode(D,{stream:!0});const F=E.split(`

`);E=F.pop()||"";for(const W of F){if(!W.trim()||!W.startsWith("data:"))continue;const R=W.replace("data:","").trim();if(R!=="[DONE]")try{const N=JSON.parse(R);if(N.type==="text")C+=N.content||"",r(z=>z.map(q=>q.id===x?{...q,content:C}:q));else if(N.type==="thinking"){const z=N.content||"";if(z.length>20){const q={id:`step-${Date.now()}`,title:N.title||"Reasoning",content:z.slice(0,200)+(z.length>200?"...":""),status:"in_progress",sql:N.sql};P.length>=5&&P.shift(),P.push(q),P.slice(0,-1).forEach(B=>B.status="completed"),r(B=>B.map(G=>G.id===x?{...G,thinkingSteps:[...P]}:G))}}else if(N.type==="status"||N.type==="tool_status"){const z={id:`status-${Date.now()}`,title:N.title||N.status||"Processing",content:"",status:"in_progress"};P.push(z),P.slice(0,-1).forEach(q=>q.status="completed"),r(q=>q.map(B=>B.id===x?{...B,thinkingSteps:[...P]}:B))}else if(N.type==="tool_result"){if(N.sql){const z={id:`sql-${Date.now()}`,title:"SQL Executed",content:N.error||"Query completed",status:N.error?"pending":"completed",sql:N.sql};P.push(z),r(q=>q.map(B=>B.id===x?{...B,thinkingSteps:[...P]}:B))}}else if(N.type==="sources")T=N.sources||[];else if(N.type==="chart"){const z=N.chart_spec;z&&r(q=>q.map(B=>B.id===x?{...B,chartSpec:z}:B))}else N.type==="error"?(C+=`

 ${N.content||"An error occurred"}`,r(z=>z.map(q=>q.id===x?{...q,content:C}:q))):N.type}catch{}}}P.forEach(j=>j.status="completed"),r(j=>j.map(D=>D.id===x?{...D,content:C||"I processed your request.",thinkingSteps:[...P],sources:T,isStreaming:!1}:D)),setTimeout(()=>{u(j=>({...j,[x]:!1}))},2e3)}catch(S){console.log("Streaming failed, falling back to local:",S);try{const k=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:g.trim(),site_id:e})});if(!k.ok)throw new Error("Failed to get response");const A=await k.json();r(E=>E.map(C=>C.id===x?{...C,content:A.response,sources:A.sources,intent:A.intent,visualization:A.visualization,alert_level:A.alert_level,isStreaming:!1,thinkingSteps:[{id:"step-1",title:"Query Processing",content:"Analyzed your question",status:"completed"},{id:"step-2",title:"Data Retrieval",content:"Retrieved data from Snowflake",status:"completed"}]}:C)),A.visualization&&t&&t(A.visualization,A.context)}catch(k){console.error("Chat error:",k),r(A=>A.map(E=>E.id===x?{...E,content:"I encountered an error. Please try rephrasing your question.",isStreaming:!1}:E))}}finally{s(!1)}},p=g=>{g.preventDefault(),d(i)},m=g=>{u(v=>({...v,[g]:!v[g]}))};return _.jsxs("div",{className:"flex flex-col h-full",children:[_.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(g=>_.jsxs("div",{className:`flex gap-3 chat-message ${g.role==="user"?"justify-end":""}`,children:[g.role==="assistant"&&_.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-gradient-to-br from-terra-amber to-terra-orange flex items-center justify-center",children:_.jsx(Ad,{size:16,className:"text-white"})}),_.jsxs("div",{className:`max-w-[85%] ${g.role==="user"?"order-first":""}`,children:[g.role==="assistant"&&g.thinkingSteps&&g.thinkingSteps.length>0&&_.jsxs("div",{className:"mb-2",children:[_.jsxs("button",{onClick:()=>m(g.id),className:"flex items-center gap-2 text-xs text-slate-400 hover:text-slate-300 transition-colors mb-1",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[g.isStreaming?_.jsx(GO,{size:12,className:"animate-spin text-terra-amber"}):_.jsx(GB,{size:12,className:"text-terra-green"}),_.jsxs("span",{children:["Thinking steps (",g.thinkingSteps.length,")"]})]}),l[g.id]?_.jsx(n0e,{size:12}):_.jsx(sK,{size:12})]}),l[g.id]&&_.jsx("div",{className:"bg-navy-900/50 border border-navy-700/50 rounded-lg p-3 space-y-2",children:g.thinkingSteps.map(v=>_.jsxs("div",{className:"flex items-start gap-2",children:[v.status==="completed"?_.jsx(GB,{size:14,className:"text-terra-green mt-0.5 flex-shrink-0"}):v.status==="in_progress"?_.jsx(GO,{size:14,className:"animate-spin text-terra-amber mt-0.5 flex-shrink-0"}):_.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-slate-600 mt-0.5 flex-shrink-0"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"text-xs font-medium text-slate-300",children:v.title}),_.jsx("div",{className:"text-xs text-slate-500",children:v.content}),v.sql&&_.jsxs("div",{className:"mt-1 p-2 bg-navy-800 rounded text-xs font-mono text-slate-400 overflow-x-auto",children:[_.jsxs("div",{className:"flex items-center gap-1 text-terra-amber mb-1",children:[_.jsx(r0e,{size:10}),_.jsx("span",{children:"SQL"})]}),_.jsxs("pre",{className:"whitespace-pre-wrap break-all",children:[v.sql.slice(0,200),"..."]})]})]})]},v.id))})]}),_.jsx("div",{className:`rounded-lg p-4 ${g.role==="user"?"bg-terra-amber text-white":"bg-navy-800 border border-navy-600/50"}`,children:g.role==="assistant"?_.jsxs("div",{className:"markdown-content",children:[g.isStreaming&&!g.content?_.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[_.jsx(GO,{size:14,className:"animate-spin"}),_.jsx("span",{children:"Processing..."})]}):_.jsx(Rbe,{children:g.content}),g.chartSpec&&_.jsxs("div",{className:"mt-4",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs text-terra-amber",children:[_.jsx(Gw,{size:14}),_.jsx("span",{children:"Generated Visualization"})]}),_.jsx(sVe,{spec:g.chartSpec,className:"w-full"})]})]}):_.jsx("p",{children:g.content})}),g.role==="assistant"&&g.sources&&g.sources.length>0&&_.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[_.jsx(zy,{size:12}),_.jsx("span",{children:"Sources:"}),g.sources.map((v,x)=>_.jsx("span",{className:"px-2 py-0.5 bg-navy-700 rounded text-slate-400",children:v},x))]}),g.alert_level==="high"&&_.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-terra-amber",children:[_.jsx(hu,{size:12}),_.jsx("span",{children:"High-priority insight detected"})]})]}),g.role==="user"&&_.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-navy-600 flex items-center justify-center",children:_.jsx($0e,{size:16,className:"text-slate-300"})})]},g.id)),_.jsx("div",{ref:c})]}),n.length<=2&&_.jsxs("div",{className:"px-4 pb-2",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs text-slate-500",children:[_.jsx(E0e,{size:12}),_.jsx("span",{children:"Suggested questions"})]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:lVe.slice(0,4).map((g,v)=>_.jsx("button",{onClick:()=>d(g),className:"px-3 py-1.5 bg-navy-700/50 hover:bg-navy-600/50 rounded-full text-xs text-slate-300 hover:text-white transition-colors",children:g},v))})]}),_.jsx("form",{onSubmit:p,className:"p-4 border-t border-navy-700/50 relative z-10 bg-navy-900/80",children:_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"text",value:i,onChange:g=>a(g.target.value),placeholder:"Ask TERRA anything...",className:"flex-1 px-4 py-2.5 bg-navy-800 border border-navy-600 rounded-lg text-slate-100 placeholder-slate-500 focus:outline-none focus:border-terra-amber focus:ring-1 focus:ring-terra-amber/50 transition-all",disabled:o}),_.jsx("button",{type:"submit",disabled:o||!i.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:_.jsx(hK,{size:18})})]})})]})}function S_({label:e,value:t,unit:n,min:r,max:i,optimal:a,trend:o,icon:s,format:l=u=>u.toFixed(1)}){const u=(t-r)/(i-r)*100,c=Math.max(0,Math.min(100,u));let f="bg-accent-amber",d="text-accent-amber";a&&(t>=a.low&&t<=a.high?(f="bg-accent-green",d="text-accent-green"):(t<a.low*.8||t>a.high*1.2)&&(f="bg-accent-red",d="text-accent-red"));const p=o==="up"?Rs:o==="down"?P0e:m0e,m=o==="up"?"text-accent-green":o==="down"?"text-accent-red":"text-slate-500";return _.jsxs("div",{className:"bg-navy-700/50 rounded-lg p-3 border border-navy-600/50",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[s&&_.jsx("span",{className:"text-slate-400",children:s}),_.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wide",children:e})]}),o&&_.jsx(p,{size:14,className:m})]}),_.jsxs("div",{className:"flex items-baseline gap-1 mb-2",children:[_.jsx("span",{className:`text-xl font-mono font-bold ${d}`,children:l(t)}),_.jsx("span",{className:"text-xs text-slate-500",children:n})]}),_.jsx("div",{className:"h-1.5 bg-navy-600 rounded-full overflow-hidden",children:_.jsx("div",{className:`h-full ${f} rounded-full transition-all duration-500`,style:{width:`${c}%`}})}),a&&_.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-1",children:[_.jsx("span",{children:r}),_.jsxs("span",{className:"text-accent-green",children:[a.low,"-",a.high]}),_.jsx("span",{children:i})]})]})}function cVe({alert:e,onDismiss:t}){const r=(()=>{switch(e.type){case"ghost_cycle":return{container:"ghost-cycle",icon:c0e,iconColor:"text-orange-400",badge:"bg-orange-500/20 text-orange-400"};case"choke_point":return{container:"choke-point",icon:O0e,iconColor:"text-red-400",badge:"bg-red-500/20 text-red-400"};case"danger":return{container:"alert-glow border-l-4 border-safety-red bg-red-500/5",icon:Yge,iconColor:"text-red-400",badge:"bg-red-500/20 text-red-400"};case"warning":return{container:"border-l-4 border-safety-yellow bg-yellow-500/5",icon:hu,iconColor:"text-yellow-400",badge:"bg-yellow-500/20 text-yellow-400"};default:return{container:"border-l-4 border-accent-cyan bg-cyan-500/5",icon:d0e,iconColor:"text-cyan-400",badge:"bg-cyan-500/20 text-cyan-400"}}})(),i=r.icon;return _.jsx("div",{className:`card ${r.container} p-3 animate-slide-up`,children:_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("div",{className:`flex-shrink-0 mt-0.5 ${r.iconColor}`,children:_.jsx(i,{size:18})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${r.badge}`,children:e.type==="ghost_cycle"?"Ghost Cycle":e.type==="choke_point"?"Choke Point":e.type.charAt(0).toUpperCase()+e.type.slice(1)}),e.equipment_id&&_.jsx("span",{className:"text-xs text-stone-500 font-mono",children:e.equipment_id}),e.zone_name&&_.jsx("span",{className:"text-xs text-stone-500",children:e.zone_name})]}),_.jsx("h4",{className:"text-sm font-medium text-stone-200 mb-1",children:e.title}),_.jsx("p",{className:"text-xs text-stone-400",children:e.message}),e.fuel_waste&&_.jsx("div",{className:"mt-2 flex items-center gap-2",children:_.jsxs("span",{className:"text-xs text-orange-400",children:[" Est. waste: ",e.fuel_waste.toFixed(1)," gal/hr"]})}),e.recommendation&&_.jsx("div",{className:"mt-2 p-2 bg-earth-700/30 rounded-lg",children:_.jsxs("p",{className:"text-xs text-accent-amber",children:[" ",e.recommendation]})})]}),t&&_.jsx("button",{onClick:()=>t(e.id),className:"flex-shrink-0 p-1 hover:bg-earth-700 rounded transition-colors",children:_.jsx(M0e,{size:14,className:"text-stone-500"})})]})})}function fVe(){const[e,t]=X.useState({activeEquipment:42,totalEquipment:48,fuelBurnRate:847.3,idleTimePercent:18.5,avgLoadFactor:72.4,cycleCount:156,volumeToday:8420}),[n,r]=X.useState([{id:"1",type:"ghost_cycle",title:"Ghost Cycle Detected",message:"Truck T-15 showing movement but engine load at idle for past 18 minutes.",recommendation:"Check if stuck in traffic at North intersection.",location:"North Haul Road, Sector 3",timestamp:new Date(Date.now()-5*6e4)},{id:"2",type:"choke_point",title:"Choke Point Alert",message:"Average wait time at Stockpile B intersection increased to 12 minutes.",recommendation:"Consider relocating stockpile 50m east.",location:"Stockpile B Intersection",timestamp:new Date(Date.now()-12*6e4)}]),[i,a]=X.useState(null),[o]=X.useState([{name:"Orchestrator",icon:xp,status:"idle",lastAction:"Ready"},{name:"Site Historian",icon:$v,status:"idle",lastAction:"GPS data indexed"},{name:"Route Advisor",icon:Rs,status:"idle",lastAction:"7 routes analyzed"},{name:"Fleet Watchdog",icon:Zw,status:"active",lastAction:"Monitoring..."}]);X.useEffect(()=>{const c=setInterval(()=>{t(f=>({...f,fuelBurnRate:Math.max(700,Math.min(1e3,f.fuelBurnRate+(Math.random()-.5)*20)),idleTimePercent:Math.max(10,Math.min(30,f.idleTimePercent+(Math.random()-.5)*2)),avgLoadFactor:Math.max(60,Math.min(85,f.avgLoadFactor+(Math.random()-.5)*3)),cycleCount:f.cycleCount+(Math.random()>.7?1:0),volumeToday:f.volumeToday+Math.floor(Math.random()*50)}))},3e3);return()=>clearInterval(c)},[]);const s=c=>{r(f=>f.filter(d=>d.id!==c))},l=c=>{a(c)},u=c=>{switch(c){case"active":return"bg-emerald-400";case"processing":return"bg-amber-400 animate-pulse";default:return"bg-slate-500"}};return _.jsxs("div",{className:"h-screen flex flex-col animated-grid-bg",children:[_.jsx("header",{className:"bg-navy-800/80 backdrop-blur border-b border-navy-700 px-6 py-4",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl font-semibold text-slate-200",children:"Site Command"}),_.jsx("p",{className:"text-sm text-slate-400",children:"Project Alpha  Active Operations"})]}),_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsx("div",{className:"flex items-center gap-3",children:o.map((c,f)=>_.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-navy-700/50 border border-navy-600",title:`${c.name}: ${c.lastAction}`,children:[_.jsx(c.icon,{size:14,className:c.status==="active"?"text-emerald-400":"text-slate-400"}),_.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${u(c.status)}`})]},f))}),_.jsx("div",{className:"h-8 w-px bg-navy-700"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-2 h-2 bg-accent-green rounded-full status-online"}),_.jsx("span",{className:"text-sm text-slate-400",children:"Live"})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("p",{className:"text-2xl font-mono font-semibold text-amber-400 metric-glow",children:[e.volumeToday.toLocaleString()," yd"]}),_.jsx("p",{className:"text-xs text-slate-400",children:"Volume Today"})]})]})]})}),_.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[_.jsxs("div",{className:"w-80 border-r border-navy-700/50 flex flex-col overflow-hidden bg-navy-800/30",children:[_.jsxs("div",{className:"p-4 border-b border-navy-700/50",children:[_.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-3 flex items-center gap-2",children:[_.jsx(dN,{size:16,className:"text-amber-400"}),"Live Metrics",_.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[_.jsx("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"}),_.jsx("span",{className:"text-xs text-amber-400",children:"STREAMING"})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsx(S_,{label:"Fuel Burn",value:e.fuelBurnRate,unit:"gal/hr",min:500,max:1200,optimal:{low:650,high:850},trend:"up",icon:_.jsx(u0e,{size:14})}),_.jsx(S_,{label:"Idle Time",value:e.idleTimePercent,unit:"%",min:0,max:50,optimal:{low:5,high:15},trend:"up",icon:_.jsx(C0e,{size:14})}),_.jsx(S_,{label:"Load Factor",value:e.avgLoadFactor,unit:"%",min:0,max:100,optimal:{low:70,high:90},icon:_.jsx(v0e,{size:14})}),_.jsx(S_,{label:"Cycle Count",value:e.cycleCount,unit:"",min:0,max:300,trend:"up",icon:_.jsx(Rs,{size:14}),format:c=>c.toFixed(0)})]})]}),_.jsxs("div",{className:"p-4 border-b border-navy-700/50",children:[_.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-3 flex items-center gap-2",children:[_.jsx(Ed,{size:16,className:"text-cyan-400"}),"Equipment Status"]}),_.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[_.jsxs("div",{className:"bg-accent-green/10 rounded-lg p-2 border border-accent-green/20",children:[_.jsx("p",{className:"text-lg font-mono font-bold text-accent-green",children:"32"}),_.jsx("p",{className:"text-xs text-slate-500",children:"Hauling"})]}),_.jsxs("div",{className:"bg-accent-amber/10 rounded-lg p-2 border border-accent-amber/20",children:[_.jsx("p",{className:"text-lg font-mono font-bold text-accent-amber",children:"8"}),_.jsx("p",{className:"text-xs text-slate-500",children:"Idle"})]}),_.jsxs("div",{className:"bg-accent-red/10 rounded-lg p-2 border border-accent-red/20",children:[_.jsx("p",{className:"text-lg font-mono font-bold text-accent-red",children:"2"}),_.jsx("p",{className:"text-xs text-slate-500",children:"Maint"})]})]})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[_.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-3 flex items-center gap-2",children:[_.jsx(hu,{size:16,className:"text-amber-400"}),"Active Alerts",n.length>0&&_.jsx("span",{className:"ml-auto px-2 py-0.5 bg-amber-500/20 text-amber-400 text-xs rounded-full",children:n.length})]}),_.jsx("div",{className:"space-y-3",children:n.length===0?_.jsxs("div",{className:"text-center py-8",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/10 flex items-center justify-center mx-auto mb-3",children:_.jsx(Zw,{size:24,className:"text-emerald-400"})}),_.jsx("p",{className:"text-sm text-slate-400",children:"All systems nominal"})]}):n.map(c=>_.jsx(cVe,{alert:c,onDismiss:s},c.id))})]}),_.jsx("div",{className:"p-4 border-t border-navy-700/50 bg-navy-900/50",children:_.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(zy,{size:12,className:"text-blue-400"}),_.jsx("span",{className:"text-slate-500",children:"2.4M GPS points"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx($v,{size:12,className:"text-green-400"}),_.jsx("span",{className:"text-slate-500",children:"152 site docs"})]})]})})]}),_.jsx("div",{className:"flex-1 flex flex-col",children:_.jsx(uVe,{onContextUpdate:l})}),_.jsxs("div",{className:"w-80 border-l border-navy-700/50 overflow-y-auto bg-navy-800/30",children:[_.jsx("div",{className:"p-4 border-b border-navy-700/50",children:_.jsxs("h3",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:["Context Panel",_.jsx("span",{className:"ml-auto text-xs text-slate-500",children:"Powered by Cortex"})]})}),_.jsx("div",{className:"p-4",children:i&&Object.keys(i).length>0?_.jsxs("div",{className:"space-y-4 animate-slide-up",children:[i.query_results&&_.jsxs("div",{className:"card card-glow p-4",children:[_.jsxs("h4",{className:"text-xs text-amber-400 font-medium mb-2 flex items-center gap-2",children:[_.jsx(Rs,{size:12}),"Query Result"]}),i.query_results.results&&_.jsx("div",{className:"text-sm text-slate-300",children:i.query_results.results.slice(0,3).map((c,f)=>_.jsx("div",{className:"py-1 border-b border-navy-700 last:border-0",children:Object.entries(c).map(([d,p])=>_.jsxs("span",{className:"mr-2",children:[_.jsxs("span",{className:"text-slate-500",children:[d,":"]})," ",_.jsx("span",{className:"text-amber-300 font-mono",children:String(p)})]},d))},f))})]}),i.map_data&&_.jsxs("div",{className:"card card-glow p-4",children:[_.jsxs("h4",{className:"text-xs text-cyan-400 font-medium mb-2 flex items-center gap-2",children:[_.jsx(dN,{size:12}),"Location Data"]}),_.jsx("div",{className:"h-32 bg-navy-700/50 rounded-lg flex items-center justify-center text-slate-500 text-sm",children:"Map visualization placeholder"})]})]}):_.jsxs("div",{className:"text-center py-12",children:[_.jsxs("div",{className:"w-16 h-16 rounded-2xl bg-navy-700/50 flex items-center justify-center mx-auto mb-4 relative",children:[_.jsx(xp,{size:28,className:"text-slate-600"}),_.jsx("div",{className:"absolute inset-0 rounded-2xl border border-slate-700 animate-pulse"})]}),_.jsx("p",{className:"text-slate-400 text-sm",children:"Maps, data, and route analytics will appear here based on your conversation."}),_.jsx("p",{className:"text-slate-600 text-xs mt-2",children:"Try asking about choke points or Ghost Cycles."})]})})]})]})]})}function dVe({equipment:e}){const t=_K();return X.useEffect(()=>{if(e.length>0){const n=e.map(r=>[r.lat,r.lng]);t.fitBounds(n,{padding:[50,50]})}},[e,t]),null}function hVe(){const[e,t]=X.useState([]),[n,r]=X.useState([]),[i,a]=X.useState(null),[o,s]=X.useState(!0);X.useEffect(()=>{l()},[]);const l=async()=>{try{t([{id:"H-01",name:"CAT 793 #1",type:"haul_truck",lat:33.452,lng:-112.084,status:"working",speed:18,engineLoad:75,heading:45},{id:"H-02",name:"CAT 793 #2",type:"haul_truck",lat:33.4515,lng:-112.0825,status:"ghost_cycle",speed:3,engineLoad:18,heading:180},{id:"H-03",name:"CAT 793 #3",type:"haul_truck",lat:33.4508,lng:-112.085,status:"working",speed:22,engineLoad:82,heading:270},{id:"H-04",name:"CAT 793 #4",type:"haul_truck",lat:33.4525,lng:-112.0815,status:"idle",speed:0,engineLoad:12,heading:90},{id:"E-01",name:"CAT D10 #1",type:"excavator",lat:33.4512,lng:-112.0835,status:"working",speed:0,engineLoad:65,heading:0},{id:"L-01",name:"CAT 992 #1",type:"loader",lat:33.4518,lng:-112.083,status:"working",speed:5,engineLoad:70,heading:135}]),r([{id:"cp-1",name:"Stockpile B Intersection",lat:33.4522,lng:-112.082,severity:"high",waitTime:12,equipmentCount:4},{id:"cp-2",name:"North Road Bend",lat:33.453,lng:-112.0845,severity:"medium",waitTime:5,equipmentCount:2}])}catch(d){console.error("Failed to fetch equipment:",d)}finally{s(!1)}},u=d=>{switch(d){case"working":return"#22c55e";case"idle":return"#64748b";case"ghost_cycle":return"#f97316";default:return"#64748b"}},c=d=>{switch(d){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#22c55e";default:return"#64748b"}},f=e.filter(d=>d.status==="ghost_cycle").length;return o?_.jsx("div",{className:"h-full flex items-center justify-center",children:_.jsx("div",{className:"w-12 h-12 border-4 border-terra-amber border-t-transparent rounded-full animate-spin"})}):_.jsxs("div",{className:"h-full flex",style:{minHeight:"calc(100vh - 120px)"},children:[_.jsxs("div",{className:"flex-1 relative",style:{minHeight:"500px"},children:[_.jsxs("div",{className:"absolute top-4 left-4 z-[1000] flex gap-3",children:[_.jsxs("div",{className:"card px-4 py-2 flex items-center gap-2",children:[_.jsx(Ed,{size:18,className:"text-terra-amber"}),_.jsx("span",{className:"text-lg font-bold text-white",children:e.length}),_.jsx("span",{className:"text-sm text-slate-400",children:"Equipment"})]}),f>0&&_.jsxs("div",{className:"card px-4 py-2 flex items-center gap-2 border-orange-500/50",children:[_.jsx(hu,{size:18,className:"text-orange-400"}),_.jsx("span",{className:"text-lg font-bold text-orange-400",children:f}),_.jsx("span",{className:"text-sm text-slate-400",children:"Ghost Cycles"})]})]}),_.jsxs(wK,{center:[33.4515,-112.0832],zoom:16,className:"absolute inset-0",style:{background:"#0d1117",height:"100%",width:"100%"},children:[_.jsx(SK,{attribution:" CARTO",url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",subdomains:"abcd"}),_.jsx(dVe,{equipment:e}),n.map(d=>_.jsx(KB,{center:[d.lat,d.lng],radius:20,pathOptions:{color:c(d.severity),fillColor:c(d.severity),fillOpacity:.3,weight:2,dashArray:"5, 5"},children:_.jsx(yN,{children:_.jsxs("div",{className:"p-2 bg-navy-800 rounded min-w-[180px]",children:[_.jsx("div",{className:"font-bold text-white",children:d.name}),_.jsxs("div",{className:"text-sm text-red-400",children:[" Choke Point - ",d.severity]}),_.jsxs("div",{className:"text-sm text-slate-400",children:["Wait time: ",d.waitTime," min"]}),_.jsxs("div",{className:"text-sm text-slate-400",children:[d.equipmentCount," trucks waiting"]})]})})},d.id)),e.map(d=>_.jsx(KB,{center:[d.lat,d.lng],radius:d.status==="ghost_cycle"?10:8,pathOptions:{color:u(d.status),fillColor:u(d.status),fillOpacity:.8,weight:d.status==="ghost_cycle"?3:2},eventHandlers:{click:()=>a(d)},children:_.jsx(yN,{children:_.jsxs("div",{className:"p-2 min-w-[180px] bg-navy-800 rounded",children:[_.jsx("div",{className:"font-bold text-white",children:d.name}),_.jsx("div",{className:"text-xs text-slate-400 mb-2",children:d.id}),_.jsx("div",{className:`inline-block px-2 py-0.5 rounded text-xs font-medium mb-2 ${d.status==="ghost_cycle"?"bg-orange-500/20 text-orange-400":d.status==="working"?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:d.status==="ghost_cycle"?" GHOST CYCLE":d.status.toUpperCase()}),_.jsxs("div",{className:"space-y-1 text-sm",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-slate-400",children:"Speed:"}),_.jsxs("span",{className:"text-white",children:[d.speed," mph"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-slate-400",children:"Engine Load:"}),_.jsxs("span",{className:d.engineLoad<30?"text-orange-400":"text-white",children:[d.engineLoad,"%"]})]})]}),d.status==="ghost_cycle"&&_.jsxs("div",{className:"mt-2 p-2 bg-orange-500/10 rounded text-xs text-orange-300",children:["Moving (",d.speed," mph) but low engine load (",d.engineLoad,"%) = wasting fuel"]})]})})},d.id))]}),_.jsxs("div",{className:"absolute bottom-4 left-4 z-[1000] card p-3",children:[_.jsx("div",{className:"text-xs font-medium text-slate-400 mb-2",children:"Status"}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),_.jsx("span",{className:"text-xs text-slate-300",children:"Working"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-500"}),_.jsx("span",{className:"text-xs text-slate-300",children:"Idle"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500 animate-pulse"}),_.jsx("span",{className:"text-xs text-slate-300",children:"Ghost Cycle"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-dashed border-red-500"}),_.jsx("span",{className:"text-xs text-slate-300",children:"Choke Point"})]})]})]})]}),_.jsx("div",{className:"w-80 border-l border-navy-700 bg-navy-900/50 overflow-y-auto p-4",children:i?_.jsxs("div",{children:[_.jsxs("button",{onClick:()=>a(null),className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white mb-4",children:[_.jsx(Kge,{size:16})," Back to list"]}),_.jsxs("div",{className:"card p-4",children:[_.jsx("h3",{className:"font-bold text-white text-lg",children:i.name}),_.jsx("p",{className:"text-sm text-slate-500 mb-4",children:i.id}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-slate-400",children:"Status"}),_.jsx("span",{className:i.status==="ghost_cycle"?"text-orange-400":i.status==="working"?"text-green-400":"text-slate-400",children:i.status==="ghost_cycle"?"Ghost Cycle ":i.status})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-slate-400",children:"Speed"}),_.jsxs("span",{className:"text-white",children:[i.speed," mph"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-slate-400",children:"Engine Load"}),_.jsxs("span",{className:"text-white",children:[i.engineLoad,"%"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-slate-400",children:"Heading"}),_.jsxs("span",{className:"text-white flex items-center gap-1",children:[_.jsx(g0e,{size:14,style:{transform:`rotate(${i.heading}deg)`}}),i.heading,""]})]})]})]})]}):_.jsxs("div",{children:[_.jsx("h3",{className:"font-medium text-slate-200 mb-4",children:"Equipment List"}),_.jsx("div",{className:"space-y-2",children:e.map(d=>_.jsx("button",{onClick:()=>a(d),className:`w-full card p-3 text-left hover:border-terra-amber/30 transition ${d.status==="ghost_cycle"?"border-orange-500/30":""}`,children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-medium text-slate-200",children:d.name}),_.jsx("div",{className:"text-xs text-slate-500",children:d.id})]}),_.jsx("div",{className:`w-3 h-3 rounded-full ${d.status==="ghost_cycle"?"bg-orange-500 animate-pulse":d.status==="working"?"bg-green-500":"bg-slate-500"}`})]})},d.id))})]})})]})}function cce(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=cce(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=cce(e))&&(r&&(r+=" "),r+=t);return r}var pVe=Array.isArray,ra=pVe,mVe=typeof Wl=="object"&&Wl&&Wl.Object===Object&&Wl,fce=mVe,gVe=fce,yVe=typeof self=="object"&&self&&self.Object===Object&&self,vVe=gVe||yVe||Function("return this")(),bl=vVe,xVe=bl,bVe=xVe.Symbol,Xx=bVe,NH=Xx,dce=Object.prototype,_Ve=dce.hasOwnProperty,wVe=dce.toString,Z0=NH?NH.toStringTag:void 0;function SVe(e){var t=_Ve.call(e,Z0),n=e[Z0];try{e[Z0]=void 0;var r=!0}catch{}var i=wVe.call(e);return r&&(t?e[Z0]=n:delete e[Z0]),i}var AVe=SVe,EVe=Object.prototype,kVe=EVe.toString;function CVe(e){return kVe.call(e)}var OVe=CVe,MH=Xx,PVe=AVe,$Ve=OVe,TVe="[object Null]",NVe="[object Undefined]",jH=MH?MH.toStringTag:void 0;function MVe(e){return e==null?e===void 0?NVe:TVe:jH&&jH in Object(e)?PVe(e):$Ve(e)}var Nu=MVe;function jVe(e){return e!=null&&typeof e=="object"}var Mu=jVe,DVe=Nu,FVe=Mu,LVe="[object Symbol]";function IVe(e){return typeof e=="symbol"||FVe(e)&&DVe(e)==LVe}var qg=IVe,RVe=ra,zVe=qg,BVe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,UVe=/^\w*$/;function WVe(e,t){if(RVe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||zVe(e)?!0:UVe.test(e)||!BVe.test(e)||t!=null&&e in Object(t)}var rz=WVe;function qVe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var mf=qVe;const Hg=kt(mf);var HVe=Nu,GVe=mf,VVe="[object AsyncFunction]",XVe="[object Function]",ZVe="[object GeneratorFunction]",YVe="[object Proxy]";function KVe(e){if(!GVe(e))return!1;var t=HVe(e);return t==XVe||t==ZVe||t==VVe||t==YVe}var iz=KVe;const qe=kt(iz);var QVe=bl,JVe=QVe["__core-js_shared__"],eXe=JVe,Q$=eXe,DH=function(){var e=/[^.]+$/.exec(Q$&&Q$.keys&&Q$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function tXe(e){return!!DH&&DH in e}var nXe=tXe,rXe=Function.prototype,iXe=rXe.toString;function aXe(e){if(e!=null){try{return iXe.call(e)}catch{}try{return e+""}catch{}}return""}var hce=aXe,oXe=iz,sXe=nXe,lXe=mf,uXe=hce,cXe=/[\\^$.*+?()[\]{}|]/g,fXe=/^\[object .+?Constructor\]$/,dXe=Function.prototype,hXe=Object.prototype,pXe=dXe.toString,mXe=hXe.hasOwnProperty,gXe=RegExp("^"+pXe.call(mXe).replace(cXe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yXe(e){if(!lXe(e)||sXe(e))return!1;var t=oXe(e)?gXe:fXe;return t.test(uXe(e))}var vXe=yXe;function xXe(e,t){return e==null?void 0:e[t]}var bXe=xXe,_Xe=vXe,wXe=bXe;function SXe(e,t){var n=wXe(e,t);return _Xe(n)?n:void 0}var kh=SXe,AXe=kh,EXe=AXe(Object,"create"),cC=EXe,FH=cC;function kXe(){this.__data__=FH?FH(null):{},this.size=0}var CXe=kXe;function OXe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var PXe=OXe,$Xe=cC,TXe="__lodash_hash_undefined__",NXe=Object.prototype,MXe=NXe.hasOwnProperty;function jXe(e){var t=this.__data__;if($Xe){var n=t[e];return n===TXe?void 0:n}return MXe.call(t,e)?t[e]:void 0}var DXe=jXe,FXe=cC,LXe=Object.prototype,IXe=LXe.hasOwnProperty;function RXe(e){var t=this.__data__;return FXe?t[e]!==void 0:IXe.call(t,e)}var zXe=RXe,BXe=cC,UXe="__lodash_hash_undefined__";function WXe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=BXe&&t===void 0?UXe:t,this}var qXe=WXe,HXe=CXe,GXe=PXe,VXe=DXe,XXe=zXe,ZXe=qXe;function Gg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gg.prototype.clear=HXe;Gg.prototype.delete=GXe;Gg.prototype.get=VXe;Gg.prototype.has=XXe;Gg.prototype.set=ZXe;var YXe=Gg;function KXe(){this.__data__=[],this.size=0}var QXe=KXe;function JXe(e,t){return e===t||e!==e&&t!==t}var az=JXe,eZe=az;function tZe(e,t){for(var n=e.length;n--;)if(eZe(e[n][0],t))return n;return-1}var fC=tZe,nZe=fC,rZe=Array.prototype,iZe=rZe.splice;function aZe(e){var t=this.__data__,n=nZe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():iZe.call(t,n,1),--this.size,!0}var oZe=aZe,sZe=fC;function lZe(e){var t=this.__data__,n=sZe(t,e);return n<0?void 0:t[n][1]}var uZe=lZe,cZe=fC;function fZe(e){return cZe(this.__data__,e)>-1}var dZe=fZe,hZe=fC;function pZe(e,t){var n=this.__data__,r=hZe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var mZe=pZe,gZe=QXe,yZe=oZe,vZe=uZe,xZe=dZe,bZe=mZe;function Vg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Vg.prototype.clear=gZe;Vg.prototype.delete=yZe;Vg.prototype.get=vZe;Vg.prototype.has=xZe;Vg.prototype.set=bZe;var dC=Vg,_Ze=kh,wZe=bl,SZe=_Ze(wZe,"Map"),oz=SZe,LH=YXe,AZe=dC,EZe=oz;function kZe(){this.size=0,this.__data__={hash:new LH,map:new(EZe||AZe),string:new LH}}var CZe=kZe;function OZe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var PZe=OZe,$Ze=PZe;function TZe(e,t){var n=e.__data__;return $Ze(t)?n[typeof t=="string"?"string":"hash"]:n.map}var hC=TZe,NZe=hC;function MZe(e){var t=NZe(this,e).delete(e);return this.size-=t?1:0,t}var jZe=MZe,DZe=hC;function FZe(e){return DZe(this,e).get(e)}var LZe=FZe,IZe=hC;function RZe(e){return IZe(this,e).has(e)}var zZe=RZe,BZe=hC;function UZe(e,t){var n=BZe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var WZe=UZe,qZe=CZe,HZe=jZe,GZe=LZe,VZe=zZe,XZe=WZe;function Xg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xg.prototype.clear=qZe;Xg.prototype.delete=HZe;Xg.prototype.get=GZe;Xg.prototype.has=VZe;Xg.prototype.set=XZe;var sz=Xg,pce=sz,ZZe="Expected a function";function lz(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ZZe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(lz.Cache||pce),n}lz.Cache=pce;var mce=lz;const YZe=kt(mce);var KZe=mce,QZe=500;function JZe(e){var t=KZe(e,function(r){return n.size===QZe&&n.clear(),r}),n=t.cache;return t}var eYe=JZe,tYe=eYe,nYe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rYe=/\\(\\)?/g,iYe=tYe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(nYe,function(n,r,i,a){t.push(i?a.replace(rYe,"$1"):r||n)}),t}),aYe=iYe;function oYe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var uz=oYe,IH=Xx,sYe=uz,lYe=ra,uYe=qg,RH=IH?IH.prototype:void 0,zH=RH?RH.toString:void 0;function gce(e){if(typeof e=="string")return e;if(lYe(e))return sYe(e,gce)+"";if(uYe(e))return zH?zH.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var cYe=gce,fYe=cYe;function dYe(e){return e==null?"":fYe(e)}var yce=dYe,hYe=ra,pYe=rz,mYe=aYe,gYe=yce;function yYe(e,t){return hYe(e)?e:pYe(e,t)?[e]:mYe(gYe(e))}var vce=yYe,vYe=qg;function xYe(e){if(typeof e=="string"||vYe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var pC=xYe,bYe=vce,_Ye=pC;function wYe(e,t){t=bYe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[_Ye(t[n++])];return n&&n==r?e:void 0}var cz=wYe,SYe=cz;function AYe(e,t,n){var r=e==null?void 0:SYe(e,t);return r===void 0?n:r}var xce=AYe;const Aa=kt(xce);function EYe(e){return e==null}var kYe=EYe;const Ze=kt(kYe);var CYe=Nu,OYe=ra,PYe=Mu,$Ye="[object String]";function TYe(e){return typeof e=="string"||!OYe(e)&&PYe(e)&&CYe(e)==$Ye}var NYe=TYe;const Yd=kt(NYe);var bce={exports:{}},It={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fz=Symbol.for("react.element"),dz=Symbol.for("react.portal"),mC=Symbol.for("react.fragment"),gC=Symbol.for("react.strict_mode"),yC=Symbol.for("react.profiler"),vC=Symbol.for("react.provider"),xC=Symbol.for("react.context"),MYe=Symbol.for("react.server_context"),bC=Symbol.for("react.forward_ref"),_C=Symbol.for("react.suspense"),wC=Symbol.for("react.suspense_list"),SC=Symbol.for("react.memo"),AC=Symbol.for("react.lazy"),jYe=Symbol.for("react.offscreen"),_ce;_ce=Symbol.for("react.module.reference");function bo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case fz:switch(e=e.type,e){case mC:case yC:case gC:case _C:case wC:return e;default:switch(e=e&&e.$$typeof,e){case MYe:case xC:case bC:case AC:case SC:case vC:return e;default:return t}}case dz:return t}}}It.ContextConsumer=xC;It.ContextProvider=vC;It.Element=fz;It.ForwardRef=bC;It.Fragment=mC;It.Lazy=AC;It.Memo=SC;It.Portal=dz;It.Profiler=yC;It.StrictMode=gC;It.Suspense=_C;It.SuspenseList=wC;It.isAsyncMode=function(){return!1};It.isConcurrentMode=function(){return!1};It.isContextConsumer=function(e){return bo(e)===xC};It.isContextProvider=function(e){return bo(e)===vC};It.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===fz};It.isForwardRef=function(e){return bo(e)===bC};It.isFragment=function(e){return bo(e)===mC};It.isLazy=function(e){return bo(e)===AC};It.isMemo=function(e){return bo(e)===SC};It.isPortal=function(e){return bo(e)===dz};It.isProfiler=function(e){return bo(e)===yC};It.isStrictMode=function(e){return bo(e)===gC};It.isSuspense=function(e){return bo(e)===_C};It.isSuspenseList=function(e){return bo(e)===wC};It.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===mC||e===yC||e===gC||e===_C||e===wC||e===jYe||typeof e=="object"&&e!==null&&(e.$$typeof===AC||e.$$typeof===SC||e.$$typeof===vC||e.$$typeof===xC||e.$$typeof===bC||e.$$typeof===_ce||e.getModuleId!==void 0)};It.typeOf=bo;bce.exports=It;var DYe=bce.exports,FYe=Nu,LYe=Mu,IYe="[object Number]";function RYe(e){return typeof e=="number"||LYe(e)&&FYe(e)==IYe}var wce=RYe;const zYe=kt(wce);var BYe=wce;function UYe(e){return BYe(e)&&e!=+e}var WYe=UYe;const Zg=kt(WYe);var yi=function(t){return t===0?0:t>0?1:-1},nd=function(t){return Yd(t)&&t.indexOf("%")===t.length-1},he=function(t){return zYe(t)&&!Zg(t)},qYe=function(t){return Ze(t)},Yn=function(t){return he(t)||Yd(t)},HYe=0,Ch=function(t){var n=++HYe;return"".concat(t||"").concat(n)},vi=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&!Yd(t))return r;var a;if(nd(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Zg(a)&&(a=r),i&&a>n&&(a=n),a},rc=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},GYe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Hn=function(t,n){return he(t)&&he(n)?function(r){return t+r*(n-t)}:function(){return n}};function FS(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Aa(r,t))===n})}var VYe=function(t,n){return he(t)&&he(n)?t-n:Yd(t)&&Yd(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Kp(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Hj(e){"@babel/helpers - typeof";return Hj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hj(e)}var XYe=["viewBox","children"],ZYe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BH=["points","pathLength"],J$={svg:XYe,polygon:BH,polyline:BH},hz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],LS=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(X.isValidElement(t)&&(r=t.props),!Hg(r))return null;var i={};return Object.keys(r).forEach(function(a){hz.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},YYe=function(t,n,r){return function(i){return t(n,r,i),null}},Kd=function(t,n,r){if(!Hg(t)||Hj(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];hz.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=YYe(o,n,r))}),i},KYe=["children"],QYe=["children"];function UH(e,t){if(e==null)return{};var n=JYe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JYe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Gj(e){"@babel/helpers - typeof";return Gj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gj(e)}var WH={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},su=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},qH=null,eT=null,pz=function e(t){if(t===qH&&Array.isArray(eT))return eT;var n=[];return X.Children.forEach(t,function(r){Ze(r)||(DYe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),eT=n,qH=t,n};function Ea(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return su(i)}):r=[su(t)],pz(e).forEach(function(i){var a=Aa(i,"type.displayName")||Aa(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function fa(e,t){var n=Ea(e,t);return n&&n[0]}var HH=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!he(r)||r<=0||!he(i)||i<=0)},eKe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tKe=function(t){return t&&t.type&&Yd(t.type)&&eKe.indexOf(t.type)>=0},Sce=function(t){return t&&Gj(t)==="object"&&"clipDot"in t},nKe=function(t,n,r,i){var a,o=(a=J$==null?void 0:J$[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!qe(t)&&(i&&o.includes(n)||ZYe.includes(n))||r&&hz.includes(n)},je=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(X.isValidElement(t)&&(i=t.props),!Hg(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;nKe((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},Vj=function e(t,n){if(t===n)return!0;var r=X.Children.count(t);if(r!==X.Children.count(n))return!1;if(r===0)return!0;if(r===1)return GH(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!GH(a,o))return!1}return!0},GH=function(t,n){if(Ze(t)&&Ze(n))return!0;if(!Ze(t)&&!Ze(n)){var r=t.props||{},i=r.children,a=UH(r,KYe),o=n.props||{},s=o.children,l=UH(o,QYe);return i&&s?Kp(a,l)&&Vj(i,s):!i&&!s?Kp(a,l):!1}return!1},VH=function(t,n){var r=[],i={};return pz(t).forEach(function(a,o){if(tKe(a))r.push(a);else if(a){var s=su(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},rKe=function(t){var n=t&&t.type;return n&&WH[n]?WH[n]:null},iKe=function(t,n){return pz(n).indexOf(t)},aKe=["children","width","height","viewBox","className","style","title","desc"];function Xj(){return Xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xj.apply(this,arguments)}function oKe(e,t){if(e==null)return{};var n=sKe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sKe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Zj(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,u=oKe(e,aKe),c=i||{width:n,height:r,x:0,y:0},f=Ke("recharts-surface",a);return H.createElement("svg",Xj({},je(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),H.createElement("title",null,s),H.createElement("desc",null,l),t)}var lKe=["children","className"];function Yj(){return Yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yj.apply(this,arguments)}function uKe(e,t){if(e==null)return{};var n=cKe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cKe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ct=H.forwardRef(function(e,t){var n=e.children,r=e.className,i=uKe(e,lKe),a=Ke("recharts-layer",r);return H.createElement("g",Yj({className:a},je(i,!0),{ref:t}),n)}),Zo=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function fKe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var dKe=fKe,hKe=dKe;function pKe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:hKe(e,t,n)}var mKe=pKe,gKe="\\ud800-\\udfff",yKe="\\u0300-\\u036f",vKe="\\ufe20-\\ufe2f",xKe="\\u20d0-\\u20ff",bKe=yKe+vKe+xKe,_Ke="\\ufe0e\\ufe0f",wKe="\\u200d",SKe=RegExp("["+wKe+gKe+bKe+_Ke+"]");function AKe(e){return SKe.test(e)}var Ace=AKe;function EKe(e){return e.split("")}var kKe=EKe,Ece="\\ud800-\\udfff",CKe="\\u0300-\\u036f",OKe="\\ufe20-\\ufe2f",PKe="\\u20d0-\\u20ff",$Ke=CKe+OKe+PKe,TKe="\\ufe0e\\ufe0f",NKe="["+Ece+"]",Kj="["+$Ke+"]",Qj="\\ud83c[\\udffb-\\udfff]",MKe="(?:"+Kj+"|"+Qj+")",kce="[^"+Ece+"]",Cce="(?:\\ud83c[\\udde6-\\uddff]){2}",Oce="[\\ud800-\\udbff][\\udc00-\\udfff]",jKe="\\u200d",Pce=MKe+"?",$ce="["+TKe+"]?",DKe="(?:"+jKe+"(?:"+[kce,Cce,Oce].join("|")+")"+$ce+Pce+")*",FKe=$ce+Pce+DKe,LKe="(?:"+[kce+Kj+"?",Kj,Cce,Oce,NKe].join("|")+")",IKe=RegExp(Qj+"(?="+Qj+")|"+LKe+FKe,"g");function RKe(e){return e.match(IKe)||[]}var zKe=RKe,BKe=kKe,UKe=Ace,WKe=zKe;function qKe(e){return UKe(e)?WKe(e):BKe(e)}var HKe=qKe,GKe=mKe,VKe=Ace,XKe=HKe,ZKe=yce;function YKe(e){return function(t){t=ZKe(t);var n=VKe(t)?XKe(t):void 0,r=n?n[0]:t.charAt(0),i=n?GKe(n,1).join(""):t.slice(1);return r[e]()+i}}var KKe=YKe,QKe=KKe,JKe=QKe("toUpperCase"),eQe=JKe;const EC=kt(eQe);function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}var tQe=["type","size","sizeType"];function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jj.apply(this,arguments)}function XH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XH(Object(n),!0).forEach(function(r){nQe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nQe(e,t,n){return t=rQe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rQe(e){var t=iQe(e,"string");return h1(t)=="symbol"?t:t+""}function iQe(e,t){if(h1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(h1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aQe(e,t){if(e==null)return{};var n=oQe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oQe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Tce={symbolCircle:BL,symbolCross:SAe,symbolDiamond:EAe,symbolSquare:kAe,symbolStar:$Ae,symbolTriangle:TAe,symbolWye:MAe},sQe=Math.PI/180,lQe=function(t){var n="symbol".concat(EC(t));return Tce[n]||BL},uQe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*sQe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},cQe=function(t,n){Tce["symbol".concat(EC(t))]=n},mz=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=aQe(t,tQe),u=ZH(ZH({},l),{},{type:r,size:a,sizeType:s}),c=function(){var v=lQe(r),x=Fee().type(v).size(uQe(a,s,r));return x()},f=u.className,d=u.cx,p=u.cy,m=je(u,!0);return d===+d&&p===+p&&a===+a?H.createElement("path",Jj({},m,{className:Ke("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};mz.registerSymbol=cQe;function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function e3(){return e3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e3.apply(this,arguments)}function YH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fQe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YH(Object(n),!0).forEach(function(r){p1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hQe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mce(r.key),r)}}function pQe(e,t,n){return t&&hQe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mQe(e,t,n){return t=IS(t),gQe(e,Nce()?Reflect.construct(t,n||[],IS(e).constructor):t.apply(e,n))}function gQe(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yQe(e)}function yQe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nce=function(){return!!e})()}function IS(e){return IS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IS(e)}function vQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t3(e,t)}function p1(e,t,n){return t=Mce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mce(e){var t=xQe(e,"string");return Wm(t)=="symbol"?t:t+""}function xQe(e,t){if(Wm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wa=32,gz=function(e){function t(){return dQe(this,t),mQe(this,t,arguments)}return vQe(t,e),pQe(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Wa/2,o=Wa/6,s=Wa/3,l=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Wa,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Wa,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wa/8,"h").concat(Wa,"v").concat(Wa*3/4,"h").concat(-Wa,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var u=fQe({},r);return delete u.legendIcon,H.cloneElement(r.legendIcon,u)}return H.createElement(mz,{fill:l,cx:a,cy:a,size:Wa,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Wa,height:Wa},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,v=Ke(p1(p1({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=qe(p.value)?null:p.value;Zo(!qe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return H.createElement("li",e3({className:v,style:f,key:"legend-item-".concat(m)},Kd(r.props,p,m)),H.createElement(Zj,{width:o,height:o,viewBox:c,style:d},r.renderIcon(p)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(x,p,m):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(X.PureComponent);p1(gz,"displayName","Legend");p1(gz,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bQe=dC;function _Qe(){this.__data__=new bQe,this.size=0}var wQe=_Qe;function SQe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var AQe=SQe;function EQe(e){return this.__data__.get(e)}var kQe=EQe;function CQe(e){return this.__data__.has(e)}var OQe=CQe,PQe=dC,$Qe=oz,TQe=sz,NQe=200;function MQe(e,t){var n=this.__data__;if(n instanceof PQe){var r=n.__data__;if(!$Qe||r.length<NQe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new TQe(r)}return n.set(e,t),this.size=n.size,this}var jQe=MQe,DQe=dC,FQe=wQe,LQe=AQe,IQe=kQe,RQe=OQe,zQe=jQe;function Yg(e){var t=this.__data__=new DQe(e);this.size=t.size}Yg.prototype.clear=FQe;Yg.prototype.delete=LQe;Yg.prototype.get=IQe;Yg.prototype.has=RQe;Yg.prototype.set=zQe;var jce=Yg,BQe="__lodash_hash_undefined__";function UQe(e){return this.__data__.set(e,BQe),this}var WQe=UQe;function qQe(e){return this.__data__.has(e)}var HQe=qQe,GQe=sz,VQe=WQe,XQe=HQe;function RS(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new GQe;++t<n;)this.add(e[t])}RS.prototype.add=RS.prototype.push=VQe;RS.prototype.has=XQe;var Dce=RS;function ZQe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Fce=ZQe;function YQe(e,t){return e.has(t)}var Lce=YQe,KQe=Dce,QQe=Fce,JQe=Lce,eJe=1,tJe=2;function nJe(e,t,n,r,i,a){var o=n&eJe,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,p=n&tJe?new KQe:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var m=e[f],g=t[f];if(r)var v=o?r(g,m,f,t,e,a):r(m,g,f,e,t,a);if(v!==void 0){if(v)continue;d=!1;break}if(p){if(!QQe(t,function(x,b){if(!JQe(p,b)&&(m===x||i(m,x,n,r,a)))return p.push(b)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,a))){d=!1;break}}return a.delete(e),a.delete(t),d}var Ice=nJe,rJe=bl,iJe=rJe.Uint8Array,aJe=iJe;function oJe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var sJe=oJe;function lJe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var yz=lJe,KH=Xx,QH=aJe,uJe=az,cJe=Ice,fJe=sJe,dJe=yz,hJe=1,pJe=2,mJe="[object Boolean]",gJe="[object Date]",yJe="[object Error]",vJe="[object Map]",xJe="[object Number]",bJe="[object RegExp]",_Je="[object Set]",wJe="[object String]",SJe="[object Symbol]",AJe="[object ArrayBuffer]",EJe="[object DataView]",JH=KH?KH.prototype:void 0,tT=JH?JH.valueOf:void 0;function kJe(e,t,n,r,i,a,o){switch(n){case EJe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case AJe:return!(e.byteLength!=t.byteLength||!a(new QH(e),new QH(t)));case mJe:case gJe:case xJe:return uJe(+e,+t);case yJe:return e.name==t.name&&e.message==t.message;case bJe:case wJe:return e==t+"";case vJe:var s=fJe;case _Je:var l=r&hJe;if(s||(s=dJe),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=pJe,o.set(e,t);var c=cJe(s(e),s(t),r,i,a,o);return o.delete(e),c;case SJe:if(tT)return tT.call(e)==tT.call(t)}return!1}var CJe=kJe;function OJe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Rce=OJe,PJe=Rce,$Je=ra;function TJe(e,t,n){var r=t(e);return $Je(e)?r:PJe(r,n(e))}var NJe=TJe;function MJe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var jJe=MJe;function DJe(){return[]}var FJe=DJe,LJe=jJe,IJe=FJe,RJe=Object.prototype,zJe=RJe.propertyIsEnumerable,eG=Object.getOwnPropertySymbols,BJe=eG?function(e){return e==null?[]:(e=Object(e),LJe(eG(e),function(t){return zJe.call(e,t)}))}:IJe,UJe=BJe;function WJe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var qJe=WJe,HJe=Nu,GJe=Mu,VJe="[object Arguments]";function XJe(e){return GJe(e)&&HJe(e)==VJe}var ZJe=XJe,tG=ZJe,YJe=Mu,zce=Object.prototype,KJe=zce.hasOwnProperty,QJe=zce.propertyIsEnumerable,JJe=tG(function(){return arguments}())?tG:function(e){return YJe(e)&&KJe.call(e,"callee")&&!QJe.call(e,"callee")},vz=JJe,zS={exports:{}};function eet(){return!1}var tet=eet;zS.exports;(function(e,t){var n=bl,r=tet,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(zS,zS.exports);var Bce=zS.exports,net=9007199254740991,ret=/^(?:0|[1-9]\d*)$/;function iet(e,t){var n=typeof e;return t=t??net,!!t&&(n=="number"||n!="symbol"&&ret.test(e))&&e>-1&&e%1==0&&e<t}var xz=iet,aet=9007199254740991;function oet(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=aet}var bz=oet,set=Nu,uet=bz,cet=Mu,fet="[object Arguments]",det="[object Array]",het="[object Boolean]",pet="[object Date]",met="[object Error]",get="[object Function]",yet="[object Map]",vet="[object Number]",xet="[object Object]",bet="[object RegExp]",_et="[object Set]",wet="[object String]",Aet="[object WeakMap]",Eet="[object ArrayBuffer]",ket="[object DataView]",Cet="[object Float32Array]",Oet="[object Float64Array]",Pet="[object Int8Array]",$et="[object Int16Array]",Tet="[object Int32Array]",Net="[object Uint8Array]",Met="[object Uint8ClampedArray]",jet="[object Uint16Array]",Det="[object Uint32Array]",tn={};tn[Cet]=tn[Oet]=tn[Pet]=tn[$et]=tn[Tet]=tn[Net]=tn[Met]=tn[jet]=tn[Det]=!0;tn[fet]=tn[det]=tn[Eet]=tn[het]=tn[ket]=tn[pet]=tn[met]=tn[get]=tn[yet]=tn[vet]=tn[xet]=tn[bet]=tn[_et]=tn[wet]=tn[Aet]=!1;function Fet(e){return cet(e)&&uet(e.length)&&!!tn[set(e)]}var Let=Fet;function Iet(e){return function(t){return e(t)}}var Uce=Iet,BS={exports:{}};BS.exports;(function(e,t){var n=fce,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(BS,BS.exports);var Ret=BS.exports,zet=Let,Bet=Uce,nG=Ret,rG=nG&&nG.isTypedArray,Uet=rG?Bet(rG):zet,Wce=Uet,Wet=qJe,qet=vz,Het=ra,Get=Bce,Vet=xz,Xet=Wce,Zet=Object.prototype,Yet=Zet.hasOwnProperty;function Ket(e,t){var n=Het(e),r=!n&&qet(e),i=!n&&!r&&Get(e),a=!n&&!r&&!i&&Xet(e),o=n||r||i||a,s=o?Wet(e.length,String):[],l=s.length;for(var u in e)(t||Yet.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vet(u,l)))&&s.push(u);return s}var Qet=Ket,Jet=Object.prototype;function ett(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Jet;return e===n}var ttt=ett;function ntt(e,t){return function(n){return e(t(n))}}var qce=ntt,rtt=qce,itt=rtt(Object.keys,Object),att=itt,ott=ttt,stt=att,ltt=Object.prototype,utt=ltt.hasOwnProperty;function ctt(e){if(!ott(e))return stt(e);var t=[];for(var n in Object(e))utt.call(e,n)&&n!="constructor"&&t.push(n);return t}var ftt=ctt,dtt=iz,htt=bz;function ptt(e){return e!=null&&htt(e.length)&&!dtt(e)}var Zx=ptt,mtt=Qet,gtt=ftt,ytt=Zx;function vtt(e){return ytt(e)?mtt(e):gtt(e)}var kC=vtt,xtt=NJe,btt=UJe,_tt=kC;function wtt(e){return xtt(e,_tt,btt)}var Stt=wtt,iG=Stt,Att=1,Ett=Object.prototype,ktt=Ett.hasOwnProperty;function Ctt(e,t,n,r,i,a){var o=n&Att,s=iG(e),l=s.length,u=iG(t),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in t:ktt.call(t,d)))return!1}var p=a.get(e),m=a.get(t);if(p&&m)return p==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);for(var v=o;++f<l;){d=s[f];var x=e[d],b=t[d];if(r)var S=o?r(b,x,d,t,e,a):r(x,b,d,e,t,a);if(!(S===void 0?x===b||i(x,b,n,r,a):S)){g=!1;break}v||(v=d=="constructor")}if(g&&!v){var k=e.constructor,A=t.constructor;k!=A&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof A=="function"&&A instanceof A)&&(g=!1)}return a.delete(e),a.delete(t),g}var Ott=Ctt,Ptt=kh,$tt=bl,Ttt=Ptt($tt,"DataView"),Ntt=Ttt,Mtt=kh,jtt=bl,Dtt=Mtt(jtt,"Promise"),Ftt=Dtt,Ltt=kh,Itt=bl,Rtt=Ltt(Itt,"Set"),Hce=Rtt,ztt=kh,Btt=bl,Utt=ztt(Btt,"WeakMap"),Wtt=Utt,n3=Ntt,r3=oz,i3=Ftt,a3=Hce,o3=Wtt,Gce=Nu,Kg=hce,aG="[object Map]",qtt="[object Object]",oG="[object Promise]",sG="[object Set]",lG="[object WeakMap]",uG="[object DataView]",Htt=Kg(n3),Gtt=Kg(r3),Vtt=Kg(i3),Xtt=Kg(a3),Ztt=Kg(o3),Bf=Gce;(n3&&Bf(new n3(new ArrayBuffer(1)))!=uG||r3&&Bf(new r3)!=aG||i3&&Bf(i3.resolve())!=oG||a3&&Bf(new a3)!=sG||o3&&Bf(new o3)!=lG)&&(Bf=function(e){var t=Gce(e),n=t==qtt?e.constructor:void 0,r=n?Kg(n):"";if(r)switch(r){case Htt:return uG;case Gtt:return aG;case Vtt:return oG;case Xtt:return sG;case Ztt:return lG}return t});var Ytt=Bf,nT=jce,Ktt=Ice,Qtt=CJe,Jtt=Ott,cG=Ytt,fG=ra,dG=Bce,ent=Wce,tnt=1,hG="[object Arguments]",pG="[object Array]",A_="[object Object]",nnt=Object.prototype,mG=nnt.hasOwnProperty;function rnt(e,t,n,r,i,a){var o=fG(e),s=fG(t),l=o?pG:cG(e),u=s?pG:cG(t);l=l==hG?A_:l,u=u==hG?A_:u;var c=l==A_,f=u==A_,d=l==u;if(d&&dG(e)){if(!dG(t))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new nT),o||ent(e)?Ktt(e,t,n,r,i,a):Qtt(e,t,l,n,r,i,a);if(!(n&tnt)){var p=c&&mG.call(e,"__wrapped__"),m=f&&mG.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return a||(a=new nT),i(g,v,n,r,a)}}return d?(a||(a=new nT),Jtt(e,t,n,r,i,a)):!1}var int=rnt,ant=int,gG=Mu;function Vce(e,t,n,r,i){return e===t?!0:e==null||t==null||!gG(e)&&!gG(t)?e!==e&&t!==t:ant(e,t,n,r,Vce,i)}var _z=Vce,ont=jce,snt=_z,lnt=1,unt=2;function cnt(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var l=s[0],u=e[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new ont;if(r)var d=r(u,c,l,e,t,f);if(!(d===void 0?snt(c,u,lnt|unt,r,f):d))return!1}}return!0}var fnt=cnt,dnt=mf;function hnt(e){return e===e&&!dnt(e)}var Xce=hnt,pnt=Xce,mnt=kC;function gnt(e){for(var t=mnt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,pnt(i)]}return t}var ynt=gnt;function vnt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Zce=vnt,xnt=fnt,bnt=ynt,_nt=Zce;function wnt(e){var t=bnt(e);return t.length==1&&t[0][2]?_nt(t[0][0],t[0][1]):function(n){return n===e||xnt(n,e,t)}}var Snt=wnt;function Ant(e,t){return e!=null&&t in Object(e)}var Ent=Ant,knt=vce,Cnt=vz,Ont=ra,Pnt=xz,$nt=bz,Tnt=pC;function Nnt(e,t,n){t=knt(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=Tnt(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&$nt(i)&&Pnt(o,i)&&(Ont(e)||Cnt(e)))}var Mnt=Nnt,jnt=Ent,Dnt=Mnt;function Fnt(e,t){return e!=null&&Dnt(e,t,jnt)}var Lnt=Fnt,Int=_z,Rnt=xce,znt=Lnt,Bnt=rz,Unt=Xce,Wnt=Zce,qnt=pC,Hnt=1,Gnt=2;function Vnt(e,t){return Bnt(e)&&Unt(t)?Wnt(qnt(e),t):function(n){var r=Rnt(n,e);return r===void 0&&r===t?znt(n,e):Int(t,r,Hnt|Gnt)}}var Xnt=Vnt;function Znt(e){return e}var Qg=Znt;function Ynt(e){return function(t){return t==null?void 0:t[e]}}var Knt=Ynt,Qnt=cz;function Jnt(e){return function(t){return Qnt(t,e)}}var ert=Jnt,trt=Knt,nrt=ert,rrt=rz,irt=pC;function art(e){return rrt(e)?trt(irt(e)):nrt(e)}var ort=art,srt=Snt,lrt=Xnt,urt=Qg,crt=ra,frt=ort;function drt(e){return typeof e=="function"?e:e==null?urt:typeof e=="object"?crt(e)?lrt(e[0],e[1]):srt(e):frt(e)}var _l=drt;function hrt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Yce=hrt;function prt(e){return e!==e}var mrt=prt;function grt(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var yrt=grt,vrt=Yce,xrt=mrt,brt=yrt;function _rt(e,t,n){return t===t?brt(e,t,n):vrt(e,xrt,n)}var wrt=_rt,Srt=wrt;function Art(e,t){var n=e==null?0:e.length;return!!n&&Srt(e,t,0)>-1}var Ert=Art;function krt(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Crt=krt;function Ort(){}var Prt=Ort,rT=Hce,$rt=Prt,Trt=yz,Nrt=1/0,Mrt=rT&&1/Trt(new rT([,-0]))[1]==Nrt?function(e){return new rT(e)}:$rt,jrt=Mrt,Drt=Dce,Frt=Ert,Lrt=Crt,Irt=Lce,Rrt=jrt,zrt=yz,Brt=200;function Urt(e,t,n){var r=-1,i=Frt,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=Lrt;else if(a>=Brt){var u=t?null:Rrt(e);if(u)return zrt(u);o=!1,i=Irt,l=new Drt}else l=t?[]:s;e:for(;++r<a;){var c=e[r],f=t?t(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Wrt=Urt,qrt=_l,Hrt=Wrt;function Grt(e,t){return e&&e.length?Hrt(e,qrt(t)):[]}var Vrt=Grt;const yG=kt(Vrt);function Kce(e,t,n){return t===!0?yG(e,n):qe(t)?yG(e,t):e}function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}var Xrt=["ref"];function vG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vG(Object(n),!0).forEach(function(r){CC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zrt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jce(r.key),r)}}function Yrt(e,t,n){return t&&xG(e.prototype,t),n&&xG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Krt(e,t,n){return t=US(t),Qrt(e,Qce()?Reflect.construct(t,n||[],US(e).constructor):t.apply(e,n))}function Qrt(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jrt(e)}function Jrt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qce=function(){return!!e})()}function US(e){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},US(e)}function eit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s3(e,t)}function CC(e,t,n){return t=Jce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jce(e){var t=tit(e,"string");return qm(t)=="symbol"?t:t+""}function tit(e,t){if(qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nit(e,t){if(e==null)return{};var n=rit(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rit(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function iit(e){return e.value}function ait(e,t){if(H.isValidElement(e))return H.cloneElement(e,t);if(typeof e=="function")return H.createElement(e,t);t.ref;var n=nit(t,Xrt);return H.createElement(gz,n)}var bG=1,Qp=function(e){function t(){var n;Zrt(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Krt(this,t,[].concat(i)),CC(n,"lastBoundingBox",{width:-1,height:-1}),n}return eit(t,e),Yrt(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>bG||Math.abs(i.height-this.lastBoundingBox.height)>bG)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Nl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();d={top:((c||0)-m.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Nl(Nl({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Nl(Nl({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return H.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},ait(a,Nl(Nl({},this.props),{},{payload:Kce(c,u,iit)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Nl(Nl({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&he(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(X.PureComponent);CC(Qp,"displayName","Legend");CC(Qp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _G=Xx,oit=vz,sit=ra,wG=_G?_G.isConcatSpreadable:void 0;function lit(e){return sit(e)||oit(e)||!!(wG&&e&&e[wG])}var uit=lit,cit=Rce,fit=uit;function efe(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=fit),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?efe(s,t-1,n,r,i):cit(i,s):r||(i[i.length]=s)}return i}var tfe=efe;function dit(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(n(a[l],l,a)===!1)break}return t}}var hit=dit,pit=hit,mit=pit(),git=mit,yit=git,vit=kC;function xit(e,t){return e&&yit(e,t,vit)}var nfe=xit,bit=Zx;function _it(e,t){return function(n,r){if(n==null)return n;if(!bit(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var wit=_it,Sit=nfe,Ait=wit,Eit=Ait(Sit),wz=Eit,kit=wz,Cit=Zx;function Oit(e,t){var n=-1,r=Cit(e)?Array(e.length):[];return kit(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var rfe=Oit;function Pit(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var $it=Pit,SG=qg;function Tit(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=SG(e),o=t!==void 0,s=t===null,l=t===t,u=SG(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var Nit=Tit,Mit=Nit;function jit(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=Mit(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var Dit=jit,iT=uz,Fit=cz,Lit=_l,Iit=rfe,Rit=$it,zit=Uce,Bit=Dit,Uit=Qg,Wit=ra;function qit(e,t,n){t.length?t=iT(t,function(a){return Wit(a)?function(o){return Fit(o,a.length===1?a[0]:a)}:a}):t=[Uit];var r=-1;t=iT(t,zit(Lit));var i=Iit(e,function(a,o,s){var l=iT(t,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Rit(i,function(a,o){return Bit(a,o,n)})}var Hit=qit;function Git(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Vit=Git,Xit=Vit,AG=Math.max;function Zit(e,t,n){return t=AG(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=AG(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),Xit(e,this,s)}}var Yit=Zit;function Kit(e){return function(){return e}}var Qit=Kit,Jit=kh,eat=function(){try{var e=Jit(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ife=eat,tat=Qit,EG=ife,nat=Qg,rat=EG?function(e,t){return EG(e,"toString",{configurable:!0,enumerable:!1,value:tat(t),writable:!0})}:nat,iat=rat,aat=800,oat=16,sat=Date.now;function lat(e){var t=0,n=0;return function(){var r=sat(),i=oat-(r-n);if(n=r,i>0){if(++t>=aat)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var uat=lat,cat=iat,fat=uat,dat=fat(cat),hat=dat,pat=Qg,mat=Yit,gat=hat;function yat(e,t){return gat(mat(e,t,pat),e+"")}var vat=yat,xat=az,bat=Zx,_at=xz,wat=mf;function Sat(e,t,n){if(!wat(n))return!1;var r=typeof t;return(r=="number"?bat(n)&&_at(t,n.length):r=="string"&&t in n)?xat(n[t],e):!1}var OC=Sat,Aat=tfe,Eat=Hit,kat=vat,kG=OC,Cat=kat(function(e,t){if(e==null)return[];var n=t.length;return n>1&&kG(e,t[0],t[1])?t=[]:n>2&&kG(t[0],t[1],t[2])&&(t=[t[0]]),Eat(e,Aat(t,1),[])}),Oat=Cat;const Sz=kt(Oat);function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function l3(){return l3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l3.apply(this,arguments)}function Pat(e,t){return Mat(e)||Nat(e,t)||Tat(e,t)||$at()}function $at(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tat(e,t){if(e){if(typeof e=="string")return CG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CG(e,t)}}function CG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nat(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mat(e){if(Array.isArray(e))return e}function OG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OG(Object(n),!0).forEach(function(r){jat(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jat(e,t,n){return t=Dat(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dat(e){var t=Fat(e,"string");return m1(t)=="symbol"?t:t+""}function Fat(e,t){if(m1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(m1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lat(e){return Array.isArray(e)&&Yn(e[0])&&Yn(e[1])?e.join(" ~ "):e}var Iat=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,c=t.payload,f=t.formatter,d=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,g=t.label,v=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,S=function(){if(c&&c.length){var F={padding:0,margin:0},W=(d?Sz(c,d):c).map(function(R,N){if(R.type==="none")return null;var z=aT({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},s),q=R.formatter||f||Lat,B=R.value,G=R.name,M=B,K=G;if(q&&M!=null&&K!=null){var Z=q(B,G,R,N,c);if(Array.isArray(Z)){var U=Pat(Z,2);M=U[0],K=U[1]}else M=Z}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:z},Yn(K)?H.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Yn(K)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},M),H.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:F},W)}return null},k=aT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),A=aT({margin:0},u),E=!Ze(g),C=E?g:"",P=Ke("recharts-default-tooltip",p),T=Ke("recharts-tooltip-label",m);E&&v&&c!==void 0&&c!==null&&(C=v(g,c));var j=b?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",l3({className:P,style:k},j),H.createElement("p",{className:T,style:A},H.isValidElement(C)?C:"".concat(C)),S())};function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}function E_(e,t,n){return t=Rat(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rat(e){var t=zat(e,"string");return g1(t)=="symbol"?t:t+""}function zat(e,t){if(g1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(g1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y0="recharts-tooltip-wrapper",Bat={visibility:"hidden"};function Uat(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ke(Y0,E_(E_(E_(E_({},"".concat(Y0,"-right"),he(n)&&t&&he(t.x)&&n>=t.x),"".concat(Y0,"-left"),he(n)&&t&&he(t.x)&&n<t.x),"".concat(Y0,"-bottom"),he(r)&&t&&he(t.y)&&r>=t.y),"".concat(Y0,"-top"),he(r)&&t&&he(t.y)&&r<t.y))}function PG(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(a&&he(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(t[r])return o[r]?c:f;if(o[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+s,g=l[r]+u;return m>g?Math.max(c,l[r]):Math.max(f,l[r])}function Wat(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function qat(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=PG({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=PG({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Wat({translateX:c,translateY:f,useTranslate3d:s})):u=Bat,{cssProperties:u,cssClasses:Uat({translateX:c,translateY:f,coordinate:n})}}function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function $G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$G(Object(n),!0).forEach(function(r){c3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$G(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gat(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ofe(r.key),r)}}function Vat(e,t,n){return t&&Gat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xat(e,t,n){return t=WS(t),Zat(e,afe()?Reflect.construct(t,n||[],WS(e).constructor):t.apply(e,n))}function Zat(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yat(e)}function Yat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function afe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(afe=function(){return!!e})()}function WS(e){return WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},WS(e)}function Kat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u3(e,t)}function u3(e,t){return u3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u3(e,t)}function c3(e,t,n){return t=ofe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ofe(e){var t=Qat(e,"string");return Hm(t)=="symbol"?t:t+""}function Qat(e,t){if(Hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NG=1,Jat=function(e){function t(){var n;Hat(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Xat(this,t,[].concat(i)),c3(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),c3(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Kat(t,e),Vat(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>NG||Math.abs(r.height-this.state.lastBoundingBox.height)>NG)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,S=qat({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),k=S.cssClasses,A=S.cssProperties,E=TG(TG({transition:d&&a?"transform ".concat(s,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return H.createElement("div",{tabIndex:-1,className:k,style:E,ref:function(P){r.wrapperNode=P}},u)}}])}(X.PureComponent),eot=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gf={isSsr:eot()};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function MG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MG(Object(n),!0).forEach(function(r){Az(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function not(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lfe(r.key),r)}}function rot(e,t,n){return t&&not(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iot(e,t,n){return t=qS(t),aot(e,sfe()?Reflect.construct(t,n||[],qS(e).constructor):t.apply(e,n))}function aot(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oot(e)}function oot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sfe=function(){return!!e})()}function qS(e){return qS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qS(e)}function sot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f3(e,t)}function f3(e,t){return f3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f3(e,t)}function Az(e,t,n){return t=lfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lfe(e){var t=lot(e,"string");return Gm(t)=="symbol"?t:t+""}function lot(e,t){if(Gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uot(e){return e.dataKey}function cot(e,t){return H.isValidElement(e)?H.cloneElement(e,t):typeof e=="function"?H.createElement(e,t):H.createElement(Iat,t)}var da=function(e){function t(){return tot(this,t),iot(this,t,arguments)}return sot(t,e),rot(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,b=i.useTranslate3d,S=i.viewBox,k=i.wrapperStyle,A=m??[];f&&A.length&&(A=Kce(m.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),g,uot));var E=A.length>0;return H.createElement(Jat,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:d,active:a,coordinate:c,hasPayload:E,offset:p,position:v,reverseDirection:x,useTranslate3d:b,viewBox:S,wrapperStyle:k},cot(u,jG(jG({},this.props),{},{payload:A})))}}])}(X.PureComponent);Az(da,"displayName","Tooltip");Az(da,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var fot=bl,dot=function(){return fot.Date.now()},hot=dot,pot=/\s/;function mot(e){for(var t=e.length;t--&&pot.test(e.charAt(t)););return t}var got=mot,yot=got,vot=/^\s+/;function xot(e){return e&&e.slice(0,yot(e)+1).replace(vot,"")}var bot=xot,_ot=bot,DG=mf,wot=qg,FG=NaN,Sot=/^[-+]0x[0-9a-f]+$/i,Aot=/^0b[01]+$/i,Eot=/^0o[0-7]+$/i,kot=parseInt;function Cot(e){if(typeof e=="number")return e;if(wot(e))return FG;if(DG(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=DG(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_ot(e);var n=Aot.test(e);return n||Eot.test(e)?kot(e.slice(2),n?2:8):Sot.test(e)?FG:+e}var ufe=Cot,Oot=mf,oT=hot,LG=ufe,Pot="Expected a function",$ot=Math.max,Tot=Math.min;function Not(e,t,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(Pot);t=LG(t)||0,Oot(n)&&(c=!!n.leading,f="maxWait"in n,a=f?$ot(LG(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d);function p(E){var C=r,P=i;return r=i=void 0,u=E,o=e.apply(P,C),o}function m(E){return u=E,s=setTimeout(x,t),c?p(E):o}function g(E){var C=E-l,P=E-u,T=t-C;return f?Tot(T,a-P):T}function v(E){var C=E-l,P=E-u;return l===void 0||C>=t||C<0||f&&P>=a}function x(){var E=oT();if(v(E))return b(E);s=setTimeout(x,g(E))}function b(E){return s=void 0,d&&r?p(E):(r=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function k(){return s===void 0?o:b(oT())}function A(){var E=oT(),C=v(E);if(r=arguments,i=this,l=E,C){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(x,t),p(l)}return s===void 0&&(s=setTimeout(x,t)),o}return A.cancel=S,A.flush=k,A}var Mot=Not,jot=Mot,Dot=mf,Fot="Expected a function";function Lot(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(Fot);return Dot(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),jot(e,t,{leading:r,maxWait:t,trailing:i})}var Iot=Lot;const cfe=kt(Iot);function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function IG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IG(Object(n),!0).forEach(function(r){Rot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rot(e,t,n){return t=zot(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zot(e){var t=Bot(e,"string");return y1(t)=="symbol"?t:t+""}function Bot(e,t){if(y1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(y1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uot(e,t){return Got(e)||Hot(e,t)||qot(e,t)||Wot()}function Wot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qot(e,t){if(e){if(typeof e=="string")return RG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RG(e,t)}}function RG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hot(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Got(e){if(Array.isArray(e))return e}var HS=X.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,c=u===void 0?0:u,f=e.minHeight,d=e.maxHeight,p=e.children,m=e.debounce,g=m===void 0?0:m,v=e.id,x=e.className,b=e.onResize,S=e.style,k=S===void 0?{}:S,A=X.useRef(null),E=X.useRef();E.current=b,X.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var C=X.useState({containerWidth:i.width,containerHeight:i.height}),P=Uot(C,2),T=P[0],j=P[1],D=X.useCallback(function(W,R){j(function(N){var z=Math.round(W),q=Math.round(R);return N.containerWidth===z&&N.containerHeight===q?N:{containerWidth:z,containerHeight:q}})},[]);X.useEffect(function(){var W=function(G){var M,K=G[0].contentRect,Z=K.width,U=K.height;D(Z,U),(M=E.current)===null||M===void 0||M.call(E,Z,U)};g>0&&(W=cfe(W,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(W),N=A.current.getBoundingClientRect(),z=N.width,q=N.height;return D(z,q),R.observe(A.current),function(){R.disconnect()}},[D,g]);var F=X.useMemo(function(){var W=T.containerWidth,R=T.containerHeight;if(W<0||R<0)return null;Zo(nd(o)||nd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Zo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var N=nd(o)?W:o,z=nd(l)?R:l;n&&n>0&&(N?z=N/n:z&&(N=z*n),d&&z>d&&(z=d)),Zo(N>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,z,o,l,c,f,n);var q=!Array.isArray(p)&&su(p.type).endsWith("Chart");return H.Children.map(p,function(B){return H.isValidElement(B)?X.cloneElement(B,k_({width:N,height:z},q?{style:k_({height:"100%",width:"100%",maxHeight:z,maxWidth:N},B.props.style)}:{})):B})},[n,p,l,d,f,c,T,o]);return H.createElement("div",{id:v?"".concat(v):void 0,className:Ke("recharts-responsive-container",x),style:k_(k_({},k),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:A},F)}),PC=function(t){return null};PC.displayName="Cell";function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}function zG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zG(Object(n),!0).forEach(function(r){Vot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vot(e,t,n){return t=Xot(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xot(e){var t=Zot(e,"string");return v1(t)=="symbol"?t:t+""}function Zot(e,t){if(v1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(v1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp={widthCache:{},cacheCount:0},Yot=2e3,Kot={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BG="recharts_measurement_span";function Qot(e){var t=d3({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var sv=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gf.isSsr)return{width:0,height:0};var r=Qot(n),i=JSON.stringify({text:t,copyStyle:r});if(tp.widthCache[i])return tp.widthCache[i];try{var a=document.getElementById(BG);a||(a=document.createElement("span"),a.setAttribute("id",BG),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=d3(d3({},Kot),r);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return tp.widthCache[i]=l,++tp.cacheCount>Yot&&(tp.cacheCount=0,tp.widthCache={}),l}catch{return{width:0,height:0}}},Jot=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}function GS(e,t){return rst(e)||nst(e,t)||tst(e,t)||est()}function est(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tst(e,t){if(e){if(typeof e=="string")return UG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UG(e,t)}}function UG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nst(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function rst(e){if(Array.isArray(e))return e}function ist(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ost(r.key),r)}}function ast(e,t,n){return t&&WG(e.prototype,t),n&&WG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ost(e){var t=sst(e,"string");return x1(t)=="symbol"?t:t+""}function sst(e,t){if(x1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(x1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lst=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ust=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ffe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cst=Object.keys(ffe),Op="NaN";function fst(e,t){return e*ffe[t]}var C_=function(){function e(t,n){ist(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!lst.test(n)&&(this.num=NaN,this.unit=""),cst.includes(n)&&(this.num=fst(t,n),this.unit="px")}return ast(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=ust.exec(n))!==null&&r!==void 0?r:[],a=GS(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])}();function dfe(e){if(e.includes(Op))return Op;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=qG.exec(t))!==null&&n!==void 0?n:[],i=GS(r,4),a=i[1],o=i[2],s=i[3],l=C_.parse(a??""),u=C_.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Op;t=t.replace(qG,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,d=(f=HG.exec(t))!==null&&f!==void 0?f:[],p=GS(d,4),m=p[1],g=p[2],v=p[3],x=C_.parse(m??""),b=C_.parse(v??""),S=g==="+"?x.add(b):x.subtract(b);if(S.isNaN())return Op;t=t.replace(HG,S.toString())}return t}var GG=/\(([^()]*)\)/;function dst(e){for(var t=e;t.includes("(");){var n=GG.exec(t),r=GS(n,2),i=r[1];t=t.replace(GG,dfe(i))}return t}function hst(e){var t=e.replace(/\s+/g,"");return t=dst(t),t=dfe(t),t}function pst(e){try{return hst(e)}catch{return Op}}function sT(e){var t=pst(e.slice(5,-1));return t===Op?"":t}var mst=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gst=["dx","dy","angle","className","breakAll"];function h3(){return h3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h3.apply(this,arguments)}function VG(e,t){if(e==null)return{};var n=yst(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yst(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function XG(e,t){return _st(e)||bst(e,t)||xst(e,t)||vst()}function vst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xst(e,t){if(e){if(typeof e=="string")return ZG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZG(e,t)}}function ZG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bst(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _st(e){if(Array.isArray(e))return e}var hfe=/[ \f\n\r\t\v\u2028\u2029]+/,pfe=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];Ze(n)||(r?a=n.toString().split(""):a=n.toString().split(hfe));var o=a.map(function(l){return{word:l,width:sv(l,i).width}}),s=r?0:sv("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},wst=function(t,n,r,i,a){var o=t.maxLines,s=t.children,l=t.style,u=t.breakAll,c=he(o),f=s,d=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N.reduce(function(z,q){var B=q.word,G=q.width,M=z[z.length-1];if(M&&(i==null||a||M.width+G+r<Number(i)))M.words.push(B),M.width+=G+r;else{var K={words:[B],width:G};z.push(K)}return z},[])},p=d(n),m=function(N){return N.reduce(function(z,q){return z.width>q.width?z:q})};if(!c)return p;for(var g="",v=function(N){var z=f.slice(0,N),q=pfe({breakAll:u,style:l,children:z+g}).wordsWithComputedWidth,B=d(q),G=B.length>o||m(B).width>Number(i);return[G,B]},x=0,b=f.length-1,S=0,k;x<=b&&S<=f.length-1;){var A=Math.floor((x+b)/2),E=A-1,C=v(E),P=XG(C,2),T=P[0],j=P[1],D=v(A),F=XG(D,1),W=F[0];if(!T&&!W&&(x=A+1),T&&W&&(b=A-1),!T&&W){k=j;break}S++}return k||p},YG=function(t){var n=Ze(t)?[]:t.toString().split(hfe);return[{words:n}]},Sst=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((n||r)&&!gf.isSsr){var l,u,c=pfe({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return YG(i);return wst({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return YG(i)},KG="#808080",Qd=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,c=t.scaleToFit,f=c===void 0?!1:c,d=t.textAnchor,p=d===void 0?"start":d,m=t.verticalAnchor,g=m===void 0?"end":m,v=t.fill,x=v===void 0?KG:v,b=VG(t,mst),S=X.useMemo(function(){return Sst({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),k=b.dx,A=b.dy,E=b.angle,C=b.className,P=b.breakAll,T=VG(b,gst);if(!Yn(r)||!Yn(a))return null;var j=r+(he(k)?k:0),D=a+(he(A)?A:0),F;switch(g){case"start":F=sT("calc(".concat(u,")"));break;case"middle":F=sT("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:F=sT("calc(".concat(S.length-1," * -").concat(s,")"));break}var W=[];if(f){var R=S[0].width,N=b.width;W.push("scale(".concat((he(N)?N/R:1)/R,")"))}return E&&W.push("rotate(".concat(E,", ").concat(j,", ").concat(D,")")),W.length&&(T.transform=W.join(" ")),H.createElement("text",h3({},je(T,!0),{x:j,y:D,className:Ke("recharts-text",C),textAnchor:p,fill:x.includes("url")?KG:x}),S.map(function(z,q){var B=z.words.join(P?"":" ");return H.createElement("tspan",{x:j,dy:q===0?F:s,key:"".concat(B,"-").concat(q)},B)}))};const QG=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lv,scaleDiverging:fI,scaleDivergingLog:dI,scaleDivergingPow:PE,scaleDivergingSqrt:Lte,scaleDivergingSymlog:hI,scaleIdentity:JL,scaleImplicit:h2,scaleLinear:Bv,scaleLog:tI,scaleOrdinal:rx,scalePoint:Hy,scalePow:AE,scaleQuantile:aI,scaleQuantize:oI,scaleRadial:Nte,scaleSequential:kE,scaleSequentialLog:uI,scaleSequentialPow:CE,scaleSequentialQuantile:Fte,scaleSequentialSqrt:Dte,scaleSequentialSymlog:cI,scaleSqrt:Tte,scaleSymlog:rI,scaleThreshold:sI,scaleTime:Mte,scaleUtc:jte,tickFormat:QL},Symbol.toStringTag,{value:"Module"}));var Ast=qg;function Est(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(s===void 0?o===o&&!Ast(o):n(o,s)))var s=o,l=a}return l}var $C=Est;function kst(e,t){return e>t}var mfe=kst,Cst=$C,Ost=mfe,Pst=Qg;function $st(e){return e&&e.length?Cst(e,Pst,Ost):void 0}var Tst=$st;const mc=kt(Tst);function Nst(e,t){return e<t}var gfe=Nst,Mst=$C,jst=gfe,Dst=Qg;function Fst(e){return e&&e.length?Mst(e,Dst,jst):void 0}var Lst=Fst;const TC=kt(Lst);var Ist=uz,Rst=_l,zst=rfe,Bst=ra;function Ust(e,t){var n=Bst(e)?Ist:zst;return n(e,Rst(t))}var Wst=Ust,qst=tfe,Hst=Wst;function Gst(e,t){return qst(Hst(e,t),1)}var Vst=Gst;const Xst=kt(Vst);var Zst=_z;function Yst(e,t){return Zst(e,t)}var Kst=Yst;const Jd=kt(Kst);var Jg=1e9,Qst={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kz,dn=!0,mo="[DecimalError] ",yd=mo+"Invalid argument: ",Ez=mo+"Exponent out of range: ",e0=Math.floor,Uf=Math.pow,Jst=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ma,tr=1e7,nn=7,yfe=9007199254740991,VS=e0(yfe/nn),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*nn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(e){return lu(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,n=t.constructor;return Gt(lu(t,new n(e),0,1),n.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Rn(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ma))throw Error(mo+"NaN");if(n.s<1)throw Error(mo+(n.s?"NaN":"-Infinity"));return n.eq(ma)?new r(0):(dn=!1,t=lu(b1(n,a),b1(e,a),a),dn=!0,Gt(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bfe(t,e):vfe(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(mo+"NaN");return n.s?(dn=!1,t=lu(n,e,0,1).times(e),dn=!0,n.minus(t)):Gt(new r(n),i)};$e.naturalExponential=$e.exp=function(){return xfe(this)};$e.naturalLogarithm=$e.ln=function(){return b1(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vfe(t,e):bfe(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yd+e);if(t=Rn(i)+1,r=i.d.length-1,n=r*nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};$e.squareRoot=$e.sqrt=function(){var e,t,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(mo+"NaN")}for(e=Rn(s),dn=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Ds(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=e0((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(lu(s,a,o+2)).times(.5),Ds(a.d).slice(0,o)===(t=Ds(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Gt(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return dn=!0,Gt(r,n)};$e.times=$e.mul=function(e){var t,n,r,i,a,o,s,l,u,c=this,f=c.constructor,d=c.d,p=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,l=d.length,u=p.length,l<u&&(a=d,d=p,p=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+p[r]*d[i-r-1]+t,a[i--]=s%tr|0,t=s/tr|0;a[i]=(a[i]+t)%tr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,dn?Gt(e,f.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ol(e,0,Jg),t===void 0?t=r.rounding:ol(t,0,8),Gt(n,e+Rn(n)+1,t))};$e.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=eh(r,!0):(ol(e,0,Jg),t===void 0?t=i.rounding:ol(t,0,8),r=Gt(new i(r),e+1,t),n=eh(r,!0,e+1)),n};$e.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?eh(i):(ol(e,0,Jg),t===void 0?t=a.rounding:ol(t,0,8),r=Gt(new a(i),e+Rn(i)+1,t),n=eh(r.abs(),!1,e+Rn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),Rn(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(ma);if(s=new l(s),!s.s){if(e.s<1)throw Error(mo+"Infinity");return s}if(s.eq(ma))return s;if(r=l.precision,e.eq(ma))return Gt(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=c<0?-c:c)<=yfe){for(i=new l(ma),t=Math.ceil(r/nn+4),dn=!1;n%2&&(i=i.times(s),eV(i.d,t)),n=e0(n/2),n!==0;)s=s.times(s),eV(s.d,t);return dn=!0,e.s<0?new l(ma).div(i):Gt(i,r)}}else if(a<0)throw Error(mo+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,dn=!1,i=e.times(b1(s,r+u)),dn=!0,i=xfe(i),i.s=a,i};$e.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Rn(i),r=eh(i,n<=a.toExpNeg||n>=a.toExpPos)):(ol(e,1,Jg),t===void 0?t=a.rounding:ol(t,0,8),i=Gt(new a(i),e,t),n=Rn(i),r=eh(i,e<=n||n<=a.toExpNeg,e)),r};$e.toSignificantDigits=$e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ol(e,1,Jg),t===void 0?t=r.rounding:ol(t,0,8)),Gt(new r(n),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rn(e),n=e.constructor;return eh(e,t<=n.toExpNeg||t>=n.toExpPos)};function vfe(e,t){var n,r,i,a,o,s,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),dn?Gt(t,f):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/nn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/tr|0,l[a]%=tr;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,dn?Gt(t,f):t}function ol(e,t,n){if(e!==~~e||e<t||e>n)throw Error(yd+e)}function Ds(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=nn-r.length,n&&(a+=Ju(n)),a+=r;o=e[t],r=o+"",n=nn-r.length,n&&(a+=Ju(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var lu=function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%tr|0,o=a/tr|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*tr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,d,p,m,g,v,x,b,S,k,A,E,C,P,T=r.constructor,j=r.s==i.s?1:-1,D=r.d,F=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(mo+"Division by zero");for(l=r.e-i.e,C=F.length,A=D.length,p=new T(j),m=p.d=[],u=0;F[u]==(D[u]||0);)++u;if(F[u]>(D[u]||0)&&--l,a==null?b=a=T.precision:o?b=a+(Rn(r)-Rn(i))+1:b=a,b<0)return new T(0);if(b=b/nn+2|0,u=0,C==1)for(c=0,F=F[0],b++;(u<A||c)&&b--;u++)S=c*tr+(D[u]||0),m[u]=S/F|0,c=S%F|0;else{for(c=tr/(F[0]+1)|0,c>1&&(F=e(F,c),D=e(D,c),C=F.length,A=D.length),k=C,g=D.slice(0,C),v=g.length;v<C;)g[v++]=0;P=F.slice(),P.unshift(0),E=F[0],F[1]>=tr/2&&++E;do c=0,s=t(F,g,C,v),s<0?(x=g[0],C!=v&&(x=x*tr+(g[1]||0)),c=x/E|0,c>1?(c>=tr&&(c=tr-1),f=e(F,c),d=f.length,v=g.length,s=t(f,g,d,v),s==1&&(c--,n(f,C<d?P:F,d))):(c==0&&(s=c=1),f=F.slice()),d=f.length,d<v&&f.unshift(0),n(g,f,v),s==-1&&(v=g.length,s=t(F,g,C,v),s<1&&(c++,n(g,C<v?P:F,v))),v=g.length):s===0&&(c++,g=[0]),m[u++]=c,s&&g[0]?g[v++]=D[k]||0:(g=[D[k]],v=1);while((k++<A||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,Gt(p,o?a+Rn(p)+1:a)}}();function xfe(e,t){var n,r,i,a,o,s,l=0,u=0,c=e.constructor,f=c.precision;if(Rn(e)>16)throw Error(Ez+Rn(e));if(!e.s)return new c(ma);for(dn=!1,s=f,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Uf(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(ma),c.precision=s;;){if(i=Gt(i.times(e),s),n=n.times(++l),o=a.plus(lu(i,n,s)),Ds(o.d).slice(0,s)===Ds(a.d).slice(0,s)){for(;u--;)a=Gt(a.times(a),s);return c.precision=f,t==null?(dn=!0,Gt(a,f)):a}a=o}}function Rn(e){for(var t=e.e*nn,n=e.d[0];n>=10;n/=10)t++;return t}function lT(e,t,n){if(t>e.LN10.sd())throw dn=!0,n&&(e.precision=n),Error(mo+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function Ju(e){for(var t="";e--;)t+="0";return t}function b1(e,t){var n,r,i,a,o,s,l,u,c,f=1,d=10,p=e,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(mo+(p.s?"NaN":"-Infinity"));if(p.eq(ma))return new g(0);if(t==null?(dn=!1,u=v):u=t,p.eq(10))return t==null&&(dn=!0),lT(g,u);if(u+=d,g.precision=u,n=Ds(m),r=n.charAt(0),a=Rn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Ds(p.d),r=n.charAt(0),f++;a=Rn(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=lT(g,u+2,v).times(a+""),p=b1(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=v,t==null?(dn=!0,Gt(p,v)):p;for(s=o=p=lu(p.minus(ma),p.plus(ma),u),c=Gt(p.times(p),u),i=3;;){if(o=Gt(o.times(c),u),l=s.plus(lu(o,new g(i),u)),Ds(l.d).slice(0,u)===Ds(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(lT(g,u+2,v).times(a+""))),s=lu(s,new g(f),u),g.precision=v,t==null?(dn=!0,Gt(s,v)):s;s=l,i+=2}}function JG(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=e0(n/nn),e.d=[],r=(n+1)%nn,n<0&&(r+=nn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=nn;r<i;)e.d.push(+t.slice(r,r+=nn));t=t.slice(r),r=nn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),dn&&(e.e>VS||e.e<-VS))throw Error(Ez+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,n){var r,i,a,o,s,l,u,c,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=nn,i=t,u=f[c=0];else{if(c=Math.ceil((r+1)/nn),a=f.length,c>=a)return e;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=nn,i=r-nn+o}if(n!==void 0&&(a=Uf(10,o-i-1),s=u/a%10|0,l=t<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Uf(10,o-i):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Rn(e),f.length=1,t=t-a-1,f[0]=Uf(10,(nn-t%nn)%nn),e.e=e0(-t/nn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Uf(10,nn-r),f[c]=i>0?(u/Uf(10,o-i)%Uf(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==tr&&(f[0]=1,++e.e);break}else{if(f[c]+=a,f[c]!=tr)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(dn&&(e.e>VS||e.e<-VS))throw Error(Ez+Rn(e));return e}function bfe(e,t){var n,r,i,a,o,s,l,u,c,f,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),dn?Gt(t,p):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/nn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=tr-1;--l[a],l[i]+=tr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,dn?Gt(t,p):t):new d(0)}function eh(e,t,n){var r,i=Rn(e),a=Ds(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ju(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ju(-i-1)+a,n&&(r=n-o)>0&&(a+=Ju(r))):i>=o?(a+=Ju(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ju(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ju(r))),e.s<0?"-"+a:a}function eV(e,t){if(e.length>t)return e.length=t,!0}function _fe(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(yd+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return JG(o,a.toString())}else if(typeof a!="string")throw Error(yd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Jst.test(a))JG(o,a);else throw Error(yd+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_fe,i.config=i.set=elt,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function elt(e){if(!e||typeof e!="object")throw Error(mo+"Object expected");var t,n,r,i=["precision",1,Jg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(e0(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(yd+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(yd+n+": "+r);return this}var kz=_fe(Qst);ma=new kz(1);const zt=kz;function tlt(e){return alt(e)||ilt(e)||rlt(e)||nlt()}function nlt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rlt(e,t){if(e){if(typeof e=="string")return p3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p3(e,t)}}function ilt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function alt(e){if(Array.isArray(e))return p3(e)}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var olt=function(t){return t},wfe={},Sfe=function(t){return t===wfe},tV=function(t){return function n(){return arguments.length===0||arguments.length===1&&Sfe(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},slt=function e(t,n){return t===1?n:tV(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==wfe}).length;return o>=t?n.apply(void 0,i):e(t-o,tV(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return Sfe(f)?l.shift():f});return n.apply(void 0,tlt(c).concat(l))}))})},NC=function(t){return slt(t.length,t)},m3=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},llt=NC(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),ult=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return olt;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},g3=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Afe=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=t.apply(void 0,a)),r}};function clt(e){var t;return e===0?t=1:t=Math.floor(new zt(e).abs().log(10).toNumber())+1,t}function flt(e,t,n){for(var r=new zt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var dlt=NC(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),hlt=NC(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),plt=NC(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const MC={rangeStep:flt,getDigitCount:clt,interpolateNumber:dlt,uninterpolateNumber:hlt,uninterpolateTruncation:plt};function y3(e){return ylt(e)||glt(e)||Efe(e)||mlt()}function mlt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function glt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ylt(e){if(Array.isArray(e))return v3(e)}function _1(e,t){return blt(e)||xlt(e,t)||Efe(e,t)||vlt()}function vlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Efe(e,t){if(e){if(typeof e=="string")return v3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v3(e,t)}}function v3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xlt(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function blt(e){if(Array.isArray(e))return e}function kfe(e){var t=_1(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Cfe(e,t,n){if(e.lte(0))return new zt(0);var r=MC.getDigitCount(e.toNumber()),i=new zt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new zt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return t?l:new zt(Math.ceil(l))}function _lt(e,t,n){var r=1,i=new zt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new zt(10).pow(MC.getDigitCount(e)-1),i=new zt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new zt(Math.floor(e)))}else e===0?i=new zt(Math.floor((t-1)/2)):n||(i=new zt(Math.floor(e)));var o=Math.floor((t-1)/2),s=ult(llt(function(l){return i.add(new zt(l-o).mul(r)).toNumber()}),m3);return s(0,t)}function Ofe(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new zt(0),tickMin:new zt(0),tickMax:new zt(0)};var a=Cfe(new zt(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new zt(0):(o=new zt(e).add(t).div(2),o=o.sub(new zt(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new zt(t).sub(o).div(a).toNumber()),u=s+l+1;return u>n?Ofe(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new zt(s).mul(a)),tickMax:o.add(new zt(l).mul(a))})}function wlt(e){var t=_1(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=kfe([n,r]),l=_1(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(y3(m3(0,i-1).map(function(){return 1/0}))):[].concat(y3(m3(0,i-1).map(function(){return-1/0})),[c]);return n>r?g3(f):f}if(u===c)return _lt(u,i,a);var d=Ofe(u,c,o,a),p=d.step,m=d.tickMin,g=d.tickMax,v=MC.rangeStep(m,g.add(new zt(.1).mul(p)),p);return n>r?g3(v):v}function Slt(e,t){var n=_1(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=kfe([r,i]),s=_1(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(t,2),f=Cfe(new zt(u).sub(l).div(c-1),a,0),d=[].concat(y3(MC.rangeStep(new zt(l),new zt(u).sub(new zt(.99).mul(f)),f)),[u]);return r>i?g3(d):d}var Alt=Afe(wlt),Elt=Afe(Slt),klt="Invariant failed";function th(e,t){throw new Error(klt)}var Clt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XS.apply(this,arguments)}function Olt(e,t){return Nlt(e)||Tlt(e,t)||$lt(e,t)||Plt()}function Plt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $lt(e,t){if(e){if(typeof e=="string")return nV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nV(e,t)}}function nV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tlt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Nlt(e){if(Array.isArray(e))return e}function Mlt(e,t){if(e==null)return{};var n=jlt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jlt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Dlt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Flt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tfe(r.key),r)}}function Llt(e,t,n){return t&&Flt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ilt(e,t,n){return t=ZS(t),Rlt(e,Pfe()?Reflect.construct(t,n||[],ZS(e).constructor):t.apply(e,n))}function Rlt(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zlt(e)}function zlt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pfe=function(){return!!e})()}function ZS(e){return ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZS(e)}function Blt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x3(e,t)}function x3(e,t){return x3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x3(e,t)}function $fe(e,t,n){return t=Tfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tfe(e){var t=Ult(e,"string");return Vm(t)=="symbol"?t:t+""}function Ult(e,t){if(Vm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yx=function(e){function t(){return Dlt(this,t),Ilt(this,t,arguments)}return Blt(t,e),Llt(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=Mlt(r,Clt),p=je(d,!1);this.props.direction==="x"&&c.type!=="number"&&th();var m=l.map(function(g){var v=u(g,s),x=v.x,b=v.y,S=v.value,k=v.errorVal;if(!k)return null;var A=[],E,C;if(Array.isArray(k)){var P=Olt(k,2);E=P[0],C=P[1]}else E=C=k;if(a==="vertical"){var T=c.scale,j=b+i,D=j+o,F=j-o,W=T(S-E),R=T(S+C);A.push({x1:R,y1:D,x2:R,y2:F}),A.push({x1:W,y1:j,x2:R,y2:j}),A.push({x1:W,y1:D,x2:W,y2:F})}else if(a==="horizontal"){var N=f.scale,z=x+i,q=z-o,B=z+o,G=N(S-E),M=N(S+C);A.push({x1:q,y1:M,x2:B,y2:M}),A.push({x1:z,y1:G,x2:z,y2:M}),A.push({x1:q,y1:G,x2:B,y2:G})}return H.createElement(ct,XS({className:"recharts-errorBar",key:"bar-".concat(A.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),A.map(function(K){return H.createElement("line",XS({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return H.createElement(ct,{className:"recharts-errorBars"},m)}}])}(H.Component);$fe(Yx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$fe(Yx,"displayName","ErrorBar");function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function rV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rV(Object(n),!0).forEach(function(r){Wlt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wlt(e,t,n){return t=qlt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qlt(e){var t=Hlt(e,"string");return w1(t)=="symbol"?t:t+""}function Hlt(e,t){if(w1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(w1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nfe=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=fa(n,Qp);if(!o)return null;var s=Qp.defaultProps,l=s!==void 0?Mf(Mf({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,m=p.sectors||p.data||[];return c.concat(m.map(function(g){return{type:o.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?Mf(Mf({},d),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:l.iconType||v||"square",color:Cz(f),value:g||m,payload:p}}),Mf(Mf(Mf({},l),Qp.getWithHeight(o,i)),{},{payload:u,item:o})};function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function iV(e){return Zlt(e)||Xlt(e)||Vlt(e)||Glt()}function Glt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vlt(e,t){if(e){if(typeof e=="string")return b3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b3(e,t)}}function Xlt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zlt(e){if(Array.isArray(e))return b3(e)}function b3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aV(Object(n),!0).forEach(function(r){Jp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jp(e,t,n){return t=Ylt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ylt(e){var t=Klt(e,"string");return S1(t)=="symbol"?t:t+""}function Klt(e,t){if(S1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(S1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(e,t,n){return Ze(e)||Ze(t)?n:Yn(t)?Aa(e,t,n):qe(t)?t(e):n}function lv(e,t,n,r){var i=Xst(e,function(s){return $n(s,t)});if(n==="number"){var a=i.filter(function(s){return he(s)||parseFloat(s)});return a.length?[TC(a),mc(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Ze(s)}):i;return o.map(function(s){return Yn(s)||s instanceof Date?s:""})}var Qlt=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(yi(f-c)!==yi(d-f)){var m=[];if(yi(d-f)===yi(l[1]-l[0])){p=d;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var v=d+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>x[0]&&t<=x[1]||t>=m[0]&&t<=m[1]){o=i[u].index;break}}else{var b=Math.min(c,d),S=Math.max(c,d);if(t>(b+f)/2&&t<=(S+f)/2){o=i[u].index;break}}}else for(var k=0;k<s;k++)if(k===0&&t<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<s-1&&t>(r[k].coordinate+r[k-1].coordinate)/2&&t<=(r[k].coordinate+r[k+1].coordinate)/2||k===s-1&&t>(r[k].coordinate+r[k-1].coordinate)/2){o=r[k].index;break}return o},Cz=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?An(An({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},Jlt=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var m=c[f[d]],g=m.items,v=m.cateAxisId,x=g.filter(function(C){return su(C.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,S=b!==void 0?An(An({},b),x[0].props):x[0].props,k=S.barSize,A=S[v];o[A]||(o[A]=[]);var E=Ze(k)?n:k;o[A].push({item:x[0],stackList:x.slice(1),barSize:Ze(E)?void 0:vi(E,r,0)})}}return o},eut=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var u=vi(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var d=!1,p=i/l,m=o.reduce(function(k,A){return k+A.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};c=o.reduce(function(k,A){var E={item:A.item,position:{offset:v.offset+v.size+u,size:d?p:A.barSize}},C=[].concat(iV(k),[E]);return v=C[C.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(P){C.push({item:P,position:v})}),C},f)}else{var x=vi(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var b=(i-2*x-(l-1)*u)/l;b>1&&(b>>=0);var S=s===+s?Math.min(b,s):b;c=o.reduce(function(k,A,E){var C=[].concat(iV(k),[{item:A.item,position:{offset:x+(b+u)*E+(b-S)/2,size:S}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(P){C.push({item:P,position:C[C.length-1].position})}),C},f)}return c},tut=function(t,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=Nfe({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&he(t[p]))return An(An({},t),{},Jp({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&he(t[m]))return An(An({},t),{},Jp({},m,t[m]+(d||0)))}return t},nut=function(t,n,r){return Ze(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Mfe=function(t,n,r,i,a){var o=n.props.children,s=Ea(o,Yx).filter(function(u){return nut(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,c){var f=$n(c,r);if(Ze(f))return u;var d=Array.isArray(f)?[TC(f),mc(f)]:[f,f],p=l.reduce(function(m,g){var v=$n(c,g,0),x=d[0]-Math.abs(Array.isArray(v)?v[0]:v),b=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},rut=function(t,n,r,i,a){var o=n.map(function(s){return Mfe(t,s,r,a,i)}).filter(function(s){return!Ze(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},jfe=function(t,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&Mfe(t,l,u,i)||lv(t,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},Dfe=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Ffe=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var a,o,s=t.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Ql=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?yi(s[0]-s[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var c=(t.ticks||t.niceTicks).map(function(f){var d=a?a.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!Zg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:a?a[f]:f,index:d,offset:u}})},uT=new WeakMap,O_=function(t,n){if(typeof n!="function")return t;uT.has(t)||uT.set(t,new WeakMap);var r=uT.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Lfe=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Lv(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Bv(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Hy(),realScaleType:"point"}:a==="category"?{scale:Lv(),realScaleType:"band"}:{scale:Bv(),realScaleType:"linear"};if(Yd(i)){var l="scale".concat(EC(i));return{scale:(QG[l]||Hy)(),realScaleType:QG[l]?l:"point"}}return qe(i)?{scale:i}:{scale:Hy(),realScaleType:"point"}},oV=1e-4,Ife=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-oV,o=Math.max(i[0],i[1])+oV,s=t(n[0]),l=t(n[r-1]);(s<a||s>o||l<a||l>o)&&t.domain([n[0],n[r-1]])}},iut=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},aut=function(t,n){if(!n||n.length!==2||!he(n[0])||!he(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!he(t[0])||t[0]<r)&&(a[0]=r),(!he(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},out=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Zg(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1]):(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1])}},sut=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Zg(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=a,t[o][r][1]=a+s,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},lut={sign:out,expand:qAe,none:pm,silhouette:HAe,wiggle:GAe,positive:sut},uut=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),a=lut[r],o=WAe().keys(i).value(function(s,l){return+$n(s,l,0)}).order(GN).offset(a);return o(t)},cut=function(t,n,r,i,a,o){if(!t)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?An(An({},d.type.defaultProps),d.props):d.props,g=m.stackId,v=m.hide;if(v)return f;var x=m[r],b=f[x]||{hasStack:!1,stackGroups:{}};if(Yn(g)){var S=b.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(d),b.hasStack=!0,b.stackGroups[g]=S}else b.stackGroups[Ch("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return An(An({},f),{},Jp({},x,b))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var x=p.stackGroups[v];return An(An({},g),{},Jp({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:uut(t,x.items,a)}))},m)}return An(An({},f),{},Jp({},d,p))},c)},Rfe=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var c=Alt(u,a,s);return t.domain([TC(c),mc(c)]),{niceTicks:c}}if(a&&i==="number"){var f=t.domain(),d=Elt(f,a,s);return{niceTicks:d}}return null};function YS(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ze(i[t.dataKey])){var s=FS(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=$n(i,Ze(o)?t.dataKey:o);return Ze(l)?null:t.scale(l)}var sV=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=$n(o,n.dataKey,n.domain[s]);return Ze(l)?null:n.scale(l)-a/2+i},fut=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},dut=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?An(An({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Yn(a)){var o=n[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},hut=function(t){return t.reduce(function(n,r){return[TC(r.concat([n[0]]).filter(he)),mc(r.concat([n[1]]).filter(he))]},[1/0,-1/0])},zfe=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(u,c){var f=hut(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},lV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_3=function(t,n,r){if(qe(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(he(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(lV.test(t[0])){var a=+lV.exec(t[0])[1];i[0]=n[0]-a}else qe(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(he(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(uV.test(t[1])){var o=+uV.exec(t[1])[1];i[1]=n[1]+o}else qe(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},KS=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=Sz(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},cV=function(t,n,r){return!t||!t.length||Jd(t,Aa(r,"type.defaultProps.domain"))?n:t},Bfe=function(t,n){var r=t.type.defaultProps?An(An({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return An(An({},je(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Cz(t),value:$n(n,i),type:l,payload:n,chartType:u,hide:c})};function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function fV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fV(Object(n),!0).forEach(function(r){Ufe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ufe(e,t,n){return t=put(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function put(e){var t=mut(e,"string");return A1(t)=="symbol"?t:t+""}function mut(e,t){if(A1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(A1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gut(e,t){return but(e)||xut(e,t)||vut(e,t)||yut()}function yut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vut(e,t){if(e){if(typeof e=="string")return dV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dV(e,t)}}function dV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xut(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function but(e){if(Array.isArray(e))return e}var QS=Math.PI/180,_ut=function(t){return t*180/Math.PI},Qt=function(t,n,r,i){return{x:t+Math.cos(-QS*i)*r,y:n+Math.sin(-QS*i)*r}},Wfe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},wut=function(t,n,r,i,a){var o=t.width,s=t.height,l=t.startAngle,u=t.endAngle,c=vi(t.cx,o,o/2),f=vi(t.cy,s,s/2),d=Wfe(o,s,r),p=vi(t.innerRadius,d,0),m=vi(t.outerRadius,d,d*.8),g=Object.keys(n);return g.reduce(function(v,x){var b=n[x],S=b.domain,k=b.reversed,A;if(Ze(b.range))i==="angleAxis"?A=[l,u]:i==="radiusAxis"&&(A=[p,m]),k&&(A=[A[1],A[0]]);else{A=b.range;var E=A,C=gut(E,2);l=C[0],u=C[1]}var P=Lfe(b,a),T=P.realScaleType,j=P.scale;j.domain(S).range(A),Ife(j);var D=Rfe(j,Fl(Fl({},b),{},{realScaleType:T})),F=Fl(Fl(Fl({},b),D),{},{range:A,radius:m,realScaleType:T,scale:j,cx:c,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:u});return Fl(Fl({},v),{},Ufe({},x,F))},{})},Sut=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Aut=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,s=Sut({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:_ut(u),angleInRadian:u}},Eut=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},kut=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},hV=function(t,n){var r=t.x,i=t.y,a=Aut({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=Eut(n),f=c.startAngle,d=c.endAngle,p=s,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?Fl(Fl({},n),{},{radius:o,angle:kut(p,n)}):null},qfe=function(t){return!X.isValidElement(t)&&!qe(t)&&typeof t!="boolean"?t.className:""};function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}var Cut=["offset"];function Out(e){return Nut(e)||Tut(e)||$ut(e)||Put()}function Put(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ut(e,t){if(e){if(typeof e=="string")return w3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w3(e,t)}}function Tut(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nut(e){if(Array.isArray(e))return w3(e)}function w3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mut(e,t){if(e==null)return{};var n=jut(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jut(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pV(Object(n),!0).forEach(function(r){Dut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dut(e,t,n){return t=Fut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fut(e){var t=Lut(e,"string");return E1(t)=="symbol"?t:t+""}function Lut(e,t){if(E1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(E1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k1(){return k1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k1.apply(this,arguments)}var Iut=function(t){var n=t.value,r=t.formatter,i=Ze(t.children)?n:t.children;return qe(r)?r(i):i},Rut=function(t,n){var r=yi(n-t),i=Math.min(Math.abs(n-t),360);return r*i},zut=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+d)/2,x=Rut(p,m),b=x>=0?1:-1,S,k;i==="insideStart"?(S=p+b*o,k=g):i==="insideEnd"?(S=m-b*o,k=!g):i==="end"&&(S=m+b*o,k=g),k=x<=0?k:!k;var A=Qt(u,c,v,S),E=Qt(u,c,v,S+(k?1:-1)*359),C="M".concat(A.x,",").concat(A.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(E.x,",").concat(E.y),P=Ze(t.id)?Ch("recharts-radial-line-"):t.id;return H.createElement("text",k1({},r,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",s)}),H.createElement("defs",null,H.createElement("path",{id:P,d:C})),H.createElement("textPath",{xlinkHref:"#".concat(P)},n))},But=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,d=(c+f)/2;if(i==="outside"){var p=Qt(o,s,u+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=Qt(o,s,v,d),b=x.x,S=x.y;return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Uut=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*i,x=g>0?"end":"start",b=g>0?"start":"end";if(a==="top"){var S={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Un(Un({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var k={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:m};return Un(Un({},k),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var A={x:s-v,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return Un(Un({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(a==="right"){var E={x:s+u+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Un(Un({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var C=r?{width:u,height:c}:{};return a==="insideLeft"?Un({x:s+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},C):a==="insideRight"?Un({x:s+u-v,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},C):a==="insideTop"?Un({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},C):a==="insideBottom"?Un({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},C):a==="insideTopLeft"?Un({x:s+v,y:l+d,textAnchor:b,verticalAnchor:m},C):a==="insideTopRight"?Un({x:s+u-v,y:l+d,textAnchor:x,verticalAnchor:m},C):a==="insideBottomLeft"?Un({x:s+v,y:l+c-d,textAnchor:b,verticalAnchor:p},C):a==="insideBottomRight"?Un({x:s+u-v,y:l+c-d,textAnchor:x,verticalAnchor:p},C):Hg(a)&&(he(a.x)||nd(a.x))&&(he(a.y)||nd(a.y))?Un({x:s+vi(a.x,u),y:l+vi(a.y,c),textAnchor:"end",verticalAnchor:"end"},C):Un({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},C)},Wut=function(t){return"cx"in t&&he(t.cx)};function ir(e){var t=e.offset,n=t===void 0?5:t,r=Mut(e,Cut),i=Un({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!a||Ze(s)&&Ze(l)&&!X.isValidElement(u)&&!qe(u))return null;if(X.isValidElement(u))return X.cloneElement(u,i);var p;if(qe(u)){if(p=X.createElement(u,i),X.isValidElement(p))return p}else p=Iut(i);var m=Wut(a),g=je(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return zut(i,p,g);var v=m?But(i):Uut(i);return H.createElement(Qd,k1({className:Ke("recharts-label",f)},g,v,{breakAll:d}),p)}ir.displayName="Label";var Hfe=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,c=t.outerRadius,f=t.x,d=t.y,p=t.top,m=t.left,g=t.width,v=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(he(g)&&he(v)){if(he(f)&&he(d))return{x:f,y:d,width:g,height:v};if(he(p)&&he(m))return{x:p,y:m,width:g,height:v}}return he(f)&&he(d)?{x:f,y:d,width:0,height:0}:he(n)&&he(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:x}:t.viewBox?t.viewBox:{}},qut=function(t,n){return t?t===!0?H.createElement(ir,{key:"label-implicit",viewBox:n}):Yn(t)?H.createElement(ir,{key:"label-implicit",viewBox:n,value:t}):X.isValidElement(t)?t.type===ir?X.cloneElement(t,{key:"label-implicit",viewBox:n}):H.createElement(ir,{key:"label-implicit",content:t,viewBox:n}):qe(t)?H.createElement(ir,{key:"label-implicit",content:t,viewBox:n}):Hg(t)?H.createElement(ir,k1({viewBox:n},t,{key:"label-implicit"})):null:null},Hut=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=Hfe(t),o=Ea(i,ir).map(function(l,u){return X.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=qut(t.label,n||a);return[s].concat(Out(o))};ir.parseViewBox=Hfe;ir.renderCallByParent=Hut;function Gut(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Vut=Gut;const Xut=kt(Vut);function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}var Zut=["valueAccessor"],Yut=["data","dataKey","clockWise","id","textBreakAll"];function Kut(e){return tct(e)||ect(e)||Jut(e)||Qut()}function Qut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jut(e,t){if(e){if(typeof e=="string")return S3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S3(e,t)}}function ect(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tct(e){if(Array.isArray(e))return S3(e)}function S3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JS.apply(this,arguments)}function mV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mV(Object(n),!0).forEach(function(r){nct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nct(e,t,n){return t=rct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rct(e){var t=ict(e,"string");return C1(t)=="symbol"?t:t+""}function ict(e,t){if(C1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(C1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yV(e,t){if(e==null)return{};var n=act(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function act(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var oct=function(t){return Array.isArray(t.value)?Xut(t.value):t.value};function Vs(e){var t=e.valueAccessor,n=t===void 0?oct:t,r=yV(e,Zut),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=yV(r,Yut);return!i||!i.length?null:H.createElement(ct,{className:"recharts-label-list"},i.map(function(c,f){var d=Ze(a)?n(c,f):$n(c&&c.payload,a),p=Ze(s)?{}:{id:"".concat(s,"-").concat(f)};return H.createElement(ir,JS({},je(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:ir.parseViewBox(Ze(o)?c:gV(gV({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Vs.displayName="LabelList";function sct(e,t){return e?e===!0?H.createElement(Vs,{key:"labelList-implicit",data:t}):H.isValidElement(e)||qe(e)?H.createElement(Vs,{key:"labelList-implicit",data:t,content:e}):Hg(e)?H.createElement(Vs,JS({data:t},e,{key:"labelList-implicit"})):null:null}function lct(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Ea(r,Vs).map(function(o,s){return X.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var a=sct(e.label,t);return[a].concat(Kut(i))}Vs.renderCallByParent=lct;function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}function A3(){return A3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A3.apply(this,arguments)}function vV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vV(Object(n),!0).forEach(function(r){uct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uct(e,t,n){return t=cct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cct(e){var t=fct(e,"string");return O1(t)=="symbol"?t:t+""}function fct(e,t){if(O1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(O1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dct=function(t,n){var r=yi(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},P_=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/QS,d=u?a:a+o*f,p=Qt(n,r,c,d),m=Qt(n,r,i,d),g=u?a-o*f:a,v=Qt(n,r,c*Math.cos(f*QS),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},Gfe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=dct(o,s),u=o+l,c=Qt(n,r,a,o),f=Qt(n,r,a,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Qt(n,r,i,o),m=Qt(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},hct=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,f=yi(c-u),d=P_({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,g=d.theta,v=P_({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),x=v.circleTangency,b=v.lineTangency,S=v.theta,k=l?Math.abs(u-c):Math.abs(u-c)-g-S;if(k<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Gfe({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var A="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var E=P_({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=E.circleTangency,P=E.lineTangency,T=E.theta,j=P_({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),D=j.circleTangency,F=j.lineTangency,W=j.theta,R=l?Math.abs(u-c):Math.abs(u-c)-T-W;if(R<0&&o===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},pct={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Vfe=function(t){var n=xV(xV({},pct),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(o<a||c===f)return null;var p=Ke("recharts-sector",d),m=o-a,g=vi(s,m,0,!0),v;return g>0&&Math.abs(c-f)<360?v=hct({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):v=Gfe({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),H.createElement("path",A3({},je(n,!0),{className:p,d:v,role:"img"}))};function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function E3(){return E3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E3.apply(this,arguments)}function bV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _V(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bV(Object(n),!0).forEach(function(r){mct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mct(e,t,n){return t=gct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gct(e){var t=yct(e,"string");return P1(t)=="symbol"?t:t+""}function yct(e,t){if(P1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(P1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wV={curveBasisClosed:Ree,curveBasisOpen:Bee,curveBasis:Lee,curveBumpX:_Ae,curveBumpY:wAe,curveLinearClosed:Vee,curveLinear:nx,curveMonotoneX:Yee,curveMonotoneY:Kee,curveNatural:Jee,curveStep:ete,curveStepAfter:nte,curveStepBefore:tte},$_=function(t){return t.x===+t.x&&t.y===+t.y},K0=function(t){return t.x},Q0=function(t){return t.y},vct=function(t,n){if(qe(t))return t;var r="curve".concat(EC(t));return(r==="curveMonotone"||r==="curveBump")&&n?wV["".concat(r).concat(n==="vertical"?"Y":"X")]:wV[r]||nx},xct=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,c=vct(r,s),f=u?a.filter(function(g){return $_(g)}):a,d;if(Array.isArray(o)){var p=u?o.filter(function(g){return $_(g)}):o,m=f.map(function(g,v){return _V(_V({},g),{},{base:p[v]})});return s==="vertical"?d=_p().y(Q0).x1(K0).x0(function(g){return g.base.x}):d=_p().x(K0).y1(Q0).y0(function(g){return g.base.y}),d.defined($_).curve(c),d(m)}return s==="vertical"&&he(o)?d=_p().y(Q0).x1(K0).x0(o):he(o)?d=_p().x(K0).y1(Q0).y0(o):d=zL().x(K0).y(Q0),d.defined($_).curve(c),d(f)},vd=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?xct(t):i;return X.createElement("path",E3({},je(t,!1),LS(t),{className:Ke("recharts-curve",n),d:o,ref:a}))},Xfe={exports:{}},bct="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_ct=bct,wct=_ct;function Zfe(){}function Yfe(){}Yfe.resetWarningCache=Zfe;var Sct=function(){function e(r,i,a,o,s,l){if(l!==wct){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Yfe,resetWarningCache:Zfe};return n.PropTypes=n,n};Xfe.exports=Sct();var Act=Xfe.exports;const Nt=kt(Act),{getOwnPropertyNames:Ect,getOwnPropertySymbols:kct}=Object,{hasOwnProperty:Cct}=Object.prototype;function cT(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function T_(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:a}=i,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);const l=e(n,r,i);return a.delete(n),a.delete(r),l}}function Oct(e){return e!=null?e[Symbol.toStringTag]:void 0}function SV(e){return Ect(e).concat(kct(e))}const Pct=Object.hasOwn||((e,t)=>Cct.call(e,t));function Oh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const $ct="__v",Tct="__o",Nct="_owner",{getOwnPropertyDescriptor:AV,keys:EV}=Object;function Mct(e,t){return e.byteLength===t.byteLength&&eA(new Uint8Array(e),new Uint8Array(t))}function jct(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Dct(e,t){return e.byteLength===t.byteLength&&eA(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Fct(e,t){return Oh(e.getTime(),t.getTime())}function Lct(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ict(e,t){return e===t}function kV(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),a=e.entries();let o,s,l=0;for(;(o=a.next())&&!o.done;){const u=t.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const d=o.value,p=s.value;if(n.equals(d[0],p[0],l,f,e,t,n)&&n.equals(d[1],p[1],d[0],p[0],e,t,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const Rct=Oh;function zct(e,t,n){const r=EV(e);let i=r.length;if(EV(t).length!==i)return!1;for(;i-- >0;)if(!Kfe(e,t,n,r[i]))return!1;return!0}function J0(e,t,n){const r=SV(e);let i=r.length;if(SV(t).length!==i)return!1;let a,o,s;for(;i-- >0;)if(a=r[i],!Kfe(e,t,n,a)||(o=AV(e,a),s=AV(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Bct(e,t){return Oh(e.valueOf(),t.valueOf())}function Uct(e,t){return e.source===t.source&&e.flags===t.flags}function CV(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),a=e.values();let o,s;for(;(o=a.next())&&!o.done;){const l=t.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,e,t,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function eA(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Wct(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Kfe(e,t,n,r){return(r===Nct||r===Tct||r===$ct)&&(e.$$typeof||t.$$typeof)?!0:Pct(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const qct="[object ArrayBuffer]",Hct="[object Arguments]",Gct="[object Boolean]",Vct="[object DataView]",Xct="[object Date]",Zct="[object Error]",Yct="[object Map]",Kct="[object Number]",Qct="[object Object]",Jct="[object RegExp]",eft="[object Set]",tft="[object String]",nft={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},rft="[object URL]",ift=Object.prototype.toString;function aft({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:p,unknownTagComparators:m}){return function(v,x,b){if(v===x)return!0;if(v==null||x==null)return!1;const S=typeof v;if(S!==typeof x)return!1;if(S!=="object")return S==="number"?s(v,x,b):S==="function"?a(v,x,b):!1;const k=v.constructor;if(k!==x.constructor)return!1;if(k===Object)return l(v,x,b);if(Array.isArray(v))return t(v,x,b);if(k===Date)return r(v,x,b);if(k===RegExp)return c(v,x,b);if(k===Map)return o(v,x,b);if(k===Set)return f(v,x,b);const A=ift.call(v);if(A===Xct)return r(v,x,b);if(A===Jct)return c(v,x,b);if(A===Yct)return o(v,x,b);if(A===eft)return f(v,x,b);if(A===Qct)return typeof v.then!="function"&&typeof x.then!="function"&&l(v,x,b);if(A===rft)return p(v,x,b);if(A===Zct)return i(v,x,b);if(A===Hct)return l(v,x,b);if(nft[A])return d(v,x,b);if(A===qct)return e(v,x,b);if(A===Vct)return n(v,x,b);if(A===Gct||A===Kct||A===tft)return u(v,x,b);if(m){let E=m[A];if(!E){const C=Oct(v);C&&(E=m[C])}if(E)return E(v,x,b)}return!1}}function oft({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:Mct,areArraysEqual:n?J0:jct,areDataViewsEqual:Dct,areDatesEqual:Fct,areErrorsEqual:Lct,areFunctionsEqual:Ict,areMapsEqual:n?cT(kV,J0):kV,areNumbersEqual:Rct,areObjectsEqual:n?J0:zct,arePrimitiveWrappersEqual:Bct,areRegExpsEqual:Uct,areSetsEqual:n?cT(CV,J0):CV,areTypedArraysEqual:n?cT(eA,J0):eA,areUrlsEqual:Wct,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const i=T_(r.areArraysEqual),a=T_(r.areMapsEqual),o=T_(r.areObjectsEqual),s=T_(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:s})}return r}function sft(e){return function(t,n,r,i,a,o,s){return e(t,n,s)}}function lft({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=e?new WeakMap:void 0,meta:c}=n();return t(s,l,{cache:u,equals:r,meta:c,strict:i})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return t(s,l,a)}}const uft=yf();yf({strict:!0});yf({circular:!0});yf({circular:!0,strict:!0});yf({createInternalComparator:()=>Oh});yf({strict:!0,createInternalComparator:()=>Oh});yf({circular:!0,createInternalComparator:()=>Oh});yf({circular:!0,createInternalComparator:()=>Oh,strict:!0});function yf(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,a=oft(e),o=aft(a),s=n?n(o):sft(o);return lft({circular:t,comparator:o,createState:r,equals:s,strict:i})}function cft(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function OV(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):cft(i)};requestAnimationFrame(r)}function k3(e){"@babel/helpers - typeof";return k3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k3(e)}function fft(e){return mft(e)||pft(e)||hft(e)||dft()}function dft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hft(e,t){if(e){if(typeof e=="string")return PV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PV(e,t)}}function PV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mft(e){if(Array.isArray(e))return e}function gft(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=fft(o),l=s[0],u=s.slice(1);if(typeof l=="number"){OV(i.bind(null,u),l);return}i(l),OV(i.bind(null,u));return}k3(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}function $V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$V(Object(n),!0).forEach(function(r){Qfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$V(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qfe(e,t,n){return t=yft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yft(e){var t=vft(e,"string");return $1(t)==="symbol"?t:String(t)}function vft(e,t){if($1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xft=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},bft=function(t){return t},_ft=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},uv=function(t,n){return Object.keys(n).reduce(function(r,i){return TV(TV({},r),{},Qfe({},i,t(i,n[i])))},{})},NV=function(t,n,r){return t.map(function(i){return"".concat(_ft(i)," ").concat(n,"ms ").concat(r)}).join(",")};function wft(e,t){return Eft(e)||Aft(e,t)||Jfe(e,t)||Sft()}function Sft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aft(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Eft(e){if(Array.isArray(e))return e}function kft(e){return Pft(e)||Oft(e)||Jfe(e)||Cft()}function Cft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jfe(e,t){if(e){if(typeof e=="string")return C3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C3(e,t)}}function Oft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pft(e){if(Array.isArray(e))return C3(e)}function C3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tA=1e-4,ede=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},tde=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},MV=function(t,n){return function(r){var i=ede(t,n);return tde(i,r)}},$ft=function(t,n){return function(r){var i=ede(t,n),a=[].concat(kft(i.map(function(o,s){return o*s}).slice(1)),[0]);return tde(a,r)}},jV=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=wft(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=MV(i,o),d=MV(a,s),p=$ft(i,o),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var b=x>1?1:x,S=b,k=0;k<8;++k){var A=f(S)-b,E=p(S);if(Math.abs(A-b)<tA||E<tA)return d(S);S=m(S-A/E)}return d(S)};return g.isStepper=!1,g},Tft=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(c,f,d){var p=-(c-f)*r,m=d*a,g=d+(p-m)*s/1e3,v=d*s/1e3+c;return Math.abs(v-f)<tA&&Math.abs(g)<tA?[f,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},Nft=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jV(i);case"spring":return Tft();default:if(i.split("(")[0]==="cubic-bezier")return jV(i)}return typeof i=="function"?i:null};function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function DV(e){return Dft(e)||jft(e)||nde(e)||Mft()}function Mft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dft(e){if(Array.isArray(e))return P3(e)}function FV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FV(Object(n),!0).forEach(function(r){O3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O3(e,t,n){return t=Fft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fft(e){var t=Lft(e,"string");return T1(t)==="symbol"?t:String(t)}function Lft(e,t){if(T1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(T1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ift(e,t){return Bft(e)||zft(e,t)||nde(e,t)||Rft()}function Rft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nde(e,t){if(e){if(typeof e=="string")return P3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P3(e,t)}}function P3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zft(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Bft(e){if(Array.isArray(e))return e}var nA=function(t,n,r){return t+(n-t)*r},$3=function(t){var n=t.from,r=t.to;return n!==r},Uft=function e(t,n,r){var i=uv(function(a,o){if($3(o)){var s=t(o.from,o.to,o.velocity),l=Ift(s,2),u=l[0],c=l[1];return vr(vr({},o),{},{from:u,velocity:c})}return o},n);return r<1?uv(function(a,o){return $3(o)?vr(vr({},o),{},{velocity:nA(o.velocity,i[a].velocity,r),from:nA(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const Wft=function(e,t,n,r,i){var a=xft(e,t),o=a.reduce(function(v,x){return vr(vr({},v),{},O3({},x,[e[x],t[x]]))},{}),s=a.reduce(function(v,x){return vr(vr({},v),{},O3({},x,{from:e[x],velocity:0,to:t[x]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return uv(function(x,b){return b.from},s)},p=function(){return!Object.values(s).filter($3).length},m=function(x){u||(u=x);var b=x-u,S=b/n.dt;s=Uft(n,s,S),i(vr(vr(vr({},e),t),d())),u=x,p()||(l=requestAnimationFrame(f))},g=function(x){c||(c=x);var b=(x-c)/r,S=uv(function(A,E){return nA.apply(void 0,DV(E).concat([n(b)]))},o);if(i(vr(vr(vr({},e),t),S)),b<1)l=requestAnimationFrame(f);else{var k=uv(function(A,E){return nA.apply(void 0,DV(E).concat([n(1)]))},o);i(vr(vr(vr({},e),t),k))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}var qft=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Hft(e,t){if(e==null)return{};var n=Gft(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gft(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function fT(e){return Yft(e)||Zft(e)||Xft(e)||Vft()}function Vft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xft(e,t){if(e){if(typeof e=="string")return T3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T3(e,t)}}function Zft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yft(e){if(Array.isArray(e))return T3(e)}function T3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LV(Object(n),!0).forEach(function(r){$y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $y(e,t,n){return t=rde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rde(r.key),r)}}function Jft(e,t,n){return t&&Qft(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rde(e){var t=edt(e,"string");return Xm(t)==="symbol"?t:String(t)}function edt(e,t){if(Xm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N3(e,t)}function N3(e,t){return N3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N3(e,t)}function ndt(e){var t=rdt();return function(){var r=rA(e),i;if(t){var a=rA(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return M3(this,i)}}function M3(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j3(e)}function j3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rdt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rA(e){return rA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rA(e)}var is=function(e){tdt(n,e);var t=ndt(n);function n(r,i){var a;Kft(this,n),a=t.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,d=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(j3(a)),a.changeStyle=a.changeStyle.bind(j3(a)),!s||p<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:c}),M3(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof d=="function")return a.state={style:u},M3(a);a.state={style:l?$y({},l,u):u}}else a.state={style:{}};return a}return Jft(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,d=this.state.style;if(s){if(!o){var p={style:l?$y({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(uft(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&d){var v={style:l?$y({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(v)}this.runAnimation(Co(Co({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=Wft(o,s,Nft(u),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([d,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,v,x){if(x===0)return g;var b=v.duration,S=v.easing,k=S===void 0?"ease":S,A=v.style,E=v.properties,C=v.onAnimationEnd,P=x>0?o[x-1]:v,T=E||Object.keys(A);if(typeof k=="function"||k==="spring")return[].concat(fT(g),[a.runJSAnimation.bind(a,{from:P.style,to:A,duration:b,easing:k}),b]);var j=NV(T,b,k),D=Co(Co(Co({},P.style),A),{},{transition:j});return[].concat(fT(g),[D,b,C]).filter(bft)};return this.manager.start([l].concat(fT(o.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=gft());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?$y({},s,l):l,v=NV(Object.keys(g),o,u);m.start([c,a,Co(Co({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Hft(i,qft),u=X.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,x=m.className,b=X.cloneElement(p,Co(Co({},l),{},{style:Co(Co({},v),c),className:x}));return b};return u===1?f(X.Children.only(a)):H.createElement("div",null,X.Children.map(a,function(d){return f(d)}))}}]),n}(X.PureComponent);is.displayName="Animate";is.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};is.propTypes={from:Nt.oneOfType([Nt.object,Nt.string]),to:Nt.oneOfType([Nt.object,Nt.string]),attributeName:Nt.string,duration:Nt.number,begin:Nt.number,easing:Nt.oneOfType([Nt.string,Nt.func]),steps:Nt.arrayOf(Nt.shape({duration:Nt.number.isRequired,style:Nt.object.isRequired,easing:Nt.oneOfType([Nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Nt.func]),properties:Nt.arrayOf("string"),onAnimationEnd:Nt.func})),children:Nt.oneOfType([Nt.node,Nt.func]),isActive:Nt.bool,canBegin:Nt.bool,onAnimationEnd:Nt.func,shouldReAnimate:Nt.bool,onAnimationStart:Nt.func,onAnimationReStart:Nt.func};function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function iA(){return iA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iA.apply(this,arguments)}function idt(e,t){return ldt(e)||sdt(e,t)||odt(e,t)||adt()}function adt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function odt(e,t){if(e){if(typeof e=="string")return IV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IV(e,t)}}function IV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sdt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ldt(e){if(Array.isArray(e))return e}function RV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RV(Object(n),!0).forEach(function(r){udt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function udt(e,t,n){return t=cdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cdt(e){var t=fdt(e,"string");return N1(t)=="symbol"?t:t+""}function fdt(e,t){if(N1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(N1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BV=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=a[d]>o?o:a[d];c="M".concat(t,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(n)),c+="L ".concat(t+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+s*f[1])),c+="L ".concat(t+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-l*f[2],",").concat(n+i)),c+="L ".concat(t+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);c="M ".concat(t,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+l*m,",").concat(n,`
            L `).concat(t+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r,",").concat(n+s*m,`
            L `).concat(t+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r-l*m,",").concat(n+i,`
            L `).concat(t+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(n+i-s*m," Z")}else c="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},ddt=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),d=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},hdt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Oz=function(t){var n=zV(zV({},hdt),t),r=X.useRef(),i=X.useState(-1),a=idt(i,2),o=a[0],s=a[1];X.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&s(k)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=Ke("recharts-rectangle",p);return b?H.createElement(is,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:b},function(k){var A=k.width,E=k.height,C=k.x,P=k.y;return H.createElement(is,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:m},H.createElement("path",iA({},je(n,!0),{className:S,d:BV(C,P,A,E,d),ref:r})))}):H.createElement("path",iA({},je(n,!0),{className:S,d:BV(l,u,c,f,d)}))},pdt=["points","className","baseLinePoints","connectNulls"];function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pp.apply(this,arguments)}function mdt(e,t){if(e==null)return{};var n=gdt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gdt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function UV(e){return bdt(e)||xdt(e)||vdt(e)||ydt()}function ydt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vdt(e,t){if(e){if(typeof e=="string")return D3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D3(e,t)}}function xdt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bdt(e){if(Array.isArray(e))return D3(e)}function D3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var WV=function(t){return t&&t.x===+t.x&&t.y===+t.y},_dt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){WV(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),WV(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},cv=function(t,n){var r=_dt(t);n&&(r=[r.reduce(function(a,o){return[].concat(UV(a),UV(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},wdt=function(t,n,r){var i=cv(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(cv(n.reverse(),r).slice(1))},Sdt=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,a=t.connectNulls,o=mdt(t,pdt);if(!n||!n.length)return null;var s=Ke("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=wdt(n,i,a);return H.createElement("g",{className:s},H.createElement("path",Pp({},je(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?H.createElement("path",Pp({},je(o,!0),{fill:"none",d:cv(n,a)})):null,l?H.createElement("path",Pp({},je(o,!0),{fill:"none",d:cv(i,a)})):null)}var c=cv(n,a);return H.createElement("path",Pp({},je(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function F3(){return F3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F3.apply(this,arguments)}var Kx=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=Ke("recharts-dot",a);return n===+n&&r===+r&&i===+i?X.createElement("circle",F3({},je(t,!1),LS(t),{className:o,cx:n,cy:r,r:i})):null};function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}var Adt=["x","y","top","left","width","height","className"];function L3(){return L3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L3.apply(this,arguments)}function qV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Edt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qV(Object(n),!0).forEach(function(r){kdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kdt(e,t,n){return t=Cdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cdt(e){var t=Odt(e,"string");return M1(t)=="symbol"?t:t+""}function Odt(e,t){if(M1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(M1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pdt(e,t){if(e==null)return{};var n=$dt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $dt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Tdt=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Ndt=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,u=l===void 0?0:l,c=t.width,f=c===void 0?0:c,d=t.height,p=d===void 0?0:d,m=t.className,g=Pdt(t,Adt),v=Edt({x:r,y:a,top:s,left:u,width:f,height:p},g);return!he(r)||!he(a)||!he(f)||!he(p)||!he(s)||!he(u)?null:H.createElement("path",L3({},je(v,!0),{className:Ke("recharts-cross",m),d:Tdt(r,a,f,p,s,u)}))},Mdt=$C,jdt=mfe,Ddt=_l;function Fdt(e,t){return e&&e.length?Mdt(e,Ddt(t),jdt):void 0}var Ldt=Fdt;const Idt=kt(Ldt);var Rdt=$C,zdt=_l,Bdt=gfe;function Udt(e,t){return e&&e.length?Rdt(e,zdt(t),Bdt):void 0}var Wdt=Udt;const qdt=kt(Wdt);var Hdt=["cx","cy","angle","ticks","axisLine"],Gdt=["ticks","tick","angle","tickFormatter","stroke"];function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fv.apply(this,arguments)}function HV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HV(Object(n),!0).forEach(function(r){jC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GV(e,t){if(e==null)return{};var n=Vdt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Vdt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Xdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ade(r.key),r)}}function Zdt(e,t,n){return t&&VV(e.prototype,t),n&&VV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ydt(e,t,n){return t=aA(t),Kdt(e,ide()?Reflect.construct(t,n||[],aA(e).constructor):t.apply(e,n))}function Kdt(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qdt(e)}function Qdt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ide(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ide=function(){return!!e})()}function aA(e){return aA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aA(e)}function Jdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I3(e,t)}function I3(e,t){return I3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I3(e,t)}function jC(e,t,n){return t=ade(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ade(e){var t=eht(e,"string");return Zm(t)=="symbol"?t:t+""}function eht(e,t){if(Zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DC=function(e){function t(){return Xdt(this,t),Ydt(this,t,arguments)}return Jdt(t,e),Zdt(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Qt(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=Idt(s,function(c){return c.coordinate||0}),u=qdt(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=GV(r,Hdt),c=s.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=Qt(i,a,c[0],o),d=Qt(i,a,c[1],o),p=jf(jf(jf({},je(u,!1)),{},{fill:"none"},je(l,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return H.createElement("line",fv({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=GV(i,Gdt),f=this.getTickTextAnchor(),d=je(c,!1),p=je(o,!1),m=a.map(function(g,v){var x=r.getTickValueCoord(g),b=jf(jf(jf(jf({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(x.x,", ").concat(x.y,")")},d),{},{stroke:"none",fill:u},p),{},{index:v},x),{},{payload:g});return H.createElement(ct,fv({className:Ke("recharts-polar-radius-axis-tick",qfe(o)),key:"tick-".concat(g.coordinate)},Kd(r.props,g,v)),t.renderTickItem(o,b,l?l(g.value,v):g.value))});return H.createElement(ct,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:H.createElement(ct,{className:Ke("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ir.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return H.isValidElement(r)?o=H.cloneElement(r,i):qe(r)?o=r(i):o=H.createElement(Qd,fv({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(X.PureComponent);jC(DC,"displayName","PolarRadiusAxis");jC(DC,"axisType","radiusAxis");jC(DC,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zf.apply(this,arguments)}function XV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Df(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XV(Object(n),!0).forEach(function(r){FC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sde(r.key),r)}}function nht(e,t,n){return t&&ZV(e.prototype,t),n&&ZV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rht(e,t,n){return t=oA(t),iht(e,ode()?Reflect.construct(t,n||[],oA(e).constructor):t.apply(e,n))}function iht(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aht(e)}function aht(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ode(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ode=function(){return!!e})()}function oA(e){return oA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oA(e)}function oht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R3(e,t)}function R3(e,t){return R3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R3(e,t)}function FC(e,t,n){return t=sde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sde(e){var t=sht(e,"string");return Ym(t)=="symbol"?t:t+""}function sht(e,t){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lht=Math.PI/180,YV=1e-5,LC=function(e){function t(){return tht(this,t),rht(this,t,arguments)}return oht(t,e),nht(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Qt(a,o,s,r.coordinate),d=Qt(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*lht),o;return a>YV?o=i==="outer"?"start":"end":a<-YV?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=Df(Df({},je(this.props,!1)),{},{fill:"none"},je(s,!1));if(l==="circle")return H.createElement(Kx,Zf({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(d){return Qt(i,a,o,d.coordinate)});return H.createElement(Sdt,Zf({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=je(this.props,!1),f=je(o,!1),d=Df(Df({},c),{},{fill:"none"},je(s,!1)),p=a.map(function(m,g){var v=r.getTickLineCoord(m),x=r.getTickTextAnchor(m),b=Df(Df(Df({textAnchor:x},c),{},{stroke:"none",fill:u},f),{},{index:g,payload:m,x:v.x2,y:v.y2});return H.createElement(ct,Zf({className:Ke("recharts-polar-angle-axis-tick",qfe(o)),key:"tick-".concat(m.coordinate)},Kd(r.props,m,g)),s&&H.createElement("line",Zf({className:"recharts-polar-angle-axis-tick-line"},d,v)),o&&t.renderTickItem(o,b,l?l(m.value,g):m.value))});return H.createElement(ct,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:H.createElement(ct,{className:Ke("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return H.isValidElement(r)?o=H.cloneElement(r,i):qe(r)?o=r(i):o=H.createElement(Qd,Zf({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(X.PureComponent);FC(LC,"displayName","PolarAngleAxis");FC(LC,"axisType","angleAxis");FC(LC,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var uht=qce,cht=uht(Object.getPrototypeOf,Object),fht=cht,dht=Nu,hht=fht,pht=Mu,mht="[object Object]",ght=Function.prototype,yht=Object.prototype,lde=ght.toString,vht=yht.hasOwnProperty,xht=lde.call(Object);function bht(e){if(!pht(e)||dht(e)!=mht)return!1;var t=hht(e);if(t===null)return!0;var n=vht.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&lde.call(n)==xht}var _ht=bht;const wht=kt(_ht);var Sht=Nu,Aht=Mu,Eht="[object Boolean]";function kht(e){return e===!0||e===!1||Aht(e)&&Sht(e)==Eht}var Cht=kht;const Oht=kt(Cht);function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function sA(){return sA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sA.apply(this,arguments)}function Pht(e,t){return Mht(e)||Nht(e,t)||Tht(e,t)||$ht()}function $ht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tht(e,t){if(e){if(typeof e=="string")return KV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KV(e,t)}}function KV(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nht(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mht(e){if(Array.isArray(e))return e}function QV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QV(Object(n),!0).forEach(function(r){jht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jht(e,t,n){return t=Dht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dht(e){var t=Fht(e,"string");return j1(t)=="symbol"?t:t+""}function Fht(e,t){if(j1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(j1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eX=function(t,n,r,i,a){var o=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-o/2,",").concat(n+a),s+="L ".concat(t+r-o/2-i,",").concat(n+a),s+="L ".concat(t,",").concat(n," Z"),s},Lht={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Iht=function(t){var n=JV(JV({},Lht),t),r=X.useRef(),i=X.useState(-1),a=Pht(i,2),o=a[0],s=a[1];X.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var b=Ke("recharts-trapezoid",p);return x?H.createElement(is,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:m,isActive:x},function(S){var k=S.upperWidth,A=S.lowerWidth,E=S.height,C=S.x,P=S.y;return H.createElement(is,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},H.createElement("path",sA({},je(n,!0),{className:b,d:eX(C,P,k,A,E),ref:r})))}):H.createElement("g",null,H.createElement("path",sA({},je(n,!0),{className:b,d:eX(l,u,c,f,d)})))},Rht=["option","shapeType","propTransformer","activeClassName","isActive"];function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function zht(e,t){if(e==null)return{};var n=Bht(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bht(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tX(Object(n),!0).forEach(function(r){Uht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uht(e,t,n){return t=Wht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wht(e){var t=qht(e,"string");return D1(t)=="symbol"?t:t+""}function qht(e,t){if(D1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(D1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hht(e,t){return lA(lA({},t),e)}function Ght(e,t){return e==="symbols"}function nX(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return H.createElement(Oz,n);case"trapezoid":return H.createElement(Iht,n);case"sector":return H.createElement(Vfe,n);case"symbols":if(Ght(t))return H.createElement(mz,n);break;default:return null}}function Vht(e){return X.isValidElement(e)?e.props:e}function ude(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Hht:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=zht(e,Rht),u;if(X.isValidElement(t))u=X.cloneElement(t,lA(lA({},l),Vht(t)));else if(qe(t))u=t(l);else if(wht(t)&&!Oht(t)){var c=i(t,l);u=H.createElement(nX,{shapeType:n,elementProps:c})}else{var f=l;u=H.createElement(nX,{shapeType:n,elementProps:f})}return s?H.createElement(ct,{className:o},u):u}function IC(e,t){return t!=null&&"trapezoids"in e.props}function RC(e,t){return t!=null&&"sectors"in e.props}function F1(e,t){return t!=null&&"points"in e.props}function Xht(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function Zht(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Yht(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Kht(e,t){var n;return IC(e,t)?n=Xht:RC(e,t)?n=Zht:F1(e,t)&&(n=Yht),n}function Qht(e,t){var n;return IC(e,t)?n="trapezoids":RC(e,t)?n="sectors":F1(e,t)&&(n="points"),n}function Jht(e,t){if(IC(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(RC(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return F1(e,t)?t.payload:{}}function ept(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Qht(n,t),a=Jht(n,t),o=r.filter(function(l,u){var c=Jd(a,l),f=n.props[i].filter(function(m){var g=Kht(n,t);return g(m,t)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),s=r.indexOf(o[o.length-1]);return s}var _w;function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$p.apply(this,arguments)}function rX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rX(Object(n),!0).forEach(function(r){Ya(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fde(r.key),r)}}function npt(e,t,n){return t&&iX(e.prototype,t),n&&iX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rpt(e,t,n){return t=uA(t),ipt(e,cde()?Reflect.construct(t,n||[],uA(e).constructor):t.apply(e,n))}function ipt(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return apt(e)}function apt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cde=function(){return!!e})()}function uA(e){return uA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uA(e)}function opt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z3(e,t)}function z3(e,t){return z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z3(e,t)}function Ya(e,t,n){return t=fde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fde(e){var t=spt(e,"string");return Km(t)=="symbol"?t:t+""}function spt(e,t){if(Km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ju=function(e){function t(n){var r;return tpt(this,t),r=rpt(this,t,[n]),Ya(r,"pieRef",null),Ya(r,"sectorRefs",[]),Ya(r,"id",Ch("recharts-pie-")),Ya(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),qe(i)&&i()}),Ya(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),qe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return opt(t,e),npt(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=je(this.props,!1),f=je(o,!1),d=je(s,!1),p=o&&o.offsetRadius||20,m=r.map(function(g,v){var x=(g.startAngle+g.endAngle)/2,b=Qt(g.cx,g.cy,g.outerRadius+p,x),S=Zt(Zt(Zt(Zt({},c),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,g.cx)},b),k=Zt(Zt(Zt(Zt({},c),g),{},{fill:"none",stroke:g.fill},d),{},{index:v,points:[Qt(g.cx,g.cy,g.outerRadius,x),b]}),A=l;return Ze(l)&&Ze(u)?A="value":Ze(l)&&(A=u),H.createElement(ct,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},s&&t.renderLabelLineItem(s,k,"line"),t.renderLabelItem(o,S,$n(g,A)))});return H.createElement(ct,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),d=l&&i.hasActiveIndex()?l:null,p=f?o:d,m=Zt(Zt({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return H.createElement(ct,$p({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Kd(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),H.createElement(ude,$p({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,d=f.prevSectors,p=f.prevIsAnimationActive;return H.createElement(is,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,v=[],x=a&&a[0],b=x.startAngle;return a.forEach(function(S,k){var A=d&&d[k],E=k>0?Aa(S,"paddingAngle",0):0;if(A){var C=Hn(A.endAngle-A.startAngle,S.endAngle-S.startAngle),P=Zt(Zt({},S),{},{startAngle:b+E,endAngle:b+C(g)+E});v.push(P),b=P.endAngle}else{var T=S.endAngle,j=S.startAngle,D=Hn(0,T-j),F=D(g),W=Zt(Zt({},S),{},{startAngle:b+E,endAngle:b+F+E});v.push(W),b=W.endAngle}}),H.createElement(ct,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Jd(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,d=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(a||!o||!o.length||!he(u)||!he(c)||!he(f)||!he(d))return null;var g=Ke("recharts-pie",s);return H.createElement(ct,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){r.pieRef=x}},this.renderSectors(),l&&this.renderLabels(o),ir.renderCallByParent(this.props,null,!1),(!p||m)&&Vs.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(H.isValidElement(r))return H.cloneElement(r,i);if(qe(r))return r(i);var o=Ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return H.createElement(vd,$p({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(H.isValidElement(r))return H.cloneElement(r,i);var o=a;if(qe(r)&&(o=r(i),H.isValidElement(o)))return o;var s=Ke("recharts-pie-label-text",typeof r!="boolean"&&!qe(r)?r.className:"");return H.createElement(Qd,$p({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(X.PureComponent);_w=ju;Ya(ju,"displayName","Pie");Ya(ju,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ya(ju,"parseDeltaAngle",function(e,t){var n=yi(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Ya(ju,"getRealPieData",function(e){var t=e.data,n=e.children,r=je(e,!1),i=Ea(n,PC);return t&&t.length?t.map(function(a,o){return Zt(Zt(Zt({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Zt(Zt({},r),a.props)}):[]});Ya(ju,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,o=Wfe(i,a),s=r+vi(e.cx,i,i/2),l=n+vi(e.cy,a,a/2),u=vi(e.innerRadius,o,0),c=vi(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});Ya(ju,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Zt(Zt({},t.type.defaultProps),t.props):t.props,i=_w.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,d=r.tooltipType,p=Math.abs(r.minAngle),m=_w.parseCoordinateOfPie(r,n),g=_w.parseDeltaAngle(o,s),v=Math.abs(g),x=u;Ze(u)&&Ze(f)?(Zo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ze(u)&&(Zo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var b=i.filter(function(P){return $n(P,x,0)!==0}).length,S=(v>=360?b:b-1)*l,k=v-b*p-S,A=i.reduce(function(P,T){var j=$n(T,x,0);return P+(he(j)?j:0)},0),E;if(A>0){var C;E=i.map(function(P,T){var j=$n(P,x,0),D=$n(P,c,T),F=(he(j)?j:0)/A,W;T?W=C.endAngle+yi(g)*l*(j!==0?1:0):W=o;var R=W+yi(g)*((j!==0?p:0)+F*k),N=(W+R)/2,z=(m.innerRadius+m.outerRadius)/2,q=[{name:D,value:j,payload:P,dataKey:x,type:d}],B=Qt(m.cx,m.cy,z,N);return C=Zt(Zt(Zt({percent:F,cornerRadius:a,name:D,tooltipPayload:q,midAngle:N,middleRadius:z,tooltipPosition:B},P),m),{},{value:$n(P,x),startAngle:W,endAngle:R,payload:P,paddingAngle:yi(g)*l}),C})}return Zt(Zt({},m),{},{sectors:E,data:i})});var lpt=Math.ceil,upt=Math.max;function cpt(e,t,n,r){for(var i=-1,a=upt(lpt((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var fpt=cpt,dpt=ufe,aX=1/0,hpt=17976931348623157e292;function ppt(e){if(!e)return e===0?e:0;if(e=dpt(e),e===aX||e===-aX){var t=e<0?-1:1;return t*hpt}return e===e?e:0}var dde=ppt,mpt=fpt,gpt=OC,dT=dde;function ypt(e){return function(t,n,r){return r&&typeof r!="number"&&gpt(t,n,r)&&(n=r=void 0),t=dT(t),n===void 0?(n=t,t=0):n=dT(n),r=r===void 0?t<n?1:-1:dT(r),mpt(t,n,r,e)}}var vpt=ypt,xpt=vpt,bpt=xpt(),_pt=bpt;const cA=kt(_pt);function L1(e){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(e)}function oX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oX(Object(n),!0).forEach(function(r){hde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hde(e,t,n){return t=wpt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wpt(e){var t=Spt(e,"string");return L1(t)=="symbol"?t:t+""}function Spt(e,t){if(L1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(L1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Apt=["Webkit","Moz","O","ms"],Ept=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Apt.reduce(function(a,o){return sX(sX({},a),{},hde({},o+r,n))},{});return i[t]=n,i};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function fA(){return fA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fA.apply(this,arguments)}function lX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lX(Object(n),!0).forEach(function(r){la(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mde(r.key),r)}}function Cpt(e,t,n){return t&&uX(e.prototype,t),n&&uX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Opt(e,t,n){return t=dA(t),Ppt(e,pde()?Reflect.construct(t,n||[],dA(e).constructor):t.apply(e,n))}function Ppt(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $pt(e)}function $pt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pde=function(){return!!e})()}function dA(e){return dA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dA(e)}function Tpt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B3(e,t)}function B3(e,t){return B3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B3(e,t)}function la(e,t,n){return t=mde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mde(e){var t=Npt(e,"string");return Qm(t)=="symbol"?t:t+""}function Npt(e,t){if(Qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mpt=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Hy().domain(cA(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},cX=function(t){return t.changedTouches&&!!t.changedTouches.length},Jm=function(e){function t(n){var r;return kpt(this,t),r=Opt(this,t,[n]),la(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),la(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),la(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),la(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),la(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),la(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),la(r,"handleSlideDragStart",function(i){var a=cX(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Tpt(t,e),Cpt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),d=Math.max(i,a),p=t.getIndexInRange(o,f),m=t.getIndexInRange(o,d);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=$n(a[r],s,r);return qe(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-a;g>0?g=Math.min(g,u+c-f-s,u+c-f-o):g<0&&(g=Math.max(g,u-o,u-s));var v=this.getIndex({startX:o+g,endX:s+g});(v.startIndex!==d||v.endIndex!==p)&&m&&m(v),this.setState({startX:o+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=cX(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,v=c.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,f+d-p-u):b<0&&(b=Math.max(b,f-u)),x[o]=u+b;var S=this.getIndex(x),k=S.startIndex,A=S.endIndex,E=function(){var P=v.length-1;return o==="startX"&&(s>l?k%g===0:A%g===0)||s<l&&A===P||o==="endX"&&(s>l?A%g===0:k%g===0)||s>l&&A===P};this.setState(la(la({},o,u+b),"brushMoveStartX",r.pageX),function(){m&&E()&&m(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(la({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return H.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=X.Children.only(u);return f?H.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),b=hT(hT({},je(this.props,!1)),{},{x,y:u,width:c,height:f}),S=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[v])===null||o===void 0?void 0:o.name);return H.createElement(ct,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),s.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,m={pointerEvents:"none",fill:u};return H.createElement(ct,{className:"recharts-brush-texts"},H.createElement(Qd,fA({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:o+s/2},m),this.getTextOfTick(i)),H.createElement(Qd,fA({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,v=d.isSlideMoving,x=d.isTravellerMoving,b=d.isTravellerFocused;if(!i||!i.length||!he(s)||!he(l)||!he(u)||!he(c)||u<=0||c<=0)return null;var S=Ke("recharts-brush",a),k=H.Children.count(o)===1,A=Ept("userSelect","none");return H.createElement(ct,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),H.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return H.isValidElement(r)?a=H.cloneElement(r,i):qe(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return hT({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Mpt({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(X.PureComponent);la(Jm,"displayName","Brush");la(Jm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jpt=wz;function Dpt(e,t){var n;return jpt(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}var Fpt=Dpt,Lpt=Fce,Ipt=_l,Rpt=Fpt,zpt=ra,Bpt=OC;function Upt(e,t,n){var r=zpt(e)?Lpt:Rpt;return n&&Bpt(e,t,n)&&(t=void 0),r(e,Ipt(t))}var Wpt=Upt;const qpt=kt(Wpt);var Xs=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},fX=ife;function Hpt(e,t,n){t=="__proto__"&&fX?fX(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Gpt=Hpt,Vpt=Gpt,Xpt=nfe,Zpt=_l;function Ypt(e,t){var n={};return t=Zpt(t),Xpt(e,function(r,i,a){Vpt(n,i,t(r,i,a))}),n}var Kpt=Ypt;const Qpt=kt(Kpt);function Jpt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var emt=Jpt,tmt=wz;function nmt(e,t){var n=!0;return tmt(e,function(r,i,a){return n=!!t(r,i,a),n}),n}var rmt=nmt,imt=emt,amt=rmt,omt=_l,smt=ra,lmt=OC;function umt(e,t,n){var r=smt(e)?imt:amt;return n&&lmt(e,t,n)&&(t=void 0),r(e,omt(t))}var cmt=umt;const gde=kt(cmt);var fmt=["x","y"];function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function U3(){return U3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U3.apply(this,arguments)}function dX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dX(Object(n),!0).forEach(function(r){dmt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dmt(e,t,n){return t=hmt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hmt(e){var t=pmt(e,"string");return I1(t)=="symbol"?t:t+""}function pmt(e,t){if(I1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(I1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mmt(e,t){if(e==null)return{};var n=gmt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gmt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ymt(e,t){var n=e.x,r=e.y,i=mmt(e,fmt),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),f="".concat(t.width||i.width),d=parseInt(f,10);return ey(ey(ey(ey(ey({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:d,name:t.name,radius:t.radius})}function hX(e){return H.createElement(ude,U3({shapeType:"rectangle",propTransformer:ymt,activeClassName:"recharts-active-bar"},e))}var vmt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=he(r)||qYe(r);return a?t(r,i):(a||th(),n)}},xmt=["value","background"],yde;function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function bmt(e,t){if(e==null)return{};var n=_mt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _mt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function hA(){return hA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hA.apply(this,arguments)}function pX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pX(Object(n),!0).forEach(function(r){gc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xde(r.key),r)}}function Smt(e,t,n){return t&&mX(e.prototype,t),n&&mX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Amt(e,t,n){return t=pA(t),Emt(e,vde()?Reflect.construct(t,n||[],pA(e).constructor):t.apply(e,n))}function Emt(e,t){if(t&&(eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kmt(e)}function kmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vde=function(){return!!e})()}function pA(e){return pA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pA(e)}function Cmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W3(e,t)}function W3(e,t){return W3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W3(e,t)}function gc(e,t,n){return t=xde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xde(e){var t=Omt(e,"string");return eg(t)=="symbol"?t:t+""}function Omt(e,t){if(eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ph=function(e){function t(){var n;wmt(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Amt(this,t,[].concat(i)),gc(n,"state",{isAnimationFinished:!1}),gc(n,"id",Ch("recharts-bar-")),gc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),gc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Cmt(t,e),Smt(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=je(this.props,!1);return r&&r.map(function(f,d){var p=d===l,m=p?u:o,g=Ln(Ln(Ln({},c),f),{},{isActive:p,option:m,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(ct,hA({className:"recharts-bar-rectangle"},Kd(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),H.createElement(hX,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return H.createElement(is,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,x){var b=d&&d[x];if(b){var S=Hn(b.x,v.x),k=Hn(b.y,v.y),A=Hn(b.width,v.width),E=Hn(b.height,v.height);return Ln(Ln({},v),{},{x:S(m),y:k(m),width:A(m),height:E(m)})}if(o==="horizontal"){var C=Hn(0,v.height),P=C(m);return Ln(Ln({},v),{},{y:v.y+v.height-P,height:P})}var T=Hn(0,v.width),j=T(m);return Ln(Ln({},v),{},{width:j})});return H.createElement(ct,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Jd(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=je(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,d=bmt(u,xmt);if(!f)return null;var p=Ln(Ln(Ln(Ln(Ln({},d),{},{fill:"#eee"},f),l),Kd(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return H.createElement(hX,hA({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Ea(c,Yx);if(!f)return null;var d=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:$n(v,x)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(ct,m,f.map(function(g){return H.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=Ke("recharts-bar",o),b=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,k=b||S,A=Ze(g)?this.id:g;return H.createElement(ct,{className:x},b||S?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(A)},H.createElement("rect",{x:b?u:u-f/2,y:S?c:c-d/2,width:b?f:f*2,height:S?d:d*2}))):null,H.createElement(ct,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(A,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,A),(!p||v)&&Vs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(X.PureComponent);yde=Ph;gc(Ph,"displayName","Bar");gc(Ph,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});gc(Ph,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,f=e.displayedData,d=e.offset,p=iut(r,n);if(!p)return null;var m=t.layout,g=n.type.defaultProps,v=g!==void 0?Ln(Ln({},g),n.props):n.props,x=v.dataKey,b=v.children,S=v.minPointSize,k=m==="horizontal"?o:a,A=u?k.scale.domain():null,E=fut({numericAxis:k}),C=Ea(b,PC),P=f.map(function(T,j){var D,F,W,R,N,z;u?D=aut(u[c+j],A):(D=$n(T,x),Array.isArray(D)||(D=[E,D]));var q=vmt(S,yde.defaultProps.minPointSize)(D[1],j);if(m==="horizontal"){var B,G=[o.scale(D[0]),o.scale(D[1])],M=G[0],K=G[1];F=sV({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:T,index:j}),W=(B=K??M)!==null&&B!==void 0?B:void 0,R=p.size;var Z=M-K;if(N=Number.isNaN(Z)?0:Z,z={x:F,y:o.y,width:R,height:o.height},Math.abs(q)>0&&Math.abs(N)<Math.abs(q)){var U=yi(N||q)*(Math.abs(q)-Math.abs(N));W-=U,N+=U}}else{var me=[a.scale(D[0]),a.scale(D[1])],le=me[0],ve=me[1];if(F=le,W=sV({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:T,index:j}),R=ve-le,N=p.size,z={x:a.x,y:W,width:a.width,height:N},Math.abs(q)>0&&Math.abs(R)<Math.abs(q)){var mt=yi(R||q)*(Math.abs(q)-Math.abs(R));R+=mt}}return Ln(Ln(Ln({},T),{},{x:F,y:W,width:R,height:N,value:u?D:D[1],payload:T,background:z},C&&C[j]&&C[j].props),{},{tooltipPayload:[Bfe(n,T)],tooltipPosition:{x:F+R/2,y:W+N/2}})});return Ln({data:P,layout:m},d)});function R1(e){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}function Pmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bde(r.key),r)}}function $mt(e,t,n){return t&&gX(e.prototype,t),n&&gX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yX(Object(n),!0).forEach(function(r){zC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zC(e,t,n){return t=bde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bde(e){var t=Tmt(e,"string");return R1(t)=="symbol"?t:t+""}function Tmt(e,t){if(R1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(R1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _de=function(t,n,r,i,a){var o=t.width,s=t.height,l=t.layout,u=t.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!fa(u,Ph);return c.reduce(function(p,m){var g=n[m],v=g.orientation,x=g.domain,b=g.padding,S=b===void 0?{}:b,k=g.mirror,A=g.reversed,E="".concat(v).concat(k?"Mirror":""),C,P,T,j,D;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var F=x[1]-x[0],W=1/0,R=g.categoricalDomain.sort(VYe);if(R.forEach(function(me,le){le>0&&(W=Math.min((me||0)-(R[le-1]||0),W))}),Number.isFinite(W)){var N=W/F,z=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(C=N*z/2),g.padding==="no-gap"){var q=vi(t.barCategoryGap,N*z),B=N*z/2;C=B-q-(B-q)/z*q}}}i==="xAxis"?P=[r.left+(S.left||0)+(C||0),r.left+r.width-(S.right||0)-(C||0)]:i==="yAxis"?P=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(C||0),r.top+r.height-(S.bottom||0)-(C||0)]:P=g.range,A&&(P=[P[1],P[0]]);var G=Lfe(g,a,d),M=G.scale,K=G.realScaleType;M.domain(x).range(P),Ife(M);var Z=Rfe(M,jo(jo({},g),{},{realScaleType:K}));i==="xAxis"?(D=v==="top"&&!k||v==="bottom"&&k,T=r.left,j=f[E]-D*g.height):i==="yAxis"&&(D=v==="left"&&!k||v==="right"&&k,T=f[E]-D*g.width,j=r.top);var U=jo(jo(jo({},g),Z),{},{realScaleType:K,x:T,y:j,scale:M,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return U.bandSize=KS(U,Z),!g.hide&&i==="xAxis"?f[E]+=(D?-1:1)*U.height:g.hide||(f[E]+=(D?-1:1)*U.width),jo(jo({},p),{},zC({},m,U))},{})},wde=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Nmt=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return wde({x:n,y:r},{x:i,y:a})},Sde=function(){function e(t){Pmt(this,e),this.scale=t}return $mt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();zC(Sde,"EPS",1e-4);var Pz=function(t){var n=Object.keys(t).reduce(function(r,i){return jo(jo({},r),{},zC({},i,Sde.create(t[i])))},{});return jo(jo({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Qpt(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return gde(i,function(a,o){return n[o].isInRange(a)})}})};function Mmt(e){return(e%180+180)%180}var jmt=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Mmt(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Dmt=_l,Fmt=Zx,Lmt=kC;function Imt(e){return function(t,n,r){var i=Object(t);if(!Fmt(t)){var a=Dmt(n);t=Lmt(t),n=function(s){return a(i[s],s,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}var Rmt=Imt,zmt=dde;function Bmt(e){var t=zmt(e),n=t%1;return t===t?n?t-n:t:0}var Umt=Bmt,Wmt=Yce,qmt=_l,Hmt=Umt,Gmt=Math.max;function Vmt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Hmt(n);return i<0&&(i=Gmt(r+i,0)),Wmt(e,qmt(t),i)}var Xmt=Vmt,Zmt=Rmt,Ymt=Xmt,Kmt=Zmt(Ymt),Qmt=Kmt;const Jmt=kt(Qmt);var egt=YZe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),$z=X.createContext(void 0),Tz=X.createContext(void 0),Ade=X.createContext(void 0),Ede=X.createContext({}),kde=X.createContext(void 0),Cde=X.createContext(0),Ode=X.createContext(0),vX=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,s=t.children,l=t.width,u=t.height,c=egt(a);return H.createElement($z.Provider,{value:r},H.createElement(Tz.Provider,{value:i},H.createElement(Ede.Provider,{value:a},H.createElement(Ade.Provider,{value:c},H.createElement(kde.Provider,{value:o},H.createElement(Cde.Provider,{value:u},H.createElement(Ode.Provider,{value:l},s)))))))},tgt=function(){return X.useContext(kde)},Pde=function(t){var n=X.useContext($z);n==null&&th();var r=n[t];return r==null&&th(),r},ngt=function(){var t=X.useContext($z);return rc(t)},rgt=function(){var t=X.useContext(Tz),n=Jmt(t,function(r){return gde(r.domain,Number.isFinite)});return n||rc(t)},$de=function(t){var n=X.useContext(Tz);n==null&&th();var r=n[t];return r==null&&th(),r},igt=function(){var t=X.useContext(Ade);return t},agt=function(){return X.useContext(Ede)},Nz=function(){return X.useContext(Ode)},Mz=function(){return X.useContext(Cde)};function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function ogt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sgt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nde(r.key),r)}}function lgt(e,t,n){return t&&sgt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ugt(e,t,n){return t=mA(t),cgt(e,Tde()?Reflect.construct(t,n||[],mA(e).constructor):t.apply(e,n))}function cgt(e,t){if(t&&(tg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fgt(e)}function fgt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tde=function(){return!!e})()}function mA(e){return mA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mA(e)}function dgt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q3(e,t)}function q3(e,t){return q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q3(e,t)}function xX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xX(Object(n),!0).forEach(function(r){jz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jz(e,t,n){return t=Nde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nde(e){var t=hgt(e,"string");return tg(t)=="symbol"?t:t+""}function hgt(e,t){if(tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pgt(e,t){return vgt(e)||ygt(e,t)||ggt(e,t)||mgt()}function mgt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ggt(e,t){if(e){if(typeof e=="string")return _X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _X(e,t)}}function _X(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ygt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function vgt(e){if(Array.isArray(e))return e}function H3(){return H3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H3.apply(this,arguments)}var xgt=function(t,n){var r;return H.isValidElement(t)?r=H.cloneElement(t,n):qe(t)?r=t(n):r=H.createElement("line",H3({},n,{className:"recharts-reference-line-line"})),r},bgt=function(t,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,d=a.width,p=a.height;if(r){var m=u.y,g=t.y.apply(m,{position:o});if(Xs(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?v.reverse():v}if(n){var x=u.x,b=t.x.apply(x,{position:o});if(Xs(u,"discard")&&!t.x.isInRange(b))return null;var S=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?S.reverse():S}if(i){var k=u.segment,A=k.map(function(E){return t.apply(E,{position:o})});return Xs(u,"discard")&&qpt(A,function(E){return!t.isInRange(E)})?null:A}return null};function _gt(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,u=tgt(),c=Pde(i),f=$de(a),d=igt();if(!u||!d)return null;Zo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Pz({x:c.scale,y:f.scale}),m=Yn(t),g=Yn(n),v=r&&r.length===2,x=bgt(p,m,g,v,d,e.position,c.orientation,f.orientation,e);if(!x)return null;var b=pgt(x,2),S=b[0],k=S.x,A=S.y,E=b[1],C=E.x,P=E.y,T=Xs(e,"hidden")?"url(#".concat(u,")"):void 0,j=bX(bX({clipPath:T},je(e,!0)),{},{x1:k,y1:A,x2:C,y2:P});return H.createElement(ct,{className:Ke("recharts-reference-line",s)},xgt(o,j),ir.renderCallByParent(e,Nmt({x1:k,y1:A,x2:C,y2:P})))}var Dz=function(e){function t(){return ogt(this,t),ugt(this,t,arguments)}return dgt(t,e),lgt(t,[{key:"render",value:function(){return H.createElement(_gt,this.props)}}])}(H.Component);jz(Dz,"displayName","ReferenceLine");jz(Dz,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function G3(){return G3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G3.apply(this,arguments)}function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function wX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wX(Object(n),!0).forEach(function(r){BC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wgt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sgt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jde(r.key),r)}}function Agt(e,t,n){return t&&Sgt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Egt(e,t,n){return t=gA(t),kgt(e,Mde()?Reflect.construct(t,n||[],gA(e).constructor):t.apply(e,n))}function kgt(e,t){if(t&&(ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cgt(e)}function Cgt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mde=function(){return!!e})()}function gA(e){return gA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gA(e)}function Ogt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V3(e,t)}function V3(e,t){return V3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V3(e,t)}function BC(e,t,n){return t=jde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jde(e){var t=Pgt(e,"string");return ng(t)=="symbol"?t:t+""}function Pgt(e,t){if(ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $gt=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=Pz({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Xs(t,"discard")&&!o.isInRange(s)?null:s},UC=function(e){function t(){return wgt(this,t),Egt(this,t,arguments)}return Ogt(t,e),Agt(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=Yn(i),c=Yn(a);if(Zo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=$gt(this.props);if(!f)return null;var d=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,x=Xs(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=SX(SX({clipPath:x},je(this.props,!0)),{},{cx:d,cy:p});return H.createElement(ct,{className:Ke("recharts-reference-dot",v)},t.renderDot(g,b),ir.renderCallByParent(this.props,{x:d-o,y:p-o,width:2*o,height:2*o}))}}])}(H.Component);BC(UC,"displayName","ReferenceDot");BC(UC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});BC(UC,"renderDot",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):qe(e)?n=e(t):n=H.createElement(Kx,G3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function X3(){return X3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X3.apply(this,arguments)}function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function AX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AX(Object(n),!0).forEach(function(r){WC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tgt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ngt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fde(r.key),r)}}function Mgt(e,t,n){return t&&Ngt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jgt(e,t,n){return t=yA(t),Dgt(e,Dde()?Reflect.construct(t,n||[],yA(e).constructor):t.apply(e,n))}function Dgt(e,t){if(t&&(rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fgt(e)}function Fgt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dde=function(){return!!e})()}function yA(e){return yA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yA(e)}function Lgt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z3(e,t)}function Z3(e,t){return Z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z3(e,t)}function WC(e,t,n){return t=Fde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fde(e){var t=Igt(e,"string");return rg(t)=="symbol"?t:t+""}function Igt(e,t){if(rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rgt=function(t,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var d=Pz({x:c.scale,y:f.scale}),p={x:t?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Xs(a,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:wde(p,m)},qC=function(e){function t(){return Tgt(this,t),jgt(this,t,arguments)}return Lgt(t,e),Mgt(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Zo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Yn(i),d=Yn(a),p=Yn(o),m=Yn(s),g=this.props.shape;if(!f&&!d&&!p&&!m&&!g)return null;var v=Rgt(f,d,p,m,this.props);if(!v&&!g)return null;var x=Xs(this.props,"hidden")?"url(#".concat(c,")"):void 0;return H.createElement(ct,{className:Ke("recharts-reference-area",l)},t.renderRect(g,EX(EX({clipPath:x},je(this.props,!0)),v)),ir.renderCallByParent(this.props,v))}}])}(H.Component);WC(qC,"displayName","ReferenceArea");WC(qC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});WC(qC,"renderRect",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):qe(e)?n=e(t):n=H.createElement(Oz,X3({},t,{className:"recharts-reference-area-rect"})),n});function Lde(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function zgt(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return jmt(r,n)}function Bgt(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function vA(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Ugt(e,t){return Lde(e,t+1)}function Wgt(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,s=t.end,l=0,u=1,c=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:Lde(r,u)};var g=l,v,x=function(){return v===void 0&&(v=n(m,g)),v},b=m.coordinate,S=l===0||vA(e,b,x,c,s);S||(l=0,c=o,u+=1),S&&(c=b+e*(x()/2+i),l+=u)},d;u<=a.length;)if(d=f(),d)return d.v;return[]}function z1(e){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z1(e)}function kX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kX(Object(n),!0).forEach(function(r){qgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qgt(e,t,n){return t=Hgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hgt(e){var t=Ggt(e,"string");return z1(t)=="symbol"?t:t+""}function Ggt(e,t){if(z1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(z1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vgt(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=t.start,l=t.end,u=function(d){var p=a[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===o-1){var v=e*(p.coordinate+e*g()/2-l);a[d]=p=zr(zr({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else a[d]=p=zr(zr({},p),{},{tickCoord:p.coordinate});var x=vA(e,p.tickCoord,g,s,l);x&&(l=p.tickCoord-e*(g()/2+i),a[d]=zr(zr({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function Xgt(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=t.start,u=t.end;if(a){var c=r[s-1],f=n(c,s-1),d=e*(c.coordinate+e*f/2-u);o[s-1]=c=zr(zr({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate});var p=vA(e,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-e*(f/2+i),o[s-1]=zr(zr({},c),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(b){var S=o[b],k,A=function(){return k===void 0&&(k=n(S,b)),k};if(b===0){var E=e*(S.coordinate-e*A()/2-l);o[b]=S=zr(zr({},S),{},{tickCoord:E<0?S.coordinate-E*e:S.coordinate})}else o[b]=S=zr(zr({},S),{},{tickCoord:S.coordinate});var C=vA(e,S.tickCoord,A,l,u);C&&(l=S.tickCoord+e*(A()/2+i),o[b]=zr(zr({},S),{},{isShow:!0}))},v=0;v<m;v++)g(v);return o}function Fz(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,f=e.angle;if(!i||!i.length||!r)return[];if(he(l)||gf.isSsr)return Ugt(i,typeof l=="number"&&he(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",m=c&&p==="width"?sv(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(S,k){var A=qe(u)?u(S.value,k):S.value;return p==="width"?zgt(sv(A,{fontSize:t,letterSpacing:n}),m,f):sv(A,{fontSize:t,letterSpacing:n})[p]},v=i.length>=2?yi(i[1].coordinate-i[0].coordinate):1,x=Bgt(a,v,p);return l==="equidistantPreserveStart"?Wgt(v,x,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?d=Xgt(v,x,g,i,o,l==="preserveStartEnd"):d=Vgt(v,x,g,i,o),d.filter(function(b){return b.isShow}))}var Zgt=["viewBox"],Ygt=["viewBox"],Kgt=["ticks"];function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tp.apply(this,arguments)}function CX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CX(Object(n),!0).forEach(function(r){Lz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pT(e,t){if(e==null)return{};var n=Qgt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Qgt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Jgt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rde(r.key),r)}}function e0t(e,t,n){return t&&OX(e.prototype,t),n&&OX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function t0t(e,t,n){return t=xA(t),n0t(e,Ide()?Reflect.construct(t,n||[],xA(e).constructor):t.apply(e,n))}function n0t(e,t){if(t&&(ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r0t(e)}function r0t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ide(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ide=function(){return!!e})()}function xA(e){return xA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xA(e)}function i0t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y3(e,t)}function Y3(e,t){return Y3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y3(e,t)}function Lz(e,t,n){return t=Rde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rde(e){var t=a0t(e,"string");return ig(t)=="symbol"?t:t+""}function a0t(e,t){if(ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t0=function(e){function t(n){var r;return Jgt(this,t),r=t0t(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return i0t(t,e),e0t(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=pT(r,Zgt),s=this.props,l=s.viewBox,u=pT(s,Ygt);return!Kp(a,l)||!Kp(o,u)||!Kp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,m,g,v,x,b,S=f?-1:1,k=r.tickSize||c,A=he(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,v=o+ +!f*l,g=v-S*k,b=g-S*d,x=A;break;case"left":g=v=r.coordinate,m=a+ +!f*s,p=m-S*k,x=p-S*d,b=A;break;case"right":g=v=r.coordinate,m=a+ +f*s,p=m+S*k,x=p+S*d,b=A;break;default:p=m=r.coordinate,v=o+ +f*l,g=v+S*k,b=g+S*d,x=A;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Bn(Bn(Bn({},je(this.props,!1)),je(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=Bn(Bn({},f),{},{x1:i,y1:a+d*s,x2:i+o,y2:a+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Bn(Bn({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return H.createElement("line",Tp({},f,{className:Ke("recharts-cartesian-axis-line",Aa(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,p=Fz(Bn(Bn({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=je(this.props,!1),x=je(c,!1),b=Bn(Bn({},v),{},{fill:"none"},je(l,!1)),S=p.map(function(k,A){var E=o.getTickLineCoord(k),C=E.line,P=E.tick,T=Bn(Bn(Bn(Bn({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),P),{},{index:A,payload:k,visibleTicksCount:p.length,tickFormatter:f});return H.createElement(ct,Tp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Kd(o.props,k,A)),l&&H.createElement("line",Tp({},b,C,{className:Ke("recharts-cartesian-axis-tick-line",Aa(l,"className"))})),c&&t.renderTickItem(c,T,"".concat(qe(f)?f(k.value,A):k.value).concat(d||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=pT(f,Kgt),m=d;return qe(l)&&(m=d&&d.length>0?l(this.props):l(p)),o<=0||s<=0||!m||!m.length?null:H.createElement(ct,{className:Ke("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Ke(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(r)?o=H.cloneElement(r,Bn(Bn({},i),{},{className:s})):qe(r)?o=r(Bn(Bn({},i),{},{className:s})):o=H.createElement(Qd,Tp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(X.Component);Lz(t0,"displayName","CartesianAxis");Lz(t0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var o0t=["x1","y1","x2","y2","key"],s0t=["offset"];function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function PX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PX(Object(n),!0).forEach(function(r){l0t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l0t(e,t,n){return t=u0t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u0t(e){var t=c0t(e,"string");return nh(t)=="symbol"?t:t+""}function c0t(e,t){if(nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rd.apply(this,arguments)}function $X(e,t){if(e==null)return{};var n=f0t(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function f0t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var d0t=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,l=t.ry;return H.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zde(e,t){var n;if(H.isValidElement(e))n=H.cloneElement(e,t);else if(qe(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,l=$X(t,o0t),u=je(l,!1);u.offset;var c=$X(u,s0t);n=H.createElement("line",rd({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function h0t(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Wr(Wr({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return zde(i,u)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function p0t(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Wr(Wr({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return zde(i,u)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function m0t(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?i+o-d:c[p+1]-d;if(g<=0)return null;var v=p%t.length;return H.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:a,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function g0t(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+a-a)}).sort(function(d,p){return d-p});a!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?a+s-d:c[p+1]-d;if(g<=0)return null;var v=p%r.length;return H.createElement("rect",{key:"react-".concat(p),x:d,y:o,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var y0t=function(t,n){var r=t.xAxis,i=t.width,a=t.height,o=t.offset;return Ffe(Fz(Wr(Wr(Wr({},t0.defaultProps),r),{},{ticks:Ql(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},v0t=function(t,n){var r=t.yAxis,i=t.width,a=t.height,o=t.offset;return Ffe(Fz(Wr(Wr(Wr({},t0.defaultProps),r),{},{ticks:Ql(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},np={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function bA(e){var t,n,r,i,a,o,s=Nz(),l=Mz(),u=agt(),c=Wr(Wr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:np.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:np.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:np.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:np.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:np.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:np.verticalFill,x:he(e.x)?e.x:u.left,y:he(e.y)?e.y:u.top,width:he(e.width)?e.width:u.width,height:he(e.height)?e.height:u.height}),f=c.x,d=c.y,p=c.width,m=c.height,g=c.syncWithTicks,v=c.horizontalValues,x=c.verticalValues,b=ngt(),S=rgt();if(!he(p)||p<=0||!he(m)||m<=0||!he(f)||f!==+f||!he(d)||d!==+d)return null;var k=c.verticalCoordinatesGenerator||y0t,A=c.horizontalCoordinatesGenerator||v0t,E=c.horizontalPoints,C=c.verticalPoints;if((!E||!E.length)&&qe(A)){var P=v&&v.length,T=A({yAxis:S?Wr(Wr({},S),{},{ticks:P?v:S.ticks}):void 0,width:s,height:l,offset:u},P?!0:g);Zo(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nh(T),"]")),Array.isArray(T)&&(E=T)}if((!C||!C.length)&&qe(k)){var j=x&&x.length,D=k({xAxis:b?Wr(Wr({},b),{},{ticks:j?x:b.ticks}):void 0,width:s,height:l,offset:u},j?!0:g);Zo(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nh(D),"]")),Array.isArray(D)&&(C=D)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(d0t,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),H.createElement(h0t,rd({},c,{offset:u,horizontalPoints:E,xAxis:b,yAxis:S})),H.createElement(p0t,rd({},c,{offset:u,verticalPoints:C,xAxis:b,yAxis:S})),H.createElement(m0t,rd({},c,{horizontalPoints:E})),H.createElement(g0t,rd({},c,{verticalPoints:C})))}bA.displayName="CartesianGrid";var x0t=["type","layout","connectNulls","ref"],b0t=["key"];function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function TX(e,t){if(e==null)return{};var n=_0t(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _0t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dv.apply(this,arguments)}function NX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NX(Object(n),!0).forEach(function(r){Do(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rp(e){return E0t(e)||A0t(e)||S0t(e)||w0t()}function w0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S0t(e,t){if(e){if(typeof e=="string")return K3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K3(e,t)}}function A0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E0t(e){if(Array.isArray(e))return K3(e)}function K3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ude(r.key),r)}}function C0t(e,t,n){return t&&MX(e.prototype,t),n&&MX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O0t(e,t,n){return t=_A(t),P0t(e,Bde()?Reflect.construct(t,n||[],_A(e).constructor):t.apply(e,n))}function P0t(e,t){if(t&&(ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $0t(e)}function $0t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bde=function(){return!!e})()}function _A(e){return _A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_A(e)}function T0t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q3(e,t)}function Q3(e,t){return Q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q3(e,t)}function Do(e,t,n){return t=Ude(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ude(e){var t=N0t(e,"string");return ag(t)=="symbol"?t:t+""}function N0t(e,t){if(ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var em=function(e){function t(){var n;k0t(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=O0t(this,t,[].concat(i)),Do(n,"state",{isAnimationFinished:!0,totalLength:0}),Do(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Do(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(x,b){return x+b});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),f=o%u,d=s-o,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(rp(l.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,d]:[d];return[].concat(rp(t.repeat(l,c)),rp(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),Do(n,"id",Ch("recharts-line-")),Do(n,"pathRef",function(o){n.mainCurve=o}),Do(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Do(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return T0t(t,e),C0t(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Ea(c,Yx);if(!f)return null;var d=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:$n(g.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(ct,p,f.map(function(m){return H.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=je(this.props,!1),d=je(l,!0),p=u.map(function(g,v){var x=oa(oa(oa({key:"dot-".concat(v),r:3},f),d),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return t.renderDotItem(l,x)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return H.createElement(ct,dv({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=TX(s,x0t),d=oa(oa(oa({},je(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:c});return H.createElement(vd,dv({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,d=o.animationEasing,p=o.animationId,m=o.animateNewValues,g=o.width,v=o.height,x=this.state,b=x.prevPoints,S=x.totalLength;return H.createElement(is,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var A=k.t;if(b){var E=b.length/s.length,C=s.map(function(F,W){var R=Math.floor(W*E);if(b[R]){var N=b[R],z=Hn(N.x,F.x),q=Hn(N.y,F.y);return oa(oa({},F),{},{x:z(A),y:q(A)})}if(m){var B=Hn(g*2,F.x),G=Hn(v/2,F.y);return oa(oa({},F),{},{x:B(A),y:G(A)})}return oa(oa({},F),{},{x:F.x,y:F.y})});return a.renderCurveStatically(C,r,i)}var P=Hn(0,S),T=P(A),j;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});j=a.getStrokeDasharray(T,S,D)}else j=a.generateSimpleStrokeDasharray(S,T);return a.renderCurveStatically(s,r,i,{strokeDasharray:j})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!Jd(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,d=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,b=s.length===1,S=Ke("recharts-line",l),k=u&&u.allowDataOverflow,A=c&&c.allowDataOverflow,E=k||A,C=Ze(v)?this.id:v,P=(r=je(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=P.r,j=T===void 0?3:T,D=P.strokeWidth,F=D===void 0?2:D,W=Sce(o)?o:{},R=W.clipDot,N=R===void 0?!0:R,z=j*2+F;return H.createElement(ct,{className:S},k||A?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(C)},H.createElement("rect",{x:k?d:d-p/2,y:A?f:f-m/2,width:k?p:p*2,height:A?m:m*2})),!N&&H.createElement("clipPath",{id:"clipPath-dots-".concat(C)},H.createElement("rect",{x:d-z/2,y:f-z/2,width:p+z,height:m+z}))):null,!b&&this.renderCurve(E,C),this.renderErrorBar(E,C),(b||o)&&this.renderDots(E,N,C),(!g||x)&&Vs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(rp(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(rp(o),rp(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(H.isValidElement(r))a=H.cloneElement(r,i);else if(qe(r))a=r(i);else{var o=i.key,s=TX(i,b0t),l=Ke("recharts-line-dot",typeof r!="boolean"?r.className:"");a=H.createElement(Kx,dv({key:o},s,{className:l}))}return a}}])}(X.PureComponent);Do(em,"displayName","Line");Do(em,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gf.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Do(em,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,c=t.layout,f=l.map(function(d,p){var m=$n(d,o);return c==="horizontal"?{x:YS({axis:n,ticks:i,bandSize:s,entry:d,index:p}),y:Ze(m)?null:r.scale(m),value:m,payload:d}:{x:Ze(m)?null:n.scale(m),y:YS({axis:r,ticks:a,bandSize:s,entry:d,index:p}),value:m,payload:d}});return oa({points:f,layout:c},u)});var M0t=["layout","type","stroke","connectNulls","isRange","ref"],j0t=["key"],Wde;function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function qde(e,t){if(e==null)return{};var n=D0t(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function D0t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},id.apply(this,arguments)}function jX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jX(Object(n),!0).forEach(function(r){Fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gde(r.key),r)}}function L0t(e,t,n){return t&&DX(e.prototype,t),n&&DX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I0t(e,t,n){return t=wA(t),R0t(e,Hde()?Reflect.construct(t,n||[],wA(e).constructor):t.apply(e,n))}function R0t(e,t){if(t&&(og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z0t(e)}function z0t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hde=function(){return!!e})()}function wA(e){return wA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wA(e)}function B0t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J3(e,t)}function J3(e,t){return J3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J3(e,t)}function Fs(e,t,n){return t=Gde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gde(e){var t=U0t(e,"string");return og(t)=="symbol"?t:t+""}function U0t(e,t){if(og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zs=function(e){function t(){var n;F0t(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=I0t(this,t,[].concat(i)),Fs(n,"state",{isAnimationFinished:!0}),Fs(n,"id",Ch("recharts-area-")),Fs(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),qe(o)&&o()}),Fs(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),qe(o)&&o()}),n}return B0t(t,e),L0t(t,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,d=je(this.props,!1),p=je(u,!0),m=c.map(function(v,x){var b=Hu(Hu(Hu({key:"dot-".concat(x),r:3},d),p),{},{index:x,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:c});return t.renderDotItem(u,b)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return H.createElement(ct,id({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,c=r*Math.abs(l-u),f=mc(o.map(function(d){return d.y||0}));return he(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(mc(a.map(function(d){return d.y||0})),f)),he(f)?H.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,c=r*Math.abs(l-u),f=mc(o.map(function(d){return d.x||0}));return he(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(mc(a.map(function(d){return d.x||0})),f)),he(f)?H.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,l=s.layout,u=s.type,c=s.stroke,f=s.connectNulls,d=s.isRange;s.ref;var p=qde(s,M0t);return H.createElement(ct,{clipPath:a?"url(#clipPath-".concat(o,")"):null},H.createElement(vd,id({},je(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&H.createElement(vd,id({},je(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&d&&H.createElement(vd,id({},je(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,d=o.animationEasing,p=o.animationId,m=this.state,g=m.prevPoints,v=m.prevBaseLine;return H.createElement(is,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(g){var S=g.length/s.length,k=s.map(function(P,T){var j=Math.floor(T*S);if(g[j]){var D=g[j],F=Hn(D.x,P.x),W=Hn(D.y,P.y);return Hu(Hu({},P),{},{x:F(b),y:W(b)})}return P}),A;if(he(l)&&typeof l=="number"){var E=Hn(v,l);A=E(b)}else if(Ze(l)||Zg(l)){var C=Hn(v,0);A=C(b)}else A=l.map(function(P,T){var j=Math.floor(T*S);if(v[j]){var D=v[j],F=Hn(D.x,P.x),W=Hn(D.y,P.y);return Hu(Hu({},P),{},{x:F(b),y:W(b)})}return P});return a.renderAreaStatically(k,A,r,i)}return H.createElement(ct,null,H.createElement("defs",null,H.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),H.createElement(ct,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,d=u.totalLength;return l&&o&&o.length&&(!c&&d>0||!Jd(c,o)||!Jd(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,d=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,b=s.length===1,S=Ke("recharts-area",l),k=f&&f.allowDataOverflow,A=d&&d.allowDataOverflow,E=k||A,C=Ze(v)?this.id:v,P=(r=je(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=P.r,j=T===void 0?3:T,D=P.strokeWidth,F=D===void 0?2:D,W=Sce(o)?o:{},R=W.clipDot,N=R===void 0?!0:R,z=j*2+F;return H.createElement(ct,{className:S},k||A?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(C)},H.createElement("rect",{x:k?c:c-p/2,y:A?u:u-m/2,width:k?p:p*2,height:A?m:m*2})),!N&&H.createElement("clipPath",{id:"clipPath-dots-".concat(C)},H.createElement("rect",{x:c-z/2,y:u-z/2,width:p+z,height:m+z}))):null,b?null:this.renderArea(E,C),(o||b)&&this.renderDots(E,N,C),(!g||x)&&Vs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(X.PureComponent);Wde=Zs;Fs(Zs,"displayName","Area");Fs(Zs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!gf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fs(Zs,"getBaseValue",function(e,t,n,r){var i=e.layout,a=e.baseValue,o=t.props.baseValue,s=o??a;if(he(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Fs(Zs,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,c=e.dataStartIndex,f=e.displayedData,d=e.offset,p=t.layout,m=u&&u.length,g=Wde.getBaseValue(t,n,r,i),v=p==="horizontal",x=!1,b=f.map(function(k,A){var E;m?E=u[c+A]:(E=$n(k,l),Array.isArray(E)?x=!0:E=[g,E]);var C=E[1]==null||m&&$n(k,l)==null;return v?{x:YS({axis:r,ticks:a,bandSize:s,entry:k,index:A}),y:C?null:i.scale(E[1]),value:E,payload:k}:{x:C?null:r.scale(E[1]),y:YS({axis:i,ticks:o,bandSize:s,entry:k,index:A}),value:E,payload:k}}),S;return m||x?S=b.map(function(k){var A=Array.isArray(k.value)?k.value[0]:null;return v?{x:k.x,y:A!=null&&k.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:k.y}}):S=v?i.scale(g):r.scale(g),Hu({points:b,baseLine:S,layout:p,isRange:x},d)});Fs(Zs,"renderDotItem",function(e,t){var n;if(H.isValidElement(e))n=H.cloneElement(e,t);else if(qe(e))n=e(t);else{var r=Ke("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=qde(t,j0t);n=H.createElement(Kx,id({},a,{key:i,className:r}))}return n});function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function W0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q0t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zde(r.key),r)}}function H0t(e,t,n){return t&&q0t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G0t(e,t,n){return t=SA(t),V0t(e,Vde()?Reflect.construct(t,n||[],SA(e).constructor):t.apply(e,n))}function V0t(e,t){if(t&&(sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X0t(e)}function X0t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vde=function(){return!!e})()}function SA(e){return SA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SA(e)}function Z0t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eD(e,t)}function eD(e,t){return eD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eD(e,t)}function Xde(e,t,n){return t=Zde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zde(e){var t=Y0t(e,"string");return sg(t)=="symbol"?t:t+""}function Y0t(e,t){if(sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tD(){return tD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tD.apply(this,arguments)}function K0t(e){var t=e.xAxisId,n=Nz(),r=Mz(),i=Pde(t);return i==null?null:X.createElement(t0,tD({},i,{className:Ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ql(o,!0)}}))}var rh=function(e){function t(){return W0t(this,t),G0t(this,t,arguments)}return Z0t(t,e),H0t(t,[{key:"render",value:function(){return X.createElement(K0t,this.props)}}])}(X.Component);Xde(rh,"displayName","XAxis");Xde(rh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function Q0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J0t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qde(r.key),r)}}function eyt(e,t,n){return t&&J0t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tyt(e,t,n){return t=AA(t),nyt(e,Yde()?Reflect.construct(t,n||[],AA(e).constructor):t.apply(e,n))}function nyt(e,t){if(t&&(lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ryt(e)}function ryt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yde=function(){return!!e})()}function AA(e){return AA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AA(e)}function iyt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nD(e,t)}function nD(e,t){return nD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nD(e,t)}function Kde(e,t,n){return t=Qde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qde(e){var t=ayt(e,"string");return lg(t)=="symbol"?t:t+""}function ayt(e,t){if(lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function rD(){return rD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rD.apply(this,arguments)}var oyt=function(t){var n=t.yAxisId,r=Nz(),i=Mz(),a=$de(n);return a==null?null:X.createElement(t0,rD({},a,{className:Ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Ql(s,!0)}}))},ih=function(e){function t(){return Q0t(this,t),tyt(this,t,arguments)}return iyt(t,e),eyt(t,[{key:"render",value:function(){return X.createElement(oyt,this.props)}}])}(X.Component);Kde(ih,"displayName","YAxis");Kde(ih,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function FX(e){return cyt(e)||uyt(e)||lyt(e)||syt()}function syt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lyt(e,t){if(e){if(typeof e=="string")return iD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iD(e,t)}}function uyt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cyt(e){if(Array.isArray(e))return iD(e)}function iD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aD=function(t,n,r,i,a){var o=Ea(t,Dz),s=Ea(t,UC),l=[].concat(FX(o),FX(s)),u=Ea(t,qC),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,v){if(v.props[c]===r&&Xs(v.props,"extendDomain")&&he(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},d)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");d=u.reduce(function(g,v){if(v.props[c]===r&&Xs(v.props,"extendDomain")&&he(v.props[p])&&he(v.props[m])){var x=v.props[p],b=v.props[m];return[Math.min(g[0],x,b),Math.max(g[1],x,b)]}return g},d)}return a&&a.length&&(d=a.reduce(function(g,v){return he(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},d)),d},Jde={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,b,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,d),!0;case 5:return v.fn.call(v.context,c,f,d,p),!0;case 6:return v.fn.call(v.context,c,f,d,p,m),!0}for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];v.fn.apply(v.context,b)}else{var k=v.length,A;for(S=0;S<k;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),x){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,c);break;case 3:v[S].fn.call(v[S].context,c,f);break;case 4:v[S].fn.call(v[S].context,c,f,d);break;default:if(!b)for(A=1,b=new Array(x-1);A<x;A++)b[A-1]=arguments[A];v[S].fn.apply(v[S].context,b)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,v=[],x=m.length;g<x;g++)(m[g].fn!==c||d&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(Jde);var fyt=Jde.exports;const dyt=kt(fyt);var mT=new dyt,gT="recharts.syncMouseEvents";function B1(e){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(e)}function hyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pyt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ehe(r.key),r)}}function myt(e,t,n){return t&&pyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yT(e,t,n){return t=ehe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ehe(e){var t=gyt(e,"string");return B1(t)=="symbol"?t:t+""}function gyt(e,t){if(B1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(B1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yyt=function(){function e(){hyt(this,e),yT(this,"activeIndex",0),yT(this,"coordinateList",[]),yT(this,"layout","horizontal")}return myt(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,d=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function vyt(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&he(r)&&he(i))return!0}return!1}function xyt(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function the(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=Qt(t,n,r,i),s=Qt(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function byt(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,f=t.angle,d=Qt(s,l,u,f),p=Qt(s,l,c,f);r=d.x,i=d.y,a=p.x,o=p.y}else return the(t);return[{x:r,y:i},{x:a,y:o}]}function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function LX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LX(Object(n),!0).forEach(function(r){_yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _yt(e,t,n){return t=wyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wyt(e){var t=Syt(e,"string");return U1(t)=="symbol"?t:t+""}function Syt(e,t){if(U1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(U1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ayt(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,c=e.tooltipAxisBandSize,f=e.layout,d=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||d!=="ScatterChart"&&i!=="axis")return null;var m,g=vd;if(d==="ScatterChart")m=o,g=Ndt;else if(d==="BarChart")m=xyt(f,o,l,c),g=Oz;else if(f==="radial"){var v=the(o),x=v.cx,b=v.cy,S=v.radius,k=v.startAngle,A=v.endAngle;m={cx:x,cy:b,startAngle:k,endAngle:A,innerRadius:S,outerRadius:S},g=Vfe}else m={points:byt(f,o,l)},g=vd;var E=N_(N_(N_(N_({stroke:"#ccc",pointerEvents:"none"},l),m),je(p,!1)),{},{payload:s,payloadIndex:u,className:Ke("recharts-tooltip-cursor",p.className)});return X.isValidElement(p)?X.cloneElement(p,E):X.createElement(g,E)}var Eyt=["item"],kyt=["children","className","width","height","style","compact","title","desc"];function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Np.apply(this,arguments)}function IX(e,t){return Pyt(e)||Oyt(e,t)||rhe(e,t)||Cyt()}function Cyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oyt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Pyt(e){if(Array.isArray(e))return e}function RX(e,t){if(e==null)return{};var n=$yt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $yt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Tyt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nyt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ihe(r.key),r)}}function Myt(e,t,n){return t&&Nyt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jyt(e,t,n){return t=EA(t),Dyt(e,nhe()?Reflect.construct(t,n||[],EA(e).constructor):t.apply(e,n))}function Dyt(e,t){if(t&&(ug(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fyt(e)}function Fyt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nhe=function(){return!!e})()}function EA(e){return EA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},EA(e)}function Lyt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oD(e,t)}function oD(e,t){return oD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oD(e,t)}function cg(e){return zyt(e)||Ryt(e)||rhe(e)||Iyt()}function Iyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rhe(e,t){if(e){if(typeof e=="string")return sD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sD(e,t)}}function Ryt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zyt(e){if(Array.isArray(e))return sD(e)}function sD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zX(Object(n),!0).forEach(function(r){We(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function We(e,t,n){return t=ihe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ihe(e){var t=Byt(e,"string");return ug(t)=="symbol"?t:t+""}function Byt(e,t){if(ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uyt={xAxis:["bottom","top"],yAxis:["left","right"]},Wyt={width:"100%",height:"100%"},ahe={x:0,y:0};function M_(e){return e}var qyt=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Hyt=function(t,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return re(re(re({},i),Qt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return re(re(re({},i),Qt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return ahe},HC=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(cg(s),cg(u)):s},[]);return o.length>0?o:t&&t.length&&he(i)&&he(a)?t.slice(i,a+1):[]};function ohe(e){return e==="number"?[0,"auto"]:void 0}var lD=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,s=HC(n,t);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;d=FS(p,o.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(cg(l),[Bfe(u,d)]):l},[])},BX=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=qyt(a,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,c=Qlt(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=lD(t,n,c,f),p=Hyt(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},Gyt=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,f=t.children,d=t.stackOffset,p=Dfe(c,a);return r.reduce(function(m,g){var v,x=g.type.defaultProps!==void 0?re(re({},g.type.defaultProps),g.props):g.props,b=x.type,S=x.dataKey,k=x.allowDataOverflow,A=x.allowDuplicatedCategory,E=x.scale,C=x.ticks,P=x.includeHidden,T=x[o];if(m[T])return m;var j=HC(t.data,{graphicalItems:i.filter(function(Z){var U,me=o in Z.props?Z.props[o]:(U=Z.type.defaultProps)===null||U===void 0?void 0:U[o];return me===T}),dataStartIndex:l,dataEndIndex:u}),D=j.length,F,W,R;vyt(x.domain,k,b)&&(F=_3(x.domain,null,k),p&&(b==="number"||E!=="auto")&&(R=lv(j,S,"category")));var N=ohe(b);if(!F||F.length===0){var z,q=(z=x.domain)!==null&&z!==void 0?z:N;if(S){if(F=lv(j,S,b),b==="category"&&p){var B=GYe(F);A&&B?(W=F,F=cA(0,D)):A||(F=cV(q,F,g).reduce(function(Z,U){return Z.indexOf(U)>=0?Z:[].concat(cg(Z),[U])},[]))}else if(b==="category")A?F=F.filter(function(Z){return Z!==""&&!Ze(Z)}):F=cV(q,F,g).reduce(function(Z,U){return Z.indexOf(U)>=0||U===""||Ze(U)?Z:[].concat(cg(Z),[U])},[]);else if(b==="number"){var G=rut(j,i.filter(function(Z){var U,me,le=o in Z.props?Z.props[o]:(U=Z.type.defaultProps)===null||U===void 0?void 0:U[o],ve="hide"in Z.props?Z.props.hide:(me=Z.type.defaultProps)===null||me===void 0?void 0:me.hide;return le===T&&(P||!ve)}),S,a,c);G&&(F=G)}p&&(b==="number"||E!=="auto")&&(R=lv(j,S,"category"))}else p?F=cA(0,D):s&&s[T]&&s[T].hasStack&&b==="number"?F=d==="expand"?[0,1]:zfe(s[T].stackGroups,l,u):F=jfe(j,i.filter(function(Z){var U=o in Z.props?Z.props[o]:Z.type.defaultProps[o],me="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return U===T&&(P||!me)}),b,c,!0);if(b==="number")F=aD(f,F,T,a,C),q&&(F=_3(q,F,k));else if(b==="category"&&q){var M=q,K=F.every(function(Z){return M.indexOf(Z)>=0});K&&(F=M)}}return re(re({},m),{},We({},T,re(re({},x),{},{axisType:a,domain:F,categoricalDomain:R,duplicateDomain:W,originalDomain:(v=x.domain)!==null&&v!==void 0?v:N,isCategorical:p,layout:c})))},{})},Vyt=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,f=t.children,d=HC(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=Dfe(c,a),g=-1;return r.reduce(function(v,x){var b=x.type.defaultProps!==void 0?re(re({},x.type.defaultProps),x.props):x.props,S=b[o],k=ohe("number");if(!v[S]){g++;var A;return m?A=cA(0,p):s&&s[S]&&s[S].hasStack?(A=zfe(s[S].stackGroups,l,u),A=aD(f,A,S,a)):(A=_3(k,jfe(d,r.filter(function(E){var C,P,T=o in E.props?E.props[o]:(C=E.type.defaultProps)===null||C===void 0?void 0:C[o],j="hide"in E.props?E.props.hide:(P=E.type.defaultProps)===null||P===void 0?void 0:P.hide;return T===S&&!j}),"number",c),i.defaultProps.allowDataOverflow),A=aD(f,A,S,a)),re(re({},v),{},We({},S,re(re({axisType:a},i.defaultProps),{},{hide:!0,orientation:Aa(Uyt,"".concat(a,".").concat(g%2),null),domain:A,originalDomain:k,isCategorical:m,layout:c})))}return v},{})},Xyt=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.children,f="".concat(i,"Id"),d=Ea(c,a),p={};return d&&d.length?p=Gyt(t,{axes:d,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=Vyt(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Zyt=function(t){var n=rc(t),r=Ql(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Sz(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:KS(n,r)}},UX=function(t){var n=t.children,r=t.defaultShowTooltip,i=fa(n,Jm),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Yyt=function(t){return!t||!t.length?!1:t.some(function(n){var r=su(n&&n.type);return r&&r.indexOf("Bar")>=0})},WX=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Kyt=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=fa(f,Jm),m=fa(f,Qp),g=Object.keys(l).reduce(function(A,E){var C=l[E],P=C.orientation;return!C.mirror&&!C.hide?re(re({},A),{},We({},P,A[P]+C.width)):A},{left:d.left||0,right:d.right||0}),v=Object.keys(o).reduce(function(A,E){var C=o[E],P=C.orientation;return!C.mirror&&!C.hide?re(re({},A),{},We({},P,Aa(A,"".concat(P))+C.height)):A},{top:d.top||0,bottom:d.bottom||0}),x=re(re({},v),g),b=x.bottom;p&&(x.bottom+=p.props.height||Jm.defaultProps.height),m&&n&&(x=tut(x,i,r,n));var S=u-x.left-x.right,k=c-x.top-x.bottom;return re(re({brushBottom:b},x),{},{width:Math.max(S,0),height:Math.max(k,0)})},Qyt=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Iz=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,c=t.formatAxisMap,f=t.defaultProps,d=function(x,b){var S=b.graphicalItems,k=b.stackGroups,A=b.offset,E=b.updateId,C=b.dataStartIndex,P=b.dataEndIndex,T=x.barSize,j=x.layout,D=x.barGap,F=x.barCategoryGap,W=x.maxBarSize,R=WX(j),N=R.numericAxisName,z=R.cateAxisName,q=Yyt(S),B=[];return S.forEach(function(G,M){var K=HC(x.data,{graphicalItems:[G],dataStartIndex:C,dataEndIndex:P}),Z=G.type.defaultProps!==void 0?re(re({},G.type.defaultProps),G.props):G.props,U=Z.dataKey,me=Z.maxBarSize,le=Z["".concat(N,"Id")],ve=Z["".concat(z,"Id")],mt={},it=l.reduce(function(ia,Ma){var Du=b["".concat(Ma.axisType,"Map")],$h=Z["".concat(Ma.axisType,"Id")];Du&&Du[$h]||Ma.axisType==="zAxis"||th();var Th=Du[$h];return re(re({},ia),{},We(We({},Ma.axisType,Th),"".concat(Ma.axisType,"Ticks"),Ql(Th)))},mt),be=it[z],De=it["".concat(z,"Ticks")],ze=k&&k[le]&&k[le].hasStack&&dut(G,k[le].stackGroups),oe=su(G.type).indexOf("Bar")>=0,Ct=KS(be,De),nt=[],Rt=q&&Jlt({barSize:T,stackGroups:k,totalSize:Qyt(it,z)});if(oe){var $t,ln,gr=Ze(me)?W:me,_o=($t=(ln=KS(be,De,!0))!==null&&ln!==void 0?ln:gr)!==null&&$t!==void 0?$t:0;nt=eut({barGap:D,barCategoryGap:F,bandSize:_o!==Ct?_o:Ct,sizeList:Rt[ve],maxBarSize:gr}),_o!==Ct&&(nt=nt.map(function(ia){return re(re({},ia),{},{position:re(re({},ia.position),{},{offset:ia.position.offset-_o/2})})}))}var ps=G&&G.type&&G.type.getComposedData;ps&&B.push({props:re(re({},ps(re(re({},it),{},{displayedData:K,props:x,dataKey:U,item:G,bandSize:Ct,barPosition:nt,offset:A,stackedData:ze,layout:j,dataStartIndex:C,dataEndIndex:P}))),{},We(We(We({key:G.key||"item-".concat(M)},N,it[N]),z,it[z]),"animationId",E)),childIndex:iKe(G,x.children),item:G})}),B},p=function(x,b){var S=x.props,k=x.dataStartIndex,A=x.dataEndIndex,E=x.updateId;if(!HH({props:S}))return null;var C=S.children,P=S.layout,T=S.stackOffset,j=S.data,D=S.reverseStackOrder,F=WX(P),W=F.numericAxisName,R=F.cateAxisName,N=Ea(C,r),z=cut(j,N,"".concat(W,"Id"),"".concat(R,"Id"),T,D),q=l.reduce(function(Z,U){var me="".concat(U.axisType,"Map");return re(re({},Z),{},We({},me,Xyt(S,re(re({},U),{},{graphicalItems:N,stackGroups:U.axisType===W&&z,dataStartIndex:k,dataEndIndex:A}))))},{}),B=Kyt(re(re({},q),{},{props:S,graphicalItems:N}),b==null?void 0:b.legendBBox);Object.keys(q).forEach(function(Z){q[Z]=c(S,q[Z],B,Z.replace("Map",""),n)});var G=q["".concat(R,"Map")],M=Zyt(G),K=d(S,re(re({},q),{},{dataStartIndex:k,dataEndIndex:A,updateId:E,graphicalItems:N,stackGroups:z,offset:B}));return re(re({formattedGraphicalItems:K,graphicalItems:N,offset:B,stackGroups:z},M),q)},m=function(v){function x(b){var S,k,A;return Tyt(this,x),A=jyt(this,x,[b]),We(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(A,"accessibilityManager",new yyt),We(A,"handleLegendBBoxUpdate",function(E){if(E){var C=A.state,P=C.dataStartIndex,T=C.dataEndIndex,j=C.updateId;A.setState(re({legendBBox:E},p({props:A.props,dataStartIndex:P,dataEndIndex:T,updateId:j},re(re({},A.state),{},{legendBBox:E}))))}}),We(A,"handleReceiveSyncEvent",function(E,C,P){if(A.props.syncId===E){if(P===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(C)}}),We(A,"handleBrushChange",function(E){var C=E.startIndex,P=E.endIndex;if(C!==A.state.dataStartIndex||P!==A.state.dataEndIndex){var T=A.state.updateId;A.setState(function(){return re({dataStartIndex:C,dataEndIndex:P},p({props:A.props,dataStartIndex:C,dataEndIndex:P,updateId:T},A.state))}),A.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),We(A,"handleMouseEnter",function(E){var C=A.getMouseInfo(E);if(C){var P=re(re({},C),{},{isTooltipActive:!0});A.setState(P),A.triggerSyncEvent(P);var T=A.props.onMouseEnter;qe(T)&&T(P,E)}}),We(A,"triggeredAfterMouseMove",function(E){var C=A.getMouseInfo(E),P=C?re(re({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(P),A.triggerSyncEvent(P);var T=A.props.onMouseMove;qe(T)&&T(P,E)}),We(A,"handleItemMouseEnter",function(E){A.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),We(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),We(A,"handleMouseMove",function(E){E.persist(),A.throttleTriggeredAfterMouseMove(E)}),We(A,"handleMouseLeave",function(E){A.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};A.setState(C),A.triggerSyncEvent(C);var P=A.props.onMouseLeave;qe(P)&&P(C,E)}),We(A,"handleOuterEvent",function(E){var C=rKe(E),P=Aa(A.props,"".concat(C));if(C&&qe(P)){var T,j;/.*touch.*/i.test(C)?j=A.getMouseInfo(E.changedTouches[0]):j=A.getMouseInfo(E),P((T=j)!==null&&T!==void 0?T:{},E)}}),We(A,"handleClick",function(E){var C=A.getMouseInfo(E);if(C){var P=re(re({},C),{},{isTooltipActive:!0});A.setState(P),A.triggerSyncEvent(P);var T=A.props.onClick;qe(T)&&T(P,E)}}),We(A,"handleMouseDown",function(E){var C=A.props.onMouseDown;if(qe(C)){var P=A.getMouseInfo(E);C(P,E)}}),We(A,"handleMouseUp",function(E){var C=A.props.onMouseUp;if(qe(C)){var P=A.getMouseInfo(E);C(P,E)}}),We(A,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),We(A,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseDown(E.changedTouches[0])}),We(A,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseUp(E.changedTouches[0])}),We(A,"handleDoubleClick",function(E){var C=A.props.onDoubleClick;if(qe(C)){var P=A.getMouseInfo(E);C(P,E)}}),We(A,"handleContextMenu",function(E){var C=A.props.onContextMenu;if(qe(C)){var P=A.getMouseInfo(E);C(P,E)}}),We(A,"triggerSyncEvent",function(E){A.props.syncId!==void 0&&mT.emit(gT,A.props.syncId,E,A.eventEmitterSymbol)}),We(A,"applySyncEvent",function(E){var C=A.props,P=C.layout,T=C.syncMethod,j=A.state.updateId,D=E.dataStartIndex,F=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)A.setState(re({dataStartIndex:D,dataEndIndex:F},p({props:A.props,dataStartIndex:D,dataEndIndex:F,updateId:j},A.state)));else if(E.activeTooltipIndex!==void 0){var W=E.chartX,R=E.chartY,N=E.activeTooltipIndex,z=A.state,q=z.offset,B=z.tooltipTicks;if(!q)return;if(typeof T=="function")N=T(B,E);else if(T==="value"){N=-1;for(var G=0;G<B.length;G++)if(B[G].value===E.activeLabel){N=G;break}}var M=re(re({},q),{},{x:q.left,y:q.top}),K=Math.min(W,M.x+M.width),Z=Math.min(R,M.y+M.height),U=B[N]&&B[N].value,me=lD(A.state,A.props.data,N),le=B[N]?{x:P==="horizontal"?B[N].coordinate:K,y:P==="horizontal"?Z:B[N].coordinate}:ahe;A.setState(re(re({},E),{},{activeLabel:U,activeCoordinate:le,activePayload:me,activeTooltipIndex:N}))}else A.setState(E)}),We(A,"renderCursor",function(E){var C,P=A.state,T=P.isTooltipActive,j=P.activeCoordinate,D=P.activePayload,F=P.offset,W=P.activeTooltipIndex,R=P.tooltipAxisBandSize,N=A.getTooltipEventType(),z=(C=E.props.active)!==null&&C!==void 0?C:T,q=A.props.layout,B=E.key||"_recharts-cursor";return H.createElement(Ayt,{key:B,activeCoordinate:j,activePayload:D,activeTooltipIndex:W,chartName:n,element:E,isActive:z,layout:q,offset:F,tooltipAxisBandSize:R,tooltipEventType:N})}),We(A,"renderPolarAxis",function(E,C,P){var T=Aa(E,"type.axisType"),j=Aa(A.state,"".concat(T,"Map")),D=E.type.defaultProps,F=D!==void 0?re(re({},D),E.props):E.props,W=j&&j[F["".concat(T,"Id")]];return X.cloneElement(E,re(re({},W),{},{className:Ke(T,W.className),key:E.key||"".concat(C,"-").concat(P),ticks:Ql(W,!0)}))}),We(A,"renderPolarGrid",function(E){var C=E.props,P=C.radialLines,T=C.polarAngles,j=C.polarRadius,D=A.state,F=D.radiusAxisMap,W=D.angleAxisMap,R=rc(F),N=rc(W),z=N.cx,q=N.cy,B=N.innerRadius,G=N.outerRadius;return X.cloneElement(E,{polarAngles:Array.isArray(T)?T:Ql(N,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(j)?j:Ql(R,!0).map(function(M){return M.coordinate}),cx:z,cy:q,innerRadius:B,outerRadius:G,key:E.key||"polar-grid",radialLines:P})}),We(A,"renderLegend",function(){var E=A.state.formattedGraphicalItems,C=A.props,P=C.children,T=C.width,j=C.height,D=A.props.margin||{},F=T-(D.left||0)-(D.right||0),W=Nfe({children:P,formattedGraphicalItems:E,legendWidth:F,legendContent:u});if(!W)return null;var R=W.item,N=RX(W,Eyt);return X.cloneElement(R,re(re({},N),{},{chartWidth:T,chartHeight:j,margin:D,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),We(A,"renderTooltip",function(){var E,C=A.props,P=C.children,T=C.accessibilityLayer,j=fa(P,da);if(!j)return null;var D=A.state,F=D.isTooltipActive,W=D.activeCoordinate,R=D.activePayload,N=D.activeLabel,z=D.offset,q=(E=j.props.active)!==null&&E!==void 0?E:F;return X.cloneElement(j,{viewBox:re(re({},z),{},{x:z.left,y:z.top}),active:q,label:N,payload:q?R:[],coordinate:W,accessibilityLayer:T})}),We(A,"renderBrush",function(E){var C=A.props,P=C.margin,T=C.data,j=A.state,D=j.offset,F=j.dataStartIndex,W=j.dataEndIndex,R=j.updateId;return X.cloneElement(E,{key:E.key||"_recharts-brush",onChange:O_(A.handleBrushChange,E.props.onChange),data:T,x:he(E.props.x)?E.props.x:D.left,y:he(E.props.y)?E.props.y:D.top+D.height+D.brushBottom-(P.bottom||0),width:he(E.props.width)?E.props.width:D.width,startIndex:F,endIndex:W,updateId:"brush-".concat(R)})}),We(A,"renderReferenceElement",function(E,C,P){if(!E)return null;var T=A,j=T.clipPathId,D=A.state,F=D.xAxisMap,W=D.yAxisMap,R=D.offset,N=E.type.defaultProps||{},z=E.props,q=z.xAxisId,B=q===void 0?N.xAxisId:q,G=z.yAxisId,M=G===void 0?N.yAxisId:G;return X.cloneElement(E,{key:E.key||"".concat(C,"-").concat(P),xAxis:F[B],yAxis:W[M],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:j})}),We(A,"renderActivePoints",function(E){var C=E.item,P=E.activePoint,T=E.basePoint,j=E.childIndex,D=E.isRange,F=[],W=C.props.key,R=C.item.type.defaultProps!==void 0?re(re({},C.item.type.defaultProps),C.item.props):C.item.props,N=R.activeDot,z=R.dataKey,q=re(re({index:j,dataKey:z,cx:P.x,cy:P.y,r:4,fill:Cz(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},je(N,!1)),LS(N));return F.push(x.renderActiveDot(N,q,"".concat(W,"-activePoint-").concat(j))),T?F.push(x.renderActiveDot(N,re(re({},q),{},{cx:T.x,cy:T.y}),"".concat(W,"-basePoint-").concat(j))):D&&F.push(null),F}),We(A,"renderGraphicChild",function(E,C,P){var T=A.filterFormatItem(E,C,P);if(!T)return null;var j=A.getTooltipEventType(),D=A.state,F=D.isTooltipActive,W=D.tooltipAxis,R=D.activeTooltipIndex,N=D.activeLabel,z=A.props.children,q=fa(z,da),B=T.props,G=B.points,M=B.isRange,K=B.baseLine,Z=T.item.type.defaultProps!==void 0?re(re({},T.item.type.defaultProps),T.item.props):T.item.props,U=Z.activeDot,me=Z.hide,le=Z.activeBar,ve=Z.activeShape,mt=!!(!me&&F&&q&&(U||le||ve)),it={};j!=="axis"&&q&&q.props.trigger==="click"?it={onClick:O_(A.handleItemMouseEnter,E.props.onClick)}:j!=="axis"&&(it={onMouseLeave:O_(A.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:O_(A.handleItemMouseEnter,E.props.onMouseEnter)});var be=X.cloneElement(E,re(re({},T.props),it));function De(Ma){return typeof W.dataKey=="function"?W.dataKey(Ma.payload):null}if(mt)if(R>=0){var ze,oe;if(W.dataKey&&!W.allowDuplicatedCategory){var Ct=typeof W.dataKey=="function"?De:"payload.".concat(W.dataKey.toString());ze=FS(G,Ct,N),oe=M&&K&&FS(K,Ct,N)}else ze=G==null?void 0:G[R],oe=M&&K&&K[R];if(ve||le){var nt=E.props.activeIndex!==void 0?E.props.activeIndex:R;return[X.cloneElement(E,re(re(re({},T.props),it),{},{activeIndex:nt})),null,null]}if(!Ze(ze))return[be].concat(cg(A.renderActivePoints({item:T,activePoint:ze,basePoint:oe,childIndex:R,isRange:M})))}else{var Rt,$t=(Rt=A.getItemByXY(A.state.activeCoordinate))!==null&&Rt!==void 0?Rt:{graphicalItem:be},ln=$t.graphicalItem,gr=ln.item,_o=gr===void 0?E:gr,ps=ln.childIndex,ia=re(re(re({},T.props),it),{},{activeIndex:ps});return[X.cloneElement(_o,ia),null,null]}return M?[be,null,null]:[be,null]}),We(A,"renderCustomized",function(E,C,P){return X.cloneElement(E,re(re({key:"recharts-customized-".concat(P)},A.props),A.state))}),We(A,"renderMap",{CartesianGrid:{handler:M_,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:M_},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:M_},YAxis:{handler:M_},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((S=b.id)!==null&&S!==void 0?S:Ch("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=cfe(A.triggeredAfterMouseMove,(k=b.throttleDelay)!==null&&k!==void 0?k:1e3/60),A.state={},A}return Lyt(x,v),Myt(x,[{key:"componentDidMount",value:function(){var S,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,k=S.children,A=S.data,E=S.height,C=S.layout,P=fa(k,da);if(P){var T=P.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,D=lD(this.state,A,T,j),F=this.state.tooltipTicks[T].coordinate,W=(this.state.offset.top+E)/2,R=C==="horizontal",N=R?{x:F,y:W}:{y:F,x:W},z=this.state.formattedGraphicalItems.find(function(B){var G=B.item;return G.type.name==="Scatter"});z&&(N=re(re({},N),z.props.points[T].tooltipPosition),D=z.props.points[T].tooltipPayload);var q={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:j,activePayload:D,activeCoordinate:N};this.setState(q),this.renderCursor(P),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var A,E;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(S){Vj([fa(S.children,da)],[fa(this.props.children,da)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=fa(this.props.children,da);if(S&&typeof S.props.shared=="boolean"){var k=S.props.shared?"axis":"item";return s.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var k=this.container,A=k.getBoundingClientRect(),E=Jot(A),C={chartX:Math.round(S.pageX-E.left),chartY:Math.round(S.pageY-E.top)},P=A.width/k.offsetWidth||1,T=this.inRange(C.chartX,C.chartY,P);if(!T)return null;var j=this.state,D=j.xAxisMap,F=j.yAxisMap,W=this.getTooltipEventType(),R=BX(this.state,this.props.data,this.props.layout,T);if(W!=="axis"&&D&&F){var N=rc(D).scale,z=rc(F).scale,q=N&&N.invert?N.invert(C.chartX):null,B=z&&z.invert?z.invert(C.chartY):null;return re(re({},C),{},{xValue:q,yValue:B},R)}return R?re(re({},C),R):null}},{key:"inRange",value:function(S,k){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,C=S/A,P=k/A;if(E==="horizontal"||E==="vertical"){var T=this.state.offset,j=C>=T.left&&C<=T.left+T.width&&P>=T.top&&P<=T.top+T.height;return j?{x:C,y:P}:null}var D=this.state,F=D.angleAxisMap,W=D.radiusAxisMap;if(F&&W){var R=rc(F);return hV({x:C,y:P},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,k=this.getTooltipEventType(),A=fa(S,da),E={};A&&k==="axis"&&(A.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=LS(this.props,this.handleOuterEvent);return re(re({},C),E)}},{key:"addListener",value:function(){mT.on(gT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mT.removeListener(gT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,k,A){for(var E=this.state.formattedGraphicalItems,C=0,P=E.length;C<P;C++){var T=E[C];if(T.item===S||T.props.key===S.key||k===su(T.item.type)&&A===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,k=this.state.offset,A=k.left,E=k.top,C=k.height,P=k.width;return H.createElement("defs",null,H.createElement("clipPath",{id:S},H.createElement("rect",{x:A,y:E,height:C,width:P})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(k,A){var E=IX(A,2),C=E[0],P=E[1];return re(re({},k),{},We({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(k,A){var E=IX(A,2),C=E[0],P=E[1];return re(re({},k),{},We({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[S])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(S){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[S])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(S){var k=this.state,A=k.formattedGraphicalItems,E=k.activeItem;if(A&&A.length)for(var C=0,P=A.length;C<P;C++){var T=A[C],j=T.props,D=T.item,F=D.type.defaultProps!==void 0?re(re({},D.type.defaultProps),D.props):D.props,W=su(D.type);if(W==="Bar"){var R=(j.data||[]).find(function(B){return ddt(S,B)});if(R)return{graphicalItem:T,payload:R}}else if(W==="RadialBar"){var N=(j.data||[]).find(function(B){return hV(S,B)});if(N)return{graphicalItem:T,payload:N}}else if(IC(T,E)||RC(T,E)||F1(T,E)){var z=ept({graphicalItem:T,activeTooltipItem:E,itemData:F.data}),q=F.activeIndex===void 0?z:F.activeIndex;return{graphicalItem:re(re({},T),{},{childIndex:q}),payload:F1(T,E)?F.data[z]:T.props.data[z]}}}return null}},{key:"render",value:function(){var S=this;if(!HH(this))return null;var k=this.props,A=k.children,E=k.className,C=k.width,P=k.height,T=k.style,j=k.compact,D=k.title,F=k.desc,W=RX(k,kyt),R=je(W,!1);if(j)return H.createElement(vX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(Zj,Np({},R,{width:C,height:P,title:D,desc:F}),this.renderClipPath(),VH(A,this.renderMap)));if(this.props.accessibilityLayer){var N,z;R.tabIndex=(N=this.props.tabIndex)!==null&&N!==void 0?N:0,R.role=(z=this.props.role)!==null&&z!==void 0?z:"application",R.onKeyDown=function(B){S.accessibilityManager.keyboardEvent(B)},R.onFocus=function(){S.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return H.createElement(vX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",Np({className:Ke("recharts-wrapper",E),style:re({position:"relative",cursor:"default",width:C,height:P},T)},q,{ref:function(G){S.container=G}}),H.createElement(Zj,Np({},R,{width:C,height:P,title:D,desc:F,style:Wyt}),this.renderClipPath(),VH(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(X.Component);We(m,"displayName",n),We(m,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),We(m,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,S=v.data,k=v.children,A=v.width,E=v.height,C=v.layout,P=v.stackOffset,T=v.margin,j=x.dataStartIndex,D=x.dataEndIndex;if(x.updateId===void 0){var F=UX(v);return re(re(re({},F),{},{updateId:0},p(re(re({props:v},F),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:S,prevWidth:A,prevHeight:E,prevLayout:C,prevStackOffset:P,prevMargin:T,prevChildren:k})}if(b!==x.prevDataKey||S!==x.prevData||A!==x.prevWidth||E!==x.prevHeight||C!==x.prevLayout||P!==x.prevStackOffset||!Kp(T,x.prevMargin)){var W=UX(v),R={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},N=re(re({},BX(x,S,C)),{},{updateId:x.updateId+1}),z=re(re(re({},W),R),N);return re(re(re({},z),p(re({props:v},z),x)),{},{prevDataKey:b,prevData:S,prevWidth:A,prevHeight:E,prevLayout:C,prevStackOffset:P,prevMargin:T,prevChildren:k})}if(!Vj(k,x.prevChildren)){var q,B,G,M,K=fa(k,Jm),Z=K&&(q=(B=K.props)===null||B===void 0?void 0:B.startIndex)!==null&&q!==void 0?q:j,U=K&&(G=(M=K.props)===null||M===void 0?void 0:M.endIndex)!==null&&G!==void 0?G:D,me=Z!==j||U!==D,le=!Ze(S),ve=le&&!me?x.updateId:x.updateId+1;return re(re({updateId:ve},p(re(re({props:v},x),{},{updateId:ve,dataStartIndex:Z,dataEndIndex:U}),x)),{},{prevChildren:k,dataStartIndex:Z,dataEndIndex:U})}return null}),We(m,"renderActiveDot",function(v,x,b){var S;return X.isValidElement(v)?S=X.cloneElement(v,x):qe(v)?S=v(x):S=H.createElement(Kx,x),H.createElement(ct,{className:"recharts-active-dot",key:b},S)});var g=X.forwardRef(function(x,b){return H.createElement(m,Np({},x,{ref:b}))});return g.displayName=m.displayName,g},Jyt=Iz({chartName:"BarChart",GraphicalChild:Ph,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:rh},{axisType:"yAxis",AxisComp:ih}],formatAxisMap:_de}),evt=Iz({chartName:"PieChart",GraphicalChild:ju,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:LC},{axisType:"radiusAxis",AxisComp:DC}],formatAxisMap:wut,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),qX=Iz({chartName:"AreaChart",GraphicalChild:Zs,axisComponents:[{axisType:"xAxis",AxisComp:rh},{axisType:"yAxis",AxisComp:ih}],formatAxisMap:_de});const qa=[{date:"2026-01-25",cutVolume:385e3,fillVolume:245e3,cutPlan:4e5,fillPlan:28e4},{date:"2026-01-26",cutVolume:392e3,fillVolume:26e4,cutPlan:408e3,fillPlan:295e3},{date:"2026-01-27",cutVolume:405e3,fillVolume:282e3,cutPlan:416e3,fillPlan:31e4},{date:"2026-01-28",cutVolume:418e3,fillVolume:298e3,cutPlan:424e3,fillPlan:325e3},{date:"2026-01-29",cutVolume:428e3,fillVolume:312e3,cutPlan:432e3,fillPlan:34e4},{date:"2026-01-30",cutVolume:438e3,fillVolume:328e3,cutPlan:44e4,fillPlan:355e3}],tvt=[{id:"A1",name:"Cut Zone North",type:"cut",actual:125e3,plan:13e4,status:"on_track"},{id:"A2",name:"Cut Zone Central",type:"cut",actual:18e4,plan:175e3,status:"ahead"},{id:"A3",name:"Cut Zone South",type:"cut",actual:133e3,plan:145e3,status:"behind"},{id:"B1",name:"Fill Zone West",type:"fill",actual:145e3,plan:16e4,status:"behind"},{id:"B2",name:"Fill Zone East",type:"fill",actual:183e3,plan:18e4,status:"on_track"}],nvt=[{station:0,design:100,actual:100},{station:50,design:95,actual:96},{station:100,design:88,actual:90},{station:150,design:82,actual:85},{station:200,design:78,actual:82},{station:250,design:85,actual:86},{station:300,design:92,actual:91},{station:350,design:98,actual:97},{station:400,design:100,actual:100}];function rvt(){const[e,t]=X.useState(qa.length-1),[n,r]=X.useState(!1),[i,a]=X.useState(1),o=qa[e],s=(o.cutVolume/o.cutPlan*100).toFixed(1),l=(o.fillVolume/o.fillPlan*100).toFixed(1),u=((o.cutVolume+o.fillVolume)/(o.cutPlan+o.fillPlan)*100).toFixed(1);X.useEffect(()=>{let f;return n&&e<qa.length-1&&(f=setInterval(()=>{t(d=>d>=qa.length-1?(r(!1),d):d+1)},1500/i)),()=>clearInterval(f)},[n,e,i]);const c=f=>{switch(f){case"ahead":return{bg:"bg-accent-green",text:"text-accent-green"};case"on_track":return{bg:"bg-accent-blue",text:"text-accent-blue"};case"behind":return{bg:"bg-accent-red",text:"text-accent-red"};default:return{bg:"bg-slate-500",text:"text-slate-500"}}};return _.jsxs("div",{className:"p-6 animated-grid-bg min-h-screen",children:[_.jsxs("div",{className:"mb-6",children:[_.jsxs("h1",{className:"text-2xl font-semibold text-slate-200 flex items-center gap-3",children:[_.jsx(Xw,{className:"text-amber-400"}),"Earthwork Progress"]}),_.jsx("p",{className:"text-slate-400",children:"Project Alpha  Cut/Fill Volume Tracking"})]}),_.jsx("div",{className:"card mb-6",children:_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:()=>t(0),className:"p-2 rounded-lg bg-navy-700 hover:bg-navy-600 transition-colors",children:_.jsx(S0e,{size:18,className:"text-slate-400"})}),_.jsx("button",{onClick:()=>r(!n),className:"p-3 rounded-full bg-amber-500 hover:bg-amber-400 transition-colors shadow-lg shadow-amber-500/30",children:n?_.jsx(y0e,{size:20,className:"text-white"}):_.jsx(x0e,{size:20,className:"text-white ml-0.5"})}),_.jsx("button",{onClick:()=>t(qa.length-1),className:"p-2 rounded-lg bg-navy-700 hover:bg-navy-600 transition-colors",children:_.jsx(A0e,{size:18,className:"text-slate-400"})})]}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"relative h-2 bg-navy-700 rounded-full",children:[_.jsx("div",{className:"absolute h-full bg-amber-500 rounded-full transition-all duration-300",style:{width:`${e/(qa.length-1)*100}%`}}),qa.map((f,d)=>_.jsx("button",{onClick:()=>t(d),className:`absolute w-4 h-4 rounded-full -top-1 transform -translate-x-1/2 transition-all
                    ${d<=e?"bg-amber-500":"bg-navy-600 border-2 border-navy-500"}
                    ${d===e?"ring-4 ring-amber-500/30 scale-125":""}`,style:{left:`${d/(qa.length-1)*100}%`}},d))]}),_.jsx("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:qa.map((f,d)=>_.jsx("span",{className:d===e?"text-amber-400 font-medium":"",children:f.date.split("-").slice(1).join("/")},d))})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(rF,{size:16,className:"text-amber-400"}),_.jsx("span",{className:"text-xl font-mono font-bold text-amber-400",children:o.date})]}),_.jsx("span",{className:"text-xs text-slate-500",children:"Survey Date"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-xs text-slate-500",children:"Speed:"}),[.5,1,2].map(f=>_.jsxs("button",{onClick:()=>a(f),className:`px-2 py-1 rounded text-xs font-medium transition-all ${i===f?"bg-amber-500 text-white":"bg-navy-700 text-slate-400 hover:bg-navy-600"}`,children:[f,"x"]},f))]})]})}),_.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[_.jsx("div",{className:"card card-glow",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-500/20 flex items-center justify-center",children:_.jsx(Xw,{size:24,className:"text-red-400"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Cut Progress"}),_.jsxs("p",{className:"text-2xl font-mono font-bold text-red-400",children:[s,"%"]}),_.jsxs("p",{className:"text-xs text-slate-500",children:[(o.cutVolume/1e3).toFixed(0),"k yd"]})]})]})}),_.jsx("div",{className:"card card-glow",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-500/20 flex items-center justify-center",children:_.jsx(Vw,{size:24,className:"text-green-400"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Fill Progress"}),_.jsxs("p",{className:"text-2xl font-mono font-bold text-green-400",children:[l,"%"]}),_.jsxs("p",{className:"text-xs text-slate-500",children:[(o.fillVolume/1e3).toFixed(0),"k yd"]})]})]})}),_.jsx("div",{className:"card card-glow",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/20 flex items-center justify-center",children:_.jsx(Rs,{size:24,className:"text-amber-400"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Overall Progress"}),_.jsxs("p",{className:"text-2xl font-mono font-bold text-amber-400",children:[u,"%"]}),_.jsx("p",{className:"text-xs text-slate-500",children:"vs plan"})]})]})}),_.jsx("div",{className:"card card-glow",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-12 h-12 rounded-xl bg-cyan-500/20 flex items-center justify-center",children:_.jsx(T0e,{size:24,className:"text-cyan-400"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Today's Volume"}),_.jsx("p",{className:"text-2xl font-mono font-bold text-cyan-400",children:e>0?((qa[e].cutVolume-qa[e-1].cutVolume)/1e3).toFixed(0)+"k":"0"}),_.jsx("p",{className:"text-xs text-slate-500",children:"cubic yards moved"})]})]})})]}),_.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[_.jsxs("div",{className:"col-span-8 space-y-6",children:[_.jsxs("div",{className:"card",children:[_.jsx("h3",{className:"text-lg font-medium text-slate-200 mb-4",children:"Volume Progress vs Plan"}),_.jsx("div",{className:"h-80",children:_.jsx(HS,{width:"100%",height:"100%",children:_.jsxs(qX,{data:qa.slice(0,e+1),children:[_.jsxs("defs",{children:[_.jsxs("linearGradient",{id:"cutGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[_.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),_.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]}),_.jsxs("linearGradient",{id:"fillGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[_.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),_.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),_.jsx(bA,{strokeDasharray:"3 3",stroke:"#334155"}),_.jsx(rh,{dataKey:"date",stroke:"#94a3b8",tickFormatter:f=>f.split("-").slice(1).join("/")}),_.jsx(ih,{stroke:"#94a3b8",tickFormatter:f=>`${(f/1e3).toFixed(0)}k`}),_.jsx(da,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},formatter:f=>[`${(f/1e3).toFixed(0)}k yd`,""]}),_.jsx(em,{type:"monotone",dataKey:"cutPlan",stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:2,dot:!1,name:"Cut Plan"}),_.jsx(em,{type:"monotone",dataKey:"fillPlan",stroke:"#10b981",strokeDasharray:"5 5",strokeWidth:2,dot:!1,name:"Fill Plan"}),_.jsx(Zs,{type:"monotone",dataKey:"cutVolume",stroke:"#ef4444",strokeWidth:2,fill:"url(#cutGradient)",name:"Cut Actual"}),_.jsx(Zs,{type:"monotone",dataKey:"fillVolume",stroke:"#10b981",strokeWidth:2,fill:"url(#fillGradient)",name:"Fill Actual"})]})})}),_.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 text-sm",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-4 h-0.5 bg-red-400"}),_.jsx("span",{className:"text-slate-400",children:"Cut Actual"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-4 h-0.5 bg-red-400",style:{borderBottom:"2px dashed"}}),_.jsx("span",{className:"text-slate-400",children:"Cut Plan"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-4 h-0.5 bg-green-400"}),_.jsx("span",{className:"text-slate-400",children:"Fill Actual"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-4 h-0.5 bg-green-400",style:{borderBottom:"2px dashed"}}),_.jsx("span",{className:"text-slate-400",children:"Fill Plan"})]})]})]}),_.jsxs("div",{className:"card",children:[_.jsx("h3",{className:"text-lg font-medium text-slate-200 mb-4",children:"Cross Section: Design vs Actual"}),_.jsx("div",{className:"h-64",children:_.jsx(HS,{width:"100%",height:"100%",children:_.jsxs(qX,{data:nvt,children:[_.jsx("defs",{children:_.jsxs("linearGradient",{id:"designGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[_.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.2}),_.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),_.jsx(bA,{strokeDasharray:"3 3",stroke:"#334155"}),_.jsx(rh,{dataKey:"station",stroke:"#94a3b8",label:{value:"Station (m)",position:"bottom",fill:"#94a3b8"}}),_.jsx(ih,{stroke:"#94a3b8",reversed:!0,domain:[70,105],label:{value:"Elevation (m)",angle:-90,position:"insideLeft",fill:"#94a3b8"}}),_.jsx(da,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"}}),_.jsx(Zs,{type:"monotone",dataKey:"design",stroke:"#3b82f6",fill:"url(#designGrad)",strokeWidth:2,name:"Design Surface"}),_.jsx(em,{type:"monotone",dataKey:"actual",stroke:"#f59e0b",strokeWidth:3,dot:!0,name:"Actual Surface"})]})})}),_.jsx("div",{className:"mt-4 p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:_.jsxs("p",{className:"text-sm text-amber-400",children:[" Station 150-200m is ",_.jsx("span",{className:"font-semibold",children:"2.5m behind design grade"}),". Additional fill material required."]})})]})]}),_.jsxs("div",{className:"col-span-4 space-y-6",children:[_.jsxs("div",{className:"card",children:[_.jsx("h3",{className:"text-lg font-medium text-slate-200 mb-4",children:"Elevation Change Heatmap"}),_.jsxs("div",{className:"aspect-square bg-navy-700/50 rounded-lg relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-4 grid grid-cols-5 grid-rows-5 gap-1",children:[...Array(25)].map((f,d)=>{const p=d<10,m=Math.random();return _.jsx("div",{className:`rounded ${p?"bg-red-500":"bg-green-500"}`,style:{opacity:.2+m*.6}},d)})}),_.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between text-xs",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),_.jsx("span",{className:"text-slate-400",children:"Cut"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),_.jsx("span",{className:"text-slate-400",children:"Fill"})]})]})]})]}),_.jsxs("div",{className:"card",children:[_.jsx("h3",{className:"text-lg font-medium text-slate-200 mb-4",children:"Zone Status"}),_.jsx("div",{className:"space-y-3",children:tvt.map(f=>{const d=c(f.status),p=(f.actual/f.plan*100).toFixed(0);return _.jsxs("div",{className:"p-3 bg-navy-700/50 rounded-lg",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:`w-2 h-2 rounded-full ${f.type==="cut"?"bg-red-400":"bg-green-400"}`}),_.jsx("span",{className:"text-sm text-slate-200",children:f.name})]}),_.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${d.bg}/20 ${d.text}`,children:f.status.replace("_"," ")})]}),_.jsx("div",{className:"h-1.5 bg-navy-600 rounded-full overflow-hidden",children:_.jsx("div",{className:`h-full rounded-full ${f.type==="cut"?"bg-red-400":"bg-green-400"}`,style:{width:`${Math.min(100,Number(p))}%`}})}),_.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[_.jsxs("span",{children:[(f.actual/1e3).toFixed(0),"k yd"]}),_.jsxs("span",{children:[p,"%"]})]})]},f.id)})})]})]})]})]})}const HX=["#f97316","#fb923c","#fdba74","#fed7aa","#ffedd5"];function ivt(){const[e,t]=X.useState(null),[n,r]=X.useState(!0);X.useEffect(()=>{i()},[]);const i=async()=>{try{const a=await fetch("/api/ml/hidden-pattern-analysis");if(a.ok){const o=await a.json();t(o)}else throw new Error("API not available")}catch(a){console.error("Failed to fetch ghost cycle data:",a),t({totalGhostCycles:156,totalFuelWasted:1240,estimatedMonthlyCost:47120,affectedEquipment:23,affectedSites:4,topOffenders:[{equipmentId:"H-07",equipmentName:"CAT 793 #7",ghostCount:28,fuelWasted:224,siteName:"Project Alpha"},{equipmentId:"H-12",equipmentName:"CAT 793 #12",ghostCount:24,fuelWasted:192,siteName:"Project Beta"},{equipmentId:"H-03",equipmentName:"CAT 793 #3",ghostCount:21,fuelWasted:168,siteName:"Project Alpha"},{equipmentId:"H-19",equipmentName:"CAT 793 #19",ghostCount:18,fuelWasted:144,siteName:"Project Gamma"},{equipmentId:"H-08",equipmentName:"CAT 793 #8",ghostCount:15,fuelWasted:120,siteName:"Project Delta"}],bySite:[{siteName:"Project Alpha",ghostCount:58,fuelWasted:464},{siteName:"Project Beta",ghostCount:42,fuelWasted:336},{siteName:"Project Gamma",ghostCount:31,fuelWasted:248},{siteName:"Project Delta",ghostCount:25,fuelWasted:192}],byHour:[{hour:6,ghostCount:12},{hour:7,ghostCount:8},{hour:8,ghostCount:15},{hour:9,ghostCount:22},{hour:10,ghostCount:18},{hour:11,ghostCount:25},{hour:12,ghostCount:28},{hour:13,ghostCount:14},{hour:14,ghostCount:8},{hour:15,ghostCount:6}]})}finally{r(!1)}};return n||!e?_.jsx("div",{className:"p-6 flex items-center justify-center h-full",children:_.jsx("div",{className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin"})}):_.jsxs("div",{className:"p-6 animated-grid-bg min-h-screen",children:[_.jsxs("div",{className:"mb-6",children:[_.jsxs("h1",{className:"text-2xl font-bold text-slate-200 flex items-center gap-3",children:[_.jsx(hu,{className:"text-orange-400"}),"Ghost Cycle Detection"]}),_.jsx("p",{className:"text-slate-400",children:"Hidden Discovery: Equipment moving but not hauling = wasted fuel"})]}),_.jsx("div",{className:"card mb-6 p-6 border-orange-500/30 bg-gradient-to-r from-orange-500/10 to-transparent",children:_.jsxs("div",{className:"flex items-start gap-6",children:[_.jsx("div",{className:"w-16 h-16 rounded-2xl bg-orange-500/20 flex items-center justify-center",children:_.jsx(pN,{size:32,className:"text-orange-400"})}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("h2",{className:"text-xl font-bold text-orange-400 mb-2",children:[" Hidden Discovery: ",e.totalGhostCycles," Ghost Cycles Detected"]}),_.jsxs("p",{className:"text-slate-300 mb-4",children:['TERRA identified equipment that appears "active" (GPS shows movement) but is actually wasting fuel (engine load < 30%). These trucks are moving but ',_.jsx("strong",{children:"not hauling payload"}),"."]}),_.jsxs("div",{className:"flex items-center gap-8",children:[_.jsxs("div",{children:[_.jsx("span",{className:"text-3xl font-bold text-orange-400",children:e.totalFuelWasted.toLocaleString()}),_.jsx("span",{className:"text-slate-400 ml-2",children:"gallons wasted this month"})]}),_.jsxs("div",{children:[_.jsxs("span",{className:"text-3xl font-bold text-red-400",children:["$",e.estimatedMonthlyCost.toLocaleString()]}),_.jsx("span",{className:"text-slate-400 ml-2",children:"estimated monthly cost"})]})]})]})]})}),_.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[_.jsx("div",{className:"card p-4",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/20 flex items-center justify-center",children:_.jsx(hu,{size:20,className:"text-orange-400"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Ghost Cycles"}),_.jsx("p",{className:"text-2xl font-bold text-orange-400",children:e.totalGhostCycles})]})]})}),_.jsx("div",{className:"card p-4",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center",children:_.jsx(fK,{size:20,className:"text-red-400"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Monthly Cost"}),_.jsxs("p",{className:"text-2xl font-bold text-red-400",children:["$",(e.estimatedMonthlyCost/1e3).toFixed(0),"K"]})]})]})}),_.jsx("div",{className:"card p-4",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/20 flex items-center justify-center",children:_.jsx(Ed,{size:20,className:"text-amber-400"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Affected Units"}),_.jsx("p",{className:"text-2xl font-bold text-amber-400",children:e.affectedEquipment})]})]})}),_.jsx("div",{className:"card p-4",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:_.jsx(dK,{size:20,className:"text-purple-400"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Sites Affected"}),_.jsx("p",{className:"text-2xl font-bold text-purple-400",children:e.affectedSites})]})]})}),_.jsx("div",{className:"card p-4",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-cyan-500/20 flex items-center justify-center",children:_.jsx(Rs,{size:20,className:"text-cyan-400"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:"Fuel Wasted"}),_.jsxs("p",{className:"text-2xl font-bold text-cyan-400",children:[e.totalFuelWasted.toLocaleString()," gal"]})]})]})})]}),_.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[_.jsx("div",{className:"col-span-8",children:_.jsxs("div",{className:"card p-4",children:[_.jsxs("h3",{className:"text-lg font-medium text-slate-200 mb-4 flex items-center gap-2",children:[_.jsx(lK,{size:18,className:"text-orange-400"}),"Ghost Cycles by Hour of Day"]}),_.jsx("div",{className:"h-72",children:_.jsx(HS,{width:"100%",height:"100%",children:_.jsxs(Jyt,{data:e.byHour,children:[_.jsx(bA,{strokeDasharray:"3 3",stroke:"#334155"}),_.jsx(rh,{dataKey:"hour",stroke:"#94a3b8",tickFormatter:a=>`${a}:00`}),_.jsx(ih,{stroke:"#94a3b8"}),_.jsx(da,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},formatter:a=>[a,"Ghost Cycles"],labelFormatter:a=>`Hour: ${a}:00`}),_.jsx(Ph,{dataKey:"ghostCount",fill:"#f97316",radius:[4,4,0,0]})]})})}),_.jsx("div",{className:"mt-4 p-3 bg-orange-500/10 border border-orange-500/20 rounded-lg",children:_.jsxs("p",{className:"text-sm text-orange-300",children:[_.jsx("strong",{children:"Insight:"})," Peak Ghost Cycles occur at 11:00-12:00 (lunch transitions) and 9:00-10:00 (shift handovers). Consider optimizing shift scheduling to reduce idle movement."]})})]})}),_.jsx("div",{className:"col-span-4",children:_.jsxs("div",{className:"card p-4",children:[_.jsx("h3",{className:"text-lg font-medium text-slate-200 mb-4",children:"Distribution by Site"}),_.jsx("div",{className:"h-64",children:_.jsx(HS,{width:"100%",height:"100%",children:_.jsxs(evt,{children:[_.jsx(ju,{data:e.bySite,dataKey:"ghostCount",nameKey:"siteName",cx:"50%",cy:"50%",outerRadius:80,label:({siteName:a,percent:o})=>`${a.split(" ")[1]} ${(o*100).toFixed(0)}%`,children:e.bySite.map((a,o)=>_.jsx(PC,{fill:HX[o%HX.length]},o))}),_.jsx(da,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"}})]})})})]})}),_.jsx("div",{className:"col-span-12",children:_.jsxs("div",{className:"card p-4",children:[_.jsxs("h3",{className:"text-lg font-medium text-slate-200 mb-4 flex items-center gap-2",children:[_.jsx(Ed,{size:18,className:"text-orange-400"}),"Top Ghost Cycle Offenders"]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-navy-700",children:[_.jsx("th",{className:"text-left py-3 px-4 text-sm text-slate-400",children:"Equipment"}),_.jsx("th",{className:"text-left py-3 px-4 text-sm text-slate-400",children:"Site"}),_.jsx("th",{className:"text-right py-3 px-4 text-sm text-slate-400",children:"Ghost Cycles"}),_.jsx("th",{className:"text-right py-3 px-4 text-sm text-slate-400",children:"Fuel Wasted (gal)"}),_.jsx("th",{className:"text-right py-3 px-4 text-sm text-slate-400",children:"Est. Cost"}),_.jsx("th",{className:"text-center py-3 px-4 text-sm text-slate-400",children:"Severity"})]})}),_.jsx("tbody",{children:e.topOffenders.map((a,o)=>_.jsxs("tr",{className:"border-b border-navy-700/50 hover:bg-navy-700/30",children:[_.jsxs("td",{className:"py-3 px-4",children:[_.jsx("div",{className:"font-medium text-slate-200",children:a.equipmentName}),_.jsx("div",{className:"text-xs text-slate-500",children:a.equipmentId})]}),_.jsx("td",{className:"py-3 px-4 text-slate-300",children:a.siteName}),_.jsx("td",{className:"py-3 px-4 text-right font-mono text-orange-400",children:a.ghostCount}),_.jsx("td",{className:"py-3 px-4 text-right font-mono text-slate-200",children:a.fuelWasted}),_.jsxs("td",{className:"py-3 px-4 text-right font-mono text-red-400",children:["$",(a.fuelWasted*3.8).toFixed(0)]}),_.jsx("td",{className:"py-3 px-4 text-center",children:_.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${o===0?"bg-red-500/20 text-red-400":o<3?"bg-orange-500/20 text-orange-400":"bg-yellow-500/20 text-yellow-400"}`,children:o===0?"Critical":o<3?"High":"Medium"})})]},a.equipmentId))})]})})]})})]}),_.jsxs("div",{className:"card mt-6 p-6",children:[_.jsx("h3",{className:"text-lg font-medium text-slate-200 mb-4",children:"AI Recommendations"}),_.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[_.jsxs("div",{className:"p-4 bg-navy-700/50 rounded-lg",children:[_.jsx("div",{className:"text-orange-400 font-medium mb-2",children:"1. Route Optimization"}),_.jsx("p",{className:"text-sm text-slate-400",children:"Redesign haul road layout at Project Alpha to eliminate unnecessary equipment movement near Stockpile B."})]}),_.jsxs("div",{className:"p-4 bg-navy-700/50 rounded-lg",children:[_.jsx("div",{className:"text-orange-400 font-medium mb-2",children:"2. Shift Scheduling"}),_.jsx("p",{className:"text-sm text-slate-400",children:"Stagger lunch breaks to reduce 11:00-12:00 congestion that causes trucks to idle while moving."})]}),_.jsxs("div",{className:"p-4 bg-navy-700/50 rounded-lg",children:[_.jsx("div",{className:"text-orange-400 font-medium mb-2",children:"3. Driver Training"}),_.jsx("p",{className:"text-sm text-slate-400",children:"Focus training on H-07 and H-12 operators who show highest ghost cycle frequency."})]})]})]})]})}const GX=[{id:"alpha",name:"Project Alpha"},{id:"beta",name:"Project Beta"},{id:"gamma",name:"Project Gamma"},{id:"delta",name:"Project Delta"}];function avt(){var m;const[e,t]=X.useState(!1),[n,r]=X.useState(null),[i,a]=X.useState(!1),[o,s]=X.useState("alpha"),[l,u]=X.useState(null),c=async()=>{var g;t(!0),u(null),await new Promise(v=>setTimeout(v,2e3)),r({date:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),site:((g=GX.find(v=>v.id===o))==null?void 0:g.name)||"Project Alpha",weather:{condition:"Clear",temp:72,wind:"8 mph NW"},volumeTarget:8500,equipmentAvailable:42,executiveSummary:"Good conditions for earthwork today. Yesterday's volume was 8,200 yd, slightly below target. Ghost Cycle analysis identified 18% fuel waste on North Haul Road - the main priority for today is addressing the stockpile bottleneck at Sector 3. Weather is favorable with no precipitation expected. All 42 units are operational with 2 returning from scheduled maintenance.",watchPoints:[{location:"North Road / Stockpile B Intersection",issue:"Choke point causing 12-minute average delays. Trucks queuing extends into active haul lane.",source:"GPS Analysis + Yesterday's Cycle Data",severity:"high"},{location:"Fill Zone B - Northwest Corner",issue:"Soft ground reported. May need additional compaction passes before loading.",source:"Operator Report + Geotech Review",severity:"medium"},{location:"Unit T-12 (CAT 793)",issue:"High idle time pattern detected (32% vs fleet avg 18%). Check with operator.",source:"Telematics Analysis",severity:"medium"}],recommendedActions:["Deploy dozer D-04 to relocate Stockpile B approximately 50m east to clear intersection","Route afternoon loads through South alternate route while stockpile is being moved","Schedule compaction assessment in Fill Zone B NW corner before 10:00 AM","Brief T-12 operator on idle time concerns during morning meeting"],safetyReminders:["Pedestrian activity expected near office trailers 07:00-08:00 (shift change)","Water truck operations on South Loop - watch for wet road conditions","Survey crew working in Cut Zone A - maintain 50m clearance from survey equipment","Daily equipment walk-around inspections before first load"],metadata:{generated_at:new Date().toISOString(),gps_points_analyzed:156e3,documents_referenced:12}}),t(!1)},f=()=>{if(!n)return;const g=d();navigator.clipboard.writeText(g),a(!0),setTimeout(()=>a(!1),2e3)},d=()=>n?`
MORNING SITE BRIEFING - ${n.date}
Site: ${n.site}
=====================================

WEATHER: ${n.weather.condition}, ${n.weather.temp}F, Wind ${n.weather.wind}

${n.executiveSummary?`EXECUTIVE SUMMARY
${n.executiveSummary}

`:""}

TODAY'S TARGETS
- Volume Target: ${n.volumeTarget.toLocaleString()} yd
- Equipment Available: ${n.equipmentAvailable} units

WATCH POINTS
${n.watchPoints.map((g,v)=>`
${v+1}. [${g.severity.toUpperCase()}] ${g.location}
   ${g.issue}
   Source: ${g.source}
`).join("")}

RECOMMENDED ACTIONS
${n.recommendedActions.map((g,v)=>`${v+1}. ${g}`).join(`
`)}

SAFETY REMINDERS
${n.safetyReminders.map((g,v)=>`${v+1}. ${g}`).join(`
`)}

Generated by TERRA using Cortex AI
${n.metadata?`Analyzed ${n.metadata.gps_points_analyzed.toLocaleString()} GPS points and ${n.metadata.documents_referenced} site documents`:""}
    `.trim():"",p=g=>{switch(g){case"high":return"text-accent-red bg-accent-red/10 border-accent-red/30";case"medium":return"text-accent-amber bg-accent-amber/10 border-accent-amber/30";case"low":return"text-accent-blue bg-accent-blue/10 border-accent-blue/30";default:return"text-slate-400 bg-navy-700 border-navy-600"}};return _.jsx("div",{className:"p-6 min-h-screen animated-grid-bg",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsx("div",{className:"flex items-center justify-between mb-6",children:_.jsxs("div",{children:[_.jsxs("h1",{className:"text-2xl font-bold text-slate-200 flex items-center gap-3",children:[_.jsx(VB,{className:"text-amber-400"}),"Morning Site Briefing"]}),_.jsx("p",{className:"text-slate-400 mt-1",children:"AI-generated daily briefing powered by Cortex LLM"})]})}),_.jsxs("div",{className:"card mb-6",children:[_.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-4 flex items-center gap-2",children:[_.jsx(XB,{size:16,className:"text-amber-400"}),"Configure Briefing"]}),_.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500 uppercase tracking-wide block mb-1",children:"Site"}),_.jsxs("div",{className:"relative",children:[_.jsx("select",{value:o,onChange:g=>s(g.target.value),className:"w-full bg-navy-700 border border-navy-600 rounded-lg px-4 py-2.5 text-slate-200 appearance-none cursor-pointer",children:GX.map(g=>_.jsx("option",{value:g.id,children:g.name},g.id))}),_.jsx(sK,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs text-slate-500 uppercase tracking-wide block mb-1",children:"Date"}),_.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full bg-navy-700 border border-navy-600 rounded-lg px-4 py-2.5 text-slate-200"})]}),_.jsx("div",{className:"flex items-end",children:_.jsx("button",{onClick:c,disabled:e,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-400 
                         disabled:bg-navy-600 text-white rounded-lg transition-colors font-medium`,children:e?_.jsxs(_.Fragment,{children:[_.jsx(b0e,{size:18,className:"animate-spin"}),"Generating..."]}):_.jsxs(_.Fragment,{children:[_.jsx(Ad,{size:18}),"Generate Briefing"]})})})]}),l&&_.jsx("div",{className:"p-3 bg-accent-red/10 border border-accent-red/30 rounded-lg text-accent-red text-sm",children:l})]}),n&&_.jsxs("div",{className:"card animate-slide-up",children:[_.jsx("div",{className:"bg-gradient-to-r from-amber-500/20 to-orange-500/20 -m-6 mb-6 p-6 rounded-t-xl border-b border-navy-700",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-slate-400",children:n.date}),_.jsxs("h2",{className:"text-xl font-bold text-slate-200 mt-1",children:["Daily Briefing - ",n.site]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:f,className:`flex items-center gap-2 px-3 py-1.5 bg-navy-700 hover:bg-navy-600 
                             text-slate-300 rounded-lg transition-colors text-sm`,children:[i?_.jsx(HO,{size:16,className:"text-accent-green"}):_.jsx(a0e,{size:16}),i?"Copied!":"Copy"]}),_.jsxs("button",{className:`flex items-center gap-2 px-3 py-1.5 bg-navy-700 hover:bg-navy-600 
                                   text-slate-300 rounded-lg transition-colors text-sm`,children:[_.jsx(o0e,{size:16}),"Export"]}),_.jsxs("button",{className:`flex items-center gap-2 px-3 py-1.5 bg-accent-green hover:bg-accent-green/80 
                                   text-white rounded-lg transition-colors text-sm`,children:[_.jsx(hK,{size:16}),"Send to Crew"]})]})]})}),_.jsxs("div",{className:"flex items-center gap-6 mb-6 p-4 bg-navy-700/50 rounded-lg",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(uK,{size:20,className:"text-cyan-400"}),_.jsx("span",{className:"text-slate-300",children:n.weather.condition})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(k0e,{size:20,className:"text-amber-400"}),_.jsxs("span",{className:"text-slate-300",children:[n.weather.temp,"F"]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-slate-500",children:"Wind:"}),_.jsx("span",{className:"text-slate-300",children:n.weather.wind})]}),_.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[_.jsxs("div",{children:[_.jsx("span",{className:"text-slate-500 text-sm",children:"Volume Target:"}),_.jsxs("span",{className:"ml-2 text-amber-400 font-mono font-bold",children:[n.volumeTarget.toLocaleString()," yd"]})]}),_.jsxs("div",{children:[_.jsx("span",{className:"text-slate-500 text-sm",children:"Equipment:"}),_.jsxs("span",{className:"ml-2 text-cyan-400 font-mono font-bold",children:[n.equipmentAvailable," units"]})]})]})]}),n.executiveSummary&&_.jsx("section",{className:"mb-8",children:_.jsxs("div",{className:"bg-gradient-to-r from-amber-500/5 to-orange-500/5 border border-amber-500/20 rounded-lg p-4",children:[_.jsxs("h3",{className:"text-sm font-medium text-amber-400 mb-2 flex items-center gap-2",children:[_.jsx(Ad,{size:16}),"AI Executive Summary"]}),_.jsx("p",{className:"text-slate-300",children:n.executiveSummary})]})}),_.jsxs("section",{className:"mb-8",children:[_.jsxs("h3",{className:"text-lg font-medium text-slate-200 mb-4 flex items-center gap-2",children:[_.jsx(hu,{size:18,className:"text-amber-400"}),"Watch Points"]}),_.jsx("div",{className:"space-y-3",children:n.watchPoints.map((g,v)=>_.jsx("div",{className:`p-4 rounded-lg border ${p(g.severity)}`,children:_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("div",{className:"flex-shrink-0 mt-1",children:_.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                          ${g.severity==="high"?"bg-accent-red/20 text-accent-red":g.severity==="medium"?"bg-accent-amber/20 text-accent-amber":"bg-accent-blue/20 text-accent-blue"}`,children:v+1})}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx("span",{className:"font-medium text-slate-200",children:g.location}),_.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${p(g.severity)}`,children:g.severity})]}),_.jsx("p",{className:"text-slate-300 text-sm",children:g.issue}),_.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[" ",g.source]})]})]})},v))})]}),_.jsxs("section",{className:"mb-8",children:[_.jsxs("h3",{className:"text-lg font-medium text-slate-200 mb-4 flex items-center gap-2",children:[_.jsx(XB,{size:18,className:"text-accent-green"}),"Recommended Actions"]}),_.jsx("div",{className:"space-y-2",children:n.recommendedActions.map((g,v)=>_.jsxs("div",{className:"flex items-start gap-3 p-3 bg-accent-green/5 border border-accent-green/20 rounded-lg",children:[_.jsx("div",{className:"w-6 h-6 rounded-full bg-accent-green/20 flex items-center justify-center text-xs font-bold text-accent-green",children:v+1}),_.jsx("span",{className:"text-slate-300 text-sm",children:g})]},v))})]}),_.jsxs("section",{children:[_.jsxs("h3",{className:"text-lg font-medium text-slate-200 mb-4 flex items-center gap-2",children:[_.jsx(HO,{size:18,className:"text-cyan-400"}),"Safety Reminders"]}),_.jsx("div",{className:"space-y-2",children:n.safetyReminders.map((g,v)=>_.jsxs("div",{className:"flex items-center gap-3 p-3 bg-navy-700/30 rounded-lg",children:[_.jsx("div",{className:"w-6 h-6 rounded-full bg-cyan-500/10 flex items-center justify-center",children:_.jsx(HO,{size:14,className:"text-cyan-400"})}),_.jsx("span",{className:"text-slate-300 text-sm",children:g})]},v))})]}),_.jsxs("div",{className:"mt-8 pt-6 border-t border-navy-700 flex items-center justify-between",children:[_.jsxs("p",{className:"text-xs text-slate-500",children:["Generated by TERRA using Cortex AI",n.metadata&&`  Analyzed ${n.metadata.gps_points_analyzed.toLocaleString()} GPS points & ${n.metadata.documents_referenced} documents`]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(lK,{size:14,className:"text-slate-500"}),_.jsx("span",{className:"text-xs text-slate-500",children:((m=n.metadata)==null?void 0:m.generated_at)||new Date().toISOString()})]})]})]}),!n&&!e&&_.jsxs("div",{className:"card text-center py-16",children:[_.jsx(VB,{size:48,className:"mx-auto text-slate-600 mb-4"}),_.jsx("h3",{className:"text-lg font-medium text-slate-300 mb-2",children:"Ready to Generate"}),_.jsx("p",{className:"text-slate-500 max-w-md mx-auto",children:'Select a site above, then click "Generate Briefing" to create an AI-powered morning briefing using GPS analytics and site document analysis.'})]})]})})}const ovt=[{id:"1",title:"Geotechnical Report - Project Alpha Phase 1",type:"geotech",site:"Project Alpha",date:"2026-01-15",summary:"Soil bearing capacity analysis for main haul road foundation. Identifies soft ground conditions in Sector 3 NW quadrant requiring additional compaction.",highlights:["Bearing capacity: 2500 psf in stable zones","Soft clay identified at 3-5m depth in Sector 3","Recommended compaction: 95% modified Proctor","Water table at 8m - no dewatering required"]},{id:"2",title:"Site Safety Plan - Q1 2026",type:"safety",site:"Project Alpha",date:"2026-01-01",summary:"Comprehensive safety protocols for earthwork operations including haul road traffic management and equipment inspection requirements.",highlights:["Maximum speed: 15 mph loaded, 25 mph empty","Pedestrian exclusion zones marked with orange fencing","Daily pre-shift equipment inspections required","Spotter required for all reversing operations"]},{id:"3",title:"CAT 793 Operating Parameters",type:"equipment",site:"All Sites",date:"2025-12-01",summary:"Optimal operating parameters for CAT 793 haul trucks on clay and gravel surfaces. Includes grade limitations and payload guidelines.",highlights:["Maximum grade: 10% loaded, 15% empty","Optimal payload: 220-240 tons","Tire pressure: 100 psi on clay surfaces","Engine idle time should not exceed 15% of shift"]},{id:"4",title:"Haul Road Construction Procedure",type:"procedure",site:"All Sites",date:"2025-11-15",summary:"Standard procedure for constructing and maintaining haul roads on earthwork sites. Includes drainage, surfacing, and maintenance schedules.",highlights:["Road width: 40ft minimum for two-way traffic","Crown: 2% grade from centerline","Drainage ditch: 2ft deep on uphill side","Water application: 3x daily in dry conditions"]},{id:"5",title:"Geotechnical Report - Fill Zone B",type:"geotech",site:"Project Alpha",date:"2026-01-20",summary:"Compaction verification and moisture content analysis for Fill Zone B. Notes areas requiring additional passes.",highlights:["Achieved density: 92-96% of modified Proctor","NW corner at 89% - needs additional compaction","Optimal moisture content: 12-15%","Current moisture: 14% - within spec"]}],vT=[{id:"geotech",label:"Geotechnical",icon:e0e,color:"amber"},{id:"safety",label:"Safety Plans",icon:Zw,color:"green"},{id:"equipment",label:"Equipment",icon:N0e,color:"blue"},{id:"procedure",label:"Procedures",icon:hN,color:"purple"}];function svt(){var l;const[e,t]=X.useState(""),[n,r]=X.useState(null),[i,a]=X.useState(null),o=ovt.filter(u=>{const c=e===""||u.title.toLowerCase().includes(e.toLowerCase())||u.summary.toLowerCase().includes(e.toLowerCase())||u.highlights.some(d=>d.toLowerCase().includes(e.toLowerCase())),f=!i||u.type===i;return c&&f}),s=u=>{switch(u){case"geotech":return{bg:"bg-amber-500/10",text:"text-amber-400",border:"border-amber-500/30"};case"safety":return{bg:"bg-green-500/10",text:"text-green-400",border:"border-green-500/30"};case"equipment":return{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/30"};case"procedure":return{bg:"bg-purple-500/10",text:"text-purple-400",border:"border-purple-500/30"};default:return{bg:"bg-slate-500/10",text:"text-slate-400",border:"border-slate-500/30"}}};return _.jsxs("div",{className:"p-6 animated-grid-bg min-h-screen",children:[_.jsxs("div",{className:"mb-6",children:[_.jsxs("h1",{className:"text-2xl font-semibold text-slate-200 flex items-center gap-3",children:[_.jsx($v,{className:"text-amber-400"}),"Document Search"]}),_.jsx("p",{className:"text-slate-400",children:"Search geotechnical reports, safety plans, and equipment manuals"})]}),_.jsxs("div",{className:"card mb-6",children:[_.jsx("div",{className:"flex gap-4 mb-4",children:_.jsxs("div",{className:"flex-1 relative",children:[_.jsx($v,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),_.jsx("input",{type:"text",placeholder:"Search documents... (e.g., 'compaction', 'haul road', 'safety')",value:e,onChange:u=>t(u.target.value),className:"w-full pl-10 input"})]})}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(l0e,{size:16,className:"text-slate-500"}),_.jsx("span",{className:"text-sm text-slate-500 mr-2",children:"Filter:"}),vT.map(u=>{const c=u.icon,f=i===u.id;return _.jsxs("button",{onClick:()=>a(f?null:u.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors
                  ${f?`${s(u.id).bg} ${s(u.id).text} ${s(u.id).border} border`:"bg-navy-700 text-slate-400 hover:bg-navy-600"}`,children:[_.jsx(c,{size:14}),u.label]},u.id)})]})]}),_.jsxs("div",{className:"flex gap-6",children:[_.jsx("div",{className:"w-1/2 space-y-3",children:o.length===0?_.jsx("div",{className:"card text-center py-12",children:_.jsx("p",{className:"text-slate-400",children:"No documents match your search"})}):o.map(u=>{var f;const c=s(u.type);return _.jsxs("button",{onClick:()=>r(u),className:`w-full text-left card hover:bg-navy-700/50 transition-colors ${(n==null?void 0:n.id)===u.id?"ring-2 ring-amber-500":""}`,children:[_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx(hN,{className:c.text,size:20}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[_.jsx("span",{className:"font-medium text-slate-200",children:u.title}),_.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${c.bg} ${c.text}`,children:(f=vT.find(d=>d.id===u.type))==null?void 0:f.label})]}),_.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400 mt-1",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(rF,{size:12}),u.date]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(dK,{size:12}),u.site]})]})]})]}),_.jsx(iF,{className:"text-slate-400",size:20})]}),_.jsx("p",{className:"mt-3 text-sm text-slate-300 line-clamp-2",children:u.summary})]},u.id)})}),_.jsx("div",{className:"w-1/2",children:n?_.jsxs("div",{className:"card sticky top-6",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-semibold text-slate-200",children:n.title}),_.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[_.jsx("span",{className:"text-slate-400 text-sm",children:n.date}),_.jsx("span",{className:"text-slate-500",children:""}),_.jsx("span",{className:"text-slate-400 text-sm",children:n.site})]})]}),_.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${s(n.type).bg} ${s(n.type).text}`,children:(l=vT.find(u=>u.id===n.type))==null?void 0:l.label})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:"text-sm font-medium text-slate-400 uppercase tracking-wide mb-2",children:"Summary"}),_.jsx("p",{className:"text-slate-200",children:n.summary})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-medium text-slate-400 uppercase tracking-wide mb-2",children:"Key Information"}),_.jsx("ul",{className:"space-y-2",children:n.highlights.map((u,c)=>_.jsxs("li",{className:"flex gap-3 text-sm",children:[_.jsx("span",{className:"text-amber-400",children:""}),_.jsx("span",{className:"text-slate-300",children:u})]},c))})]}),_.jsxs("div",{className:"mt-6 pt-6 border-t border-navy-700 space-y-3",children:[_.jsx("button",{className:"btn-primary w-full",children:"Ask TERRA About This Document"}),_.jsx("button",{className:"w-full px-4 py-2 bg-navy-700 text-slate-300 rounded-lg hover:bg-navy-600 transition-colors",children:"Download PDF"})]})]}):_.jsxs("div",{className:"card text-center py-16",children:[_.jsx(hN,{className:"mx-auto text-slate-500 mb-4",size:48}),_.jsx("p",{className:"text-slate-400",children:"Select a document to view details"})]})})]})]})}function lvt(){const e=[{name:"RAW",description:"GPS breadcrumbs, telematics, cycle events",icon:zy},{name:"ATOMIC",description:"Cleansed and standardized records",icon:Vw},{name:"CONSTRUCTION_GEO",description:"Analytics-ready aggregations and marts",icon:Gw},{name:"ML",description:"Model explainability and predictions",icon:xp}],t=[{name:"Watchdog Agent",description:"Real-time monitoring for Ghost Cycles and Choke Points",color:"text-orange-400",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30"},{name:"Route Advisor Agent",description:"Optimal routing and cycle time predictions",color:"text-cyan-400",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/30"},{name:"Historian Agent",description:"Document search and historical analysis",color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/30"}],n=[{name:"Ghost Cycle Detector",type:"XGBoost Classifier",accuracy:"92%"},{name:"Cycle Time Optimizer",type:"Gradient Boosting",r2:"0.85"},{name:"Choke Point Predictor",type:"Random Forest",accuracy:"89%"}];return _.jsxs("div",{className:"h-screen flex flex-col animated-grid-bg",children:[_.jsx("header",{className:"bg-earth-800/80 backdrop-blur border-b border-earth-700 px-6 py-4",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl font-display font-semibold text-stone-200",children:"System Architecture"}),_.jsx("p",{className:"text-sm text-stone-400",children:"TERRA - Terrain & Equipment Route Resource Advisor"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(f0e,{size:20,className:"text-accent-amber"}),_.jsx("span",{className:"text-sm text-stone-400",children:"v1.0.0"})]})]})}),_.jsx("div",{className:"flex-1 overflow-auto p-6",children:_.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[_.jsxs("div",{className:"card p-6",children:[_.jsxs("h2",{className:"text-lg font-semibold text-stone-200 mb-6 flex items-center gap-2",children:[_.jsx(uK,{size:20,className:"text-accent-amber"}),"Architecture Overview"]}),_.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[_.jsxs("div",{className:"card p-4 border-accent-cyan/30",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[_.jsx(p0e,{size:18,className:"text-accent-cyan"}),_.jsx("span",{className:"font-medium text-stone-200",children:"Frontend"})]}),_.jsxs("ul",{className:"text-xs text-stone-400 space-y-1",children:[_.jsx("li",{children:" React + TypeScript"}),_.jsx("li",{children:" Vite + Tailwind CSS"}),_.jsx("li",{children:" Real-time WebSocket"}),_.jsx("li",{children:" Recharts visualization"})]})]}),_.jsxs("div",{className:"card p-4 border-accent-amber/30",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[_.jsx(w0e,{size:18,className:"text-accent-amber"}),_.jsx("span",{className:"font-medium text-stone-200",children:"Backend"})]}),_.jsxs("ul",{className:"text-xs text-stone-400 space-y-1",children:[_.jsx("li",{children:" FastAPI (Python)"}),_.jsx("li",{children:" Multi-agent orchestration"}),_.jsx("li",{children:" Snowpark integration"}),_.jsx("li",{children:" OAuth token auth"})]})]}),_.jsxs("div",{className:"card p-4 border-purple-500/30",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[_.jsx(xp,{size:18,className:"text-purple-400"}),_.jsx("span",{className:"font-medium text-stone-200",children:"Cortex AI"})]}),_.jsxs("ul",{className:"text-xs text-stone-400 space-y-1",children:[_.jsx("li",{children:" Cortex Analyst (SQL)"}),_.jsx("li",{children:" Cortex Search (RAG)"}),_.jsx("li",{children:" Cortex LLM (reasoning)"}),_.jsx("li",{children:" ML Model Registry"})]})]}),_.jsxs("div",{className:"card p-4 border-accent-emerald/30",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[_.jsx(zy,{size:18,className:"text-accent-emerald"}),_.jsx("span",{className:"font-medium text-stone-200",children:"Snowflake"})]}),_.jsxs("ul",{className:"text-xs text-stone-400 space-y-1",children:[_.jsx("li",{children:" CONSTRUCTION_GEO_DB"}),_.jsx("li",{children:" Snowpark Container Services"}),_.jsx("li",{children:" Time Travel & Cloning"}),_.jsx("li",{children:" Native ML Functions"})]})]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[_.jsxs("div",{className:"card p-6",children:[_.jsxs("h2",{className:"text-lg font-semibold text-stone-200 mb-4 flex items-center gap-2",children:[_.jsx(Vw,{size:20,className:"text-accent-emerald"}),"Data Architecture"]}),_.jsx("div",{className:"space-y-3",children:e.map((r,i)=>_.jsxs("div",{className:"flex items-center gap-4 p-3 bg-earth-700/30 rounded-lg",children:[_.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-emerald/10 flex items-center justify-center",children:_.jsx(r.icon,{size:18,className:"text-accent-emerald"})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-mono text-sm text-stone-200",children:r.name}),_.jsx("p",{className:"text-xs text-stone-500",children:r.description})]})]},i))})]}),_.jsxs("div",{className:"card p-6",children:[_.jsxs("h2",{className:"text-lg font-semibold text-stone-200 mb-4 flex items-center gap-2",children:[_.jsx(cK,{size:20,className:"text-accent-amber"}),"Agent System"]}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"p-4 bg-accent-amber/10 border border-accent-amber/30 rounded-lg",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx(pN,{size:16,className:"text-accent-amber"}),_.jsx("span",{className:"font-medium text-stone-200",children:"Orchestrator"})]}),_.jsx("p",{className:"text-xs text-stone-400",children:"Intent classification and agent routing"})]}),t.map((r,i)=>_.jsxs("div",{className:`p-3 ${r.bgColor} border ${r.borderColor} rounded-lg`,children:[_.jsx("p",{className:`font-medium text-sm ${r.color}`,children:r.name}),_.jsx("p",{className:"text-xs text-stone-500",children:r.description})]},i))]})]})]}),_.jsxs("div",{className:"card p-6",children:[_.jsxs("h2",{className:"text-lg font-semibold text-stone-200 mb-4 flex items-center gap-2",children:[_.jsx(xp,{size:20,className:"text-purple-400"}),"ML Models"]}),_.jsx("div",{className:"grid grid-cols-3 gap-4",children:n.map((r,i)=>_.jsxs("div",{className:"p-4 bg-purple-500/5 border border-purple-500/20 rounded-lg",children:[_.jsx("h3",{className:"font-medium text-stone-200 mb-1",children:r.name}),_.jsx("p",{className:"text-xs text-stone-500 mb-3",children:r.type}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-xs text-stone-500",children:r.accuracy?"Accuracy":"R Score"}),_.jsx("span",{className:"font-mono text-sm text-purple-400",children:r.accuracy||r.r2})]})]},i))})]}),_.jsxs("div",{className:"card p-6",children:[_.jsxs("h2",{className:"text-lg font-semibold text-stone-200 mb-4 flex items-center gap-2",children:[_.jsx($v,{size:20,className:"text-accent-cyan"}),"Hidden Discovery: Ghost Cycles"]}),_.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[_.jsxs("div",{className:"text-center p-4 bg-earth-700/30 rounded-lg",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-amber/10 flex items-center justify-center mx-auto mb-2",children:_.jsx(zy,{size:20,className:"text-accent-amber"})}),_.jsx("p",{className:"text-sm font-medium text-stone-300",children:"1. GPS + Telematics"}),_.jsx("p",{className:"text-xs text-stone-500 mt-1",children:"Speed, engine load, fuel rate streaming"})]}),_.jsxs("div",{className:"text-center p-4 bg-earth-700/30 rounded-lg",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-amber/10 flex items-center justify-center mx-auto mb-2",children:_.jsx(xp,{size:20,className:"text-accent-amber"})}),_.jsx("p",{className:"text-sm font-medium text-stone-300",children:"2. ML Detection"}),_.jsx("p",{className:"text-xs text-stone-500 mt-1",children:"XGBoost identifies speed/load anomalies"})]}),_.jsxs("div",{className:"text-center p-4 bg-earth-700/30 rounded-lg",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-500/10 flex items-center justify-center mx-auto mb-2",children:_.jsx(pN,{size:20,className:"text-orange-400"})}),_.jsx("p",{className:"text-sm font-medium text-stone-300",children:"3. Ghost Cycle Alert"}),_.jsx("p",{className:"text-xs text-stone-500 mt-1",children:"Moving without productive work detected"})]}),_.jsxs("div",{className:"text-center p-4 bg-earth-700/30 rounded-lg",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-emerald/10 flex items-center justify-center mx-auto mb-2",children:_.jsx(Gw,{size:20,className:"text-accent-emerald"})}),_.jsx("p",{className:"text-sm font-medium text-stone-300",children:"4. Fuel Savings"}),_.jsx("p",{className:"text-xs text-stone-500 mt-1",children:"Actionable insight: reassign equipment"})]})]}),_.jsx("div",{className:"mt-6 p-4 bg-orange-500/5 border border-orange-500/20 rounded-lg",children:_.jsxs("p",{className:"text-sm text-stone-300",children:[_.jsx("span",{className:"font-semibold text-orange-400",children:" Discovery:"})," Ghost Cycles represent equipment that appears active but is actually idling or taking inefficient routes. By correlating GPS speed with engine load, we uncover hidden fuel waste invisible to traditional monitoring."]})})]})]})})]})}function uvt(){const[e,t]=X.useState("landing");if(e==="landing")return _.jsx(L0e,{onNavigate:t});const n=()=>{switch(e){case"regional":return _.jsx(QB,{});case"siteops":return _.jsx(fVe,{});case"equipment":return _.jsx(hVe,{});case"earthwork":return _.jsx(rvt,{});case"ghost":return _.jsx(ivt,{});case"brief":return _.jsx(avt,{});case"docs":return _.jsx(svt,{});case"architecture":return _.jsx(lvt,{});default:return _.jsx(QB,{})}};return _.jsx(j0e,{currentPage:e,onNavigate:t,children:n()})}xT.createRoot(document.getElementById("root")).render(_.jsx(H.StrictMode,{children:_.jsx(uvt,{})}));
